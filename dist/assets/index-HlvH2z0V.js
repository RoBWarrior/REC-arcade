(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var im={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function mS(){if(A_)return Ml;A_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var N_;function gS(){return N_||(N_=1,im.exports=mS()),im.exports}var m=gS(),rm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function pS(){if(R_)return Ae;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function F(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function ie(I,q,ne){this.props=I,this.context=q,this.refs=Y,this.updater=ne||$}ie.prototype.isReactComponent={},ie.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},ie.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function de(){}de.prototype=ie.prototype;function ce(I,q,ne){this.props=I,this.context=q,this.refs=Y,this.updater=ne||$}var me=ce.prototype=new de;me.constructor=ce,W(me,ie.prototype),me.isPureReactComponent=!0;var Re=Array.isArray;function we(){}var w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(I,q,ne){var ae=ne.ref;return{$$typeof:i,type:I,key:q,ref:ae!==void 0?ae:null,props:ne}}function L(I,q){return D(I.type,q,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function k(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return q[ne]})}var R=/\/+/g;function ve(I,q){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):q.toString(36)}function De(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(we,we):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function C(I,q,ne,ae,ye){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var Me=!1;if(I===null)Me=!0;else switch(xe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(I.$$typeof){case i:case e:Me=!0;break;case b:return Me=I._init,C(Me(I._payload),q,ne,ae,ye)}}if(Me)return ye=ye(I),Me=ae===""?"."+ve(I,0):ae,Re(ye)?(ne="",Me!=null&&(ne=Me.replace(R,"$&/")+"/"),C(ye,q,ne,"",function(yr){return yr})):ye!=null&&(O(ye)&&(ye=L(ye,ne+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Me)),q.push(ye)),1;Me=0;var Dt=ae===""?".":ae+":";if(Re(I))for(var ot=0;ot<I.length;ot++)ae=I[ot],xe=Dt+ve(ae,ot),Me+=C(ae,q,ne,xe,ye);else if(ot=F(I),typeof ot=="function")for(I=ot.call(I),ot=0;!(ae=I.next()).done;)ae=ae.value,xe=Dt+ve(ae,ot++),Me+=C(ae,q,ne,xe,ye);else if(xe==="object"){if(typeof I.then=="function")return C(De(I),q,ne,ae,ye);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function V(I,q,ne){if(I==null)return I;var ae=[],ye=0;return C(I,ae,"","",function(xe){return q.call(ne,xe,ye++)}),ae}function P(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},be={map:V,forEach:function(I,q,ne){V(I,function(){q.apply(this,arguments)},ne)},count:function(I){var q=0;return V(I,function(){q++}),q},toArray:function(I){return V(I,function(q){return q})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ae.Activity=x,Ae.Children=be,Ae.Component=ie,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ce,Ae.StrictMode=r,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(I){return w.H.useMemoCache(I)}},Ae.cache=function(I){return function(){return I.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(I,q,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=W({},I.props),ye=I.key;if(q!=null)for(xe in q.key!==void 0&&(ye=""+q.key),q)!N.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(ae[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ne;else if(1<xe){for(var Me=Array(xe),Dt=0;Dt<xe;Dt++)Me[Dt]=arguments[Dt+2];ae.children=Me}return D(I.type,ye,ae)},Ae.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ae.createElement=function(I,q,ne){var ae,ye={},xe=null;if(q!=null)for(ae in q.key!==void 0&&(xe=""+q.key),q)N.call(q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=q[ae]);var Me=arguments.length-2;if(Me===1)ye.children=ne;else if(1<Me){for(var Dt=Array(Me),ot=0;ot<Me;ot++)Dt[ot]=arguments[ot+2];ye.children=Dt}if(I&&I.defaultProps)for(ae in Me=I.defaultProps,Me)ye[ae]===void 0&&(ye[ae]=Me[ae]);return D(I,xe,ye)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(I){return{$$typeof:g,render:I}},Ae.isValidElement=O,Ae.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:P}},Ae.memo=function(I,q){return{$$typeof:_,type:I,compare:q===void 0?null:q}},Ae.startTransition=function(I){var q=w.T,ne={};w.T=ne;try{var ae=I(),ye=w.S;ye!==null&&ye(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(we,le)}catch(xe){le(xe)}finally{q!==null&&ne.types!==null&&(q.types=ne.types),w.T=q}},Ae.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ae.use=function(I){return w.H.use(I)},Ae.useActionState=function(I,q,ne){return w.H.useActionState(I,q,ne)},Ae.useCallback=function(I,q){return w.H.useCallback(I,q)},Ae.useContext=function(I){return w.H.useContext(I)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(I,q){return w.H.useDeferredValue(I,q)},Ae.useEffect=function(I,q){return w.H.useEffect(I,q)},Ae.useEffectEvent=function(I){return w.H.useEffectEvent(I)},Ae.useId=function(){return w.H.useId()},Ae.useImperativeHandle=function(I,q,ne){return w.H.useImperativeHandle(I,q,ne)},Ae.useInsertionEffect=function(I,q){return w.H.useInsertionEffect(I,q)},Ae.useLayoutEffect=function(I,q){return w.H.useLayoutEffect(I,q)},Ae.useMemo=function(I,q){return w.H.useMemo(I,q)},Ae.useOptimistic=function(I,q){return w.H.useOptimistic(I,q)},Ae.useReducer=function(I,q,ne){return w.H.useReducer(I,q,ne)},Ae.useRef=function(I){return w.H.useRef(I)},Ae.useState=function(I){return w.H.useState(I)},Ae.useSyncExternalStore=function(I,q,ne){return w.H.useSyncExternalStore(I,q,ne)},Ae.useTransition=function(){return w.H.useTransition()},Ae.version="19.2.0",Ae}var I_;function tg(){return I_||(I_=1,rm.exports=pS()),rm.exports}var re=tg(),am={exports:{}},kl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function yS(){return C_||(C_=1,(function(i){function e(C,V){var P=C.length;C.push(V);e:for(;0<P;){var le=P-1>>>1,be=C[le];if(0<o(be,V))C[le]=V,C[P]=be,P=le;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var V=C[0],P=C.pop();if(P!==V){C[0]=P;e:for(var le=0,be=C.length,I=be>>>1;le<I;){var q=2*(le+1)-1,ne=C[q],ae=q+1,ye=C[ae];if(0>o(ne,P))ae<be&&0>o(ye,ne)?(C[le]=ye,C[ae]=P,le=ae):(C[le]=ne,C[q]=P,le=q);else if(ae<be&&0>o(ye,P))C[le]=ye,C[ae]=P,le=ae;else break e}}return V}function o(C,V){var P=C.sortIndex-V.sortIndex;return P!==0?P:C.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var y=[],_=[],b=1,x=null,A=3,F=!1,$=!1,W=!1,Y=!1,ie=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function me(C){for(var V=n(_);V!==null;){if(V.callback===null)r(_);else if(V.startTime<=C)r(_),V.sortIndex=V.expirationTime,e(y,V);else break;V=n(_)}}function Re(C){if(W=!1,me(C),!$)if(n(y)!==null)$=!0,we||(we=!0,k());else{var V=n(_);V!==null&&De(Re,V.startTime-C)}}var we=!1,w=-1,N=5,D=-1;function L(){return Y?!0:!(i.unstable_now()-D<N)}function O(){if(Y=!1,we){var C=i.unstable_now();D=C;var V=!0;try{e:{$=!1,W&&(W=!1,de(w),w=-1),F=!0;var P=A;try{t:{for(me(C),x=n(y);x!==null&&!(x.expirationTime>C&&L());){var le=x.callback;if(typeof le=="function"){x.callback=null,A=x.priorityLevel;var be=le(x.expirationTime<=C);if(C=i.unstable_now(),typeof be=="function"){x.callback=be,me(C),V=!0;break t}x===n(y)&&r(y),me(C)}else r(y);x=n(y)}if(x!==null)V=!0;else{var I=n(_);I!==null&&De(Re,I.startTime-C),V=!1}}break e}finally{x=null,A=P,F=!1}V=void 0}}finally{V?k():we=!1}}}var k;if(typeof ce=="function")k=function(){ce(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ve=R.port2;R.port1.onmessage=O,k=function(){ve.postMessage(null)}}else k=function(){ie(O,0)};function De(C,V){w=ie(function(){C(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(C){switch(A){case 1:case 2:case 3:var V=3;break;default:V=A}var P=A;A=V;try{return C()}finally{A=P}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=A;A=C;try{return V()}finally{A=P}},i.unstable_scheduleCallback=function(C,V,P){var le=i.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?le+P:le):P=le,C){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=P+be,C={id:b++,callback:V,priorityLevel:C,startTime:P,expirationTime:be,sortIndex:-1},P>le?(C.sortIndex=P,e(_,C),n(y)===null&&C===n(_)&&(W?(de(w),w=-1):W=!0,De(Re,P-le))):(C.sortIndex=be,e(y,C),$||F||($=!0,we||(we=!0,k()))),C},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(C){var V=A;return function(){var P=A;A=V;try{return C.apply(this,arguments)}finally{A=P}}}})(lm)),lm}var D_;function _S(){return D_||(D_=1,om.exports=yS()),om.exports}var cm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function vS(){if(O_)return $t;O_=1;var i=tg();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},$t.flushSync=function(y){var _=f.T,b=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=_,r.p=b,r.d.f()}},$t.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,x=g(b,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:F}):b==="script"&&r.d.X(y,{crossOrigin:x,integrity:A,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},$t.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,x=g(b,_.crossOrigin);r.d.L(y,b,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,_){return y(_)},$t.useFormState=function(y,_,b){return f.H.useFormState(y,_,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var M_;function ES(){if(M_)return cm.exports;M_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=vS(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function bS(){if(k_)return kl;k_=1;var i=_S(),e=tg(),n=ES();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ie:return"Profiler";case Y:return"StrictMode";case Re:return"Suspense";case we:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ce:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return s=t.displayName||null,s!==null?s:ve(t.type)||"Memo";case N:s=t._payload,t=t._init;try{return ve(t(s))}catch{}}return null}var De=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},le=[],be=-1;function I(t){return{current:t}}function q(t){0>be||(t.current=le[be],le[be]=null,be--)}function ne(t,s){be++,le[be]=t.current,t.current=s}var ae=I(null),ye=I(null),xe=I(null),Me=I(null);function Dt(t,s){switch(ne(xe,s),ne(ye,t),ne(ae,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?$0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=$0(s),t=X0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(ae),ne(ae,t)}function ot(){q(ae),q(ye),q(xe)}function yr(t){t.memoizedState!==null&&ne(Me,t);var s=ae.current,a=X0(s,t.type);s!==a&&(ne(ye,t),ne(ae,a))}function ha(t){ye.current===t&&(q(ae),q(ye)),Me.current===t&&(q(Me),Il._currentValue=P)}var fa,da;function hs(t){if(fa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var Io=!1;function _r(t,s){if(!t||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var M=v.split(`
`),H=T.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===H.length)for(l=M.length-1,h=H.length-1;1<=l&&0<=h&&M[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==H[h]){var X=`
`+M[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hs(a):""}function Co(t,s){switch(t.tag){case 26:case 27:case 5:return hs(t.type);case 16:return hs("Lazy");case 13:return t.child!==s&&s!==null?hs("Suspense Fallback"):hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return _r(t.type,!1);case 11:return _r(t.type.render,!1);case 1:return _r(t.type,!0);case 31:return hs("Activity");default:return""}}function Do(t){try{var s="",a=null;do s+=Co(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,_i=i.unstable_cancelCallback,af=i.unstable_shouldYield,pc=i.unstable_requestPaint,en=i.unstable_now,vr=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,Mo=i.unstable_UserBlockingPriority,vi=i.unstable_NormalPriority,of=i.unstable_LowPriority,yc=i.unstable_IdlePriority,_c=i.log,vc=i.unstable_setDisableYieldValue,Yn=null,zt=null;function In(t){if(typeof _c=="function"&&vc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Yn,t)}catch{}}var dt=Math.clz32?Math.clz32:bc,Ec=Math.log,ma=Math.LN2;function bc(t){return t>>>=0,t===0?32:31-(Ec(t)/ma|0)|0}var fs=256,Er=262144,Et=4194304;function ds(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ms(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ds(l):(v&=T,v!==0?h=ds(v):a||(a=T&~t,a!==0&&(h=ds(a))))):(T=l&~d,T!==0?h=ds(T):v!==0?h=ds(v):a||(a=l&~t,a!==0&&(h=ds(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function Kn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function lf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function gs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function br(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,s,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-dt(a),ee=1<<X;T[X]=0,M[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~s))}function Tr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-dt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function jo(t,s){var a=s&-s;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|s))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xc(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function Qn(t,s){var a=V.p;try{return V.p=t,s()}finally{V.p=a}}var $n=Math.random().toString(36).slice(2),bt="__reactFiber$"+$n,jt="__reactProps$"+$n,ps="__reactContainer$"+$n,ga="__reactEvents$"+$n,uf="__reactListeners$"+$n,Sc="__reactHandles$"+$n,wc="__reactResources$"+$n,ys="__reactMarker$"+$n;function pa(t){delete t[bt],delete t[jt],delete t[ga],delete t[uf],delete t[Sc]}function _s(t){var s=t[bt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ps]||a[bt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[bt])return a;t=s_(t)}return s}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[bt]||t[ps]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function _n(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function vs(t){var s=t[wc];return s||(s=t[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(t){t[ys]=!0}var Vo=new Set,Lo={};function Es(t,s){bs(t,s),bs(t+"Capture",s)}function bs(t,s){for(Lo[t]=s,t=0;t<s.length;t++)Vo.add(s[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},zo={};function Ac(t){return vt.call(zo,t)?!0:vt.call(Po,t)?!1:Uo.test(t)?zo[t]=!0:(Po[t]=!0,!1)}function ya(t,s,a){if(Ac(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function xt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ei(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function $e(t){if(!t._valueTracker){var s=Ei(t)?"checked":"value";t._valueTracker=Bo(t,s,""+t[s])}}function Sr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Ei(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wr=/[\n"\\]/g;function rn(t){return t.replace(wr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _a(t,s,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Vt(s)):t.value!==""+Vt(s)&&(t.value=""+Vt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Ho(t,v,Vt(s)):a!=null?Ho(t,v,Vt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Vt(T):t.removeAttribute("name")}function Nc(t,s,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){$e(t);return}a=a!=null?""+Vt(a):"",s=s!=null?""+Vt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Ho(t,s,a){s==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bi(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Vt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Rc(t,s,a){if(s!=null&&(s=""+Vt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Vt(a):""}function Ti(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(De(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Vt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function an(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Ic.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Fo(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in s)s.hasOwnProperty(d)&&qo(t,d,s[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Go=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,xs=null;function Ar(t){var s=Cn(t);if(s&&(t=s.stateNode)){var a=t[jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(r(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Sr(l)}break e;case"textarea":Rc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&bi(t,!!a.multiple,s,!1)}}}var ba=!1;function wi(t,s,a){if(ba)return t(s,a);ba=!0;try{var l=t(s);return l}finally{if(ba=!1,(Si!==null||xs!==null)&&(xu(),Si&&(s=Si,t=xs,xs=Si=null,Ar(s),t)))for(s=0;s<t.length;s++)Ar(t[s])}}function Wn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Nr=!1}var Ss=null,Yo=null,Rr=null;function Ko(){if(Rr)return Rr;var t,s=Yo,a=s.length,l,h="value"in Ss?Ss.value:Ss.textContent,d=h.length;for(t=0;t<a&&s[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===h[d-l];l++);return Rr=h.slice(t,1<l?1-l:void 0)}function Ir(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function Jn(){return!1}function Bt(t){function s(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ys:Jn,this.isPropagationStopped=Jn,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Bt(Ks),Ai=x({},Ks,{view:0,detail:0}),Qo=Bt(Ai),Ni,Ta,As,xa=x({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(Ni=t.screenX-As.screenX,Ta=t.screenY-As.screenY):Ta=Ni=0,As=t),Ni)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),$o=Bt(xa),Cr=x({},xa,{dataTransfer:0}),Dc=Bt(Cr),Oc=x({},Ai,{relatedTarget:0}),Dr=Bt(Oc),Xo=x({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=Bt(Xo),Sa=x({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kc=Bt(Sa),jc=x({},Ks,{data:0}),Ns=Bt(jc),Vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Uc[t])?!!s[t]:!1}function Ri(){return Pc}var tn=x({},Ai,{key:function(t){if(t.key){var s=Vc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zc=Bt(tn),Bc=x({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Bt(Bc),u=x({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),p=Bt(u),E=x({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(E),z=x({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Bt(z),se=x({},Ks,{newState:0,oldState:0}),Ie=Bt(se),mt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,Rs=On&&(!Ge||lt&&8<lt&&11>=lt),Zn=" ",es=!1;function Or(t,s){switch(t){case"keyup":return mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function U1(t,s){switch(t){case"compositionend":return wa(s);case"keypress":return s.which!==32?null:(es=!0,Zn);case"textInput":return t=s.data,t===Zn&&es?null:t;default:return null}}function P1(t,s){if(Aa)return t==="compositionend"||!Ge&&Or(t,s)?(t=Ko(),Rr=Yo=Ss=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rs&&s.locale!=="ko"?null:s.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!z1[t.type]:s==="textarea"}function op(t,s,a,l){Si?xs?xs.push(l):xs=[l]:Si=l,s=Cu(s,"onChange"),0<s.length&&(a=new ws("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Wo=null,Jo=null;function B1(t){q0(t,0)}function Hc(t){var s=_n(t);if(Sr(s))return t}function lp(t,s){if(t==="change")return s}var cp=!1;if(On){var hf;if(On){var ff="oninput"in document;if(!ff){var up=document.createElement("div");up.setAttribute("oninput","return;"),ff=typeof up.oninput=="function"}hf=ff}else hf=!1;cp=hf&&(!document.documentMode||9<document.documentMode)}function hp(){Wo&&(Wo.detachEvent("onpropertychange",fp),Jo=Wo=null)}function fp(t){if(t.propertyName==="value"&&Hc(Jo)){var s=[];op(s,Jo,t,Dn(t)),wi(B1,s)}}function H1(t,s,a){t==="focusin"?(hp(),Wo=s,Jo=a,Wo.attachEvent("onpropertychange",fp)):t==="focusout"&&hp()}function q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hc(Jo)}function F1(t,s){if(t==="click")return Hc(s)}function G1(t,s){if(t==="input"||t==="change")return Hc(s)}function Y1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var En=typeof Object.is=="function"?Object.is:Y1;function Zo(t,s){if(En(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(s,h)||!En(t[h],s[h]))return!1}return!0}function dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mp(t,s){var a=dp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dp(a)}}function gp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?gp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ts(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ts(t.document)}return s}function df(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var K1=On&&"documentMode"in document&&11>=document.documentMode,Na=null,mf=null,el=null,gf=!1;function yp(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Na==null||Na!==Ts(l)||(l=Na,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=Cu(mf,"onSelect"),0<l.length&&(s=new ws("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Na)))}function Mr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ra={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},pf={},_p={};On&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function kr(t){if(pf[t])return pf[t];if(!Ra[t])return t;var s=Ra[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in _p)return pf[t]=s[a];return t}var vp=kr("animationend"),Ep=kr("animationiteration"),bp=kr("animationstart"),Q1=kr("transitionrun"),$1=kr("transitionstart"),X1=kr("transitioncancel"),Tp=kr("transitionend"),xp=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ts(t,s){xp.set(t,s),Es(s,[t])}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Ia=0,_f=0;function Fc(){for(var t=Ia,s=_f=Ia=0;s<t;){var a=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var h=kn[s];kn[s++]=null;var d=kn[s];if(kn[s++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Sp(a,h,d)}}function Gc(t,s,a,l){kn[Ia++]=t,kn[Ia++]=s,kn[Ia++]=a,kn[Ia++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,s,a,l){return Gc(t,s,a,l),Yc(t)}function jr(t,s){return Gc(t,null,null,s),Yc(t)}function Sp(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&s!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function Yc(t){if(50<Tl)throw Tl=0,Rd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ca={};function W1(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,s,a,l){return new W1(t,s,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $s(t,s){var a=t.alternate;return a===null?(a=bn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wp(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Kc(t,s,a,l,h,d){var v=0;if(l=t,typeof t=="function")Ef(t)&&(v=1);else if(typeof t=="string")v=nS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=bn(31,a,s,h),t.elementType=D,t.lanes=d,t;case W:return Vr(a.children,h,d,s);case Y:v=8,h|=24;break;case ie:return t=bn(12,a,s,h|2),t.elementType=ie,t.lanes=d,t;case Re:return t=bn(13,a,s,h),t.elementType=Re,t.lanes=d,t;case we:return t=bn(19,a,s,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:v=10;break e;case de:v=9;break e;case me:v=11;break e;case w:v=14;break e;case N:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=bn(v,a,s,h),s.elementType=t,s.type=l,s.lanes=d,s}function Vr(t,s,a,l){return t=bn(7,t,l,s),t.lanes=a,t}function bf(t,s,a){return t=bn(6,t,null,s),t.lanes=a,t}function Ap(t){var s=bn(18,null,null,0);return s.stateNode=t,s}function Tf(t,s,a){return s=bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Np=new WeakMap;function jn(t,s){if(typeof t=="object"&&t!==null){var a=Np.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Do(s)},Np.set(t,s),s)}return{value:t,source:s,stack:Do(s)}}var Da=[],Oa=0,Qc=null,tl=0,Vn=[],Ln=0,Ii=null,Is=1,Cs="";function Xs(t,s){Da[Oa++]=tl,Da[Oa++]=Qc,Qc=t,tl=s}function Rp(t,s,a){Vn[Ln++]=Is,Vn[Ln++]=Cs,Vn[Ln++]=Ii,Ii=t;var l=Is;t=Cs;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(s)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Is=1<<32-dt(s)+h|a<<h|l,Cs=d+t}else Is=1<<d|a<<h|l,Cs=t}function xf(t){t.return!==null&&(Xs(t,1),Rp(t,1,0))}function Sf(t){for(;t===Qc;)Qc=Da[--Oa],Da[Oa]=null,tl=Da[--Oa],Da[Oa]=null;for(;t===Ii;)Ii=Vn[--Ln],Vn[Ln]=null,Cs=Vn[--Ln],Vn[Ln]=null,Is=Vn[--Ln],Vn[Ln]=null}function Ip(t,s){Vn[Ln++]=Is,Vn[Ln++]=Cs,Vn[Ln++]=Ii,Is=s.id,Cs=s.overflow,Ii=t}var Ht=null,it=null,Be=!1,Ci=null,Un=!1,wf=Error(r(519));function Di(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(jn(s,t)),wf}function Cp(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[bt]=t,s[jt]=l,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<Sl.length;a++)je(Sl[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Nc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Ti(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||K0(s.textContent,a)?(l.popover!=null&&(je("beforetoggle",s),je("toggle",s)),l.onScroll!=null&&je("scroll",s),l.onScrollEnd!=null&&je("scrollend",s),l.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||Di(t,!0)}function Dp(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function Ma(t){if(t!==Ht)return!1;if(!Be)return Dp(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&it&&Di(t),Dp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=n_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=n_(t)}else s===27?(s=it,Gi(t.type)?(t=Qd,Qd=null,it=t):it=s):it=Ht?zn(t.stateNode.nextSibling):null;return!0}function Lr(){it=Ht=null,Be=!1}function Af(){var t=Ci;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ci=null),t}function nl(t){Ci===null?Ci=[t]:Ci.push(t)}var Nf=I(null),Ur=null,Ws=null;function Oi(t,s,a){ne(Nf,s._currentValue),s._currentValue=a}function Js(t){t._currentValue=Nf.current,q(Nf)}function Rf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function If(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var M=0;M<s.length;M++)if(T.context===s[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ka(t,s,a,l){t=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Me.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&If(s,t,a,l),s.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Ur=t,Ws=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Op(Ur,t)}function Xc(t,s){return Ur===null&&Pr(t),Op(t,s)}function Op(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ws===null){if(t===null)throw Error(r(308));Ws=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ws=Ws.next=s;return a}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Z1=i.unstable_scheduleCallback,ex=i.unstable_NormalPriority,St={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new J1,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Z1(ex,function(){t.controller.abort()})}var il=null,Df=0,ja=0,Va=null;function tx(t,s){if(il===null){var a=il=[];Df=0,ja=kd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,s.then(Mp,Mp),s}function Mp(){if(--Df===0&&il!==null){Va!==null&&(Va.status="fulfilled");var t=il;il=null,ja=0,Va=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function nx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kp=C.S;C.S=function(t,s){y0=en(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&tx(t,s),kp!==null&&kp(t,s)};var zr=I(null);function Of(){var t=zr.current;return t!==null?t:nt.pooledCache}function Wc(t,s){s===null?ne(zr,zr.current):ne(zr,s.pool)}function jp(){var t=Of();return t===null?null:{parent:St._currentValue,pool:t}}var La=Error(r(460)),Mf=Error(r(474)),Jc=Error(r(542)),Zc={then:function(){}};function Vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Xn,Xn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Pp(t),t;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Pp(t),t}throw Hr=s,La}}function Br(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,La):a}}var Hr=null;function Up(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function Pp(t){if(t===La||t===Jc)throw Error(r(483))}var Ua=null,rl=0;function eu(t){var s=rl;return rl+=1,Ua===null&&(Ua=[]),Lp(Ua,t,s)}function al(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function tu(t,s){throw s.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function zp(t){function s(U,j){if(t){var B=U.deletions;B===null?(U.deletions=[j],U.flags|=16):B.push(j)}}function a(U,j){if(!t)return null;for(;j!==null;)s(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=$s(U,j),U.index=0,U.sibling=null,U}function d(U,j,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<j?(U.flags|=67108866,j):B):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,j,B,J){return j===null||j.tag!==6?(j=bf(B,U.mode,J),j.return=U,j):(j=h(j,B),j.return=U,j)}function M(U,j,B,J){var ge=B.type;return ge===W?X(U,j,B.props.children,J,B.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Br(ge)===j.type)?(j=h(j,B.props),al(j,B),j.return=U,j):(j=Kc(B.type,B.key,B.props,null,U.mode,J),al(j,B),j.return=U,j)}function H(U,j,B,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=Tf(B,U.mode,J),j.return=U,j):(j=h(j,B.children||[]),j.return=U,j)}function X(U,j,B,J,ge){return j===null||j.tag!==7?(j=Vr(B,U.mode,J,ge),j.return=U,j):(j=h(j,B),j.return=U,j)}function ee(U,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=bf(""+j,U.mode,B),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return B=Kc(j.type,j.key,j.props,null,U.mode,B),al(B,j),B.return=U,B;case $:return j=Tf(j,U.mode,B),j.return=U,j;case N:return j=Br(j),ee(U,j,B)}if(De(j)||k(j))return j=Vr(j,U.mode,B,null),j.return=U,j;if(typeof j.then=="function")return ee(U,eu(j),B);if(j.$$typeof===ce)return ee(U,Xc(U,j),B);tu(U,j)}return null}function G(U,j,B,J){var ge=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:T(U,j,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return B.key===ge?M(U,j,B,J):null;case $:return B.key===ge?H(U,j,B,J):null;case N:return B=Br(B),G(U,j,B,J)}if(De(B)||k(B))return ge!==null?null:X(U,j,B,J,null);if(typeof B.then=="function")return G(U,j,eu(B),J);if(B.$$typeof===ce)return G(U,j,Xc(U,B),J);tu(U,B)}return null}function Q(U,j,B,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,T(j,U,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case F:return U=U.get(J.key===null?B:J.key)||null,M(j,U,J,ge);case $:return U=U.get(J.key===null?B:J.key)||null,H(j,U,J,ge);case N:return J=Br(J),Q(U,j,B,J,ge)}if(De(J)||k(J))return U=U.get(B)||null,X(j,U,J,ge,null);if(typeof J.then=="function")return Q(U,j,B,eu(J),ge);if(J.$$typeof===ce)return Q(U,j,B,Xc(j,J),ge);tu(j,J)}return null}function he(U,j,B,J){for(var ge=null,qe=null,fe=j,Oe=j=0,Le=null;fe!==null&&Oe<B.length;Oe++){fe.index>Oe?(Le=fe,fe=null):Le=fe.sibling;var Fe=G(U,fe,B[Oe],J);if(Fe===null){fe===null&&(fe=Le);break}t&&fe&&Fe.alternate===null&&s(U,fe),j=d(Fe,j,Oe),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,fe=Le}if(Oe===B.length)return a(U,fe),Be&&Xs(U,Oe),ge;if(fe===null){for(;Oe<B.length;Oe++)fe=ee(U,B[Oe],J),fe!==null&&(j=d(fe,j,Oe),qe===null?ge=fe:qe.sibling=fe,qe=fe);return Be&&Xs(U,Oe),ge}for(fe=l(fe);Oe<B.length;Oe++)Le=Q(fe,U,Oe,B[Oe],J),Le!==null&&(t&&Le.alternate!==null&&fe.delete(Le.key===null?Oe:Le.key),j=d(Le,j,Oe),qe===null?ge=Le:qe.sibling=Le,qe=Le);return t&&fe.forEach(function(Xi){return s(U,Xi)}),Be&&Xs(U,Oe),ge}function _e(U,j,B,J){if(B==null)throw Error(r(151));for(var ge=null,qe=null,fe=j,Oe=j=0,Le=null,Fe=B.next();fe!==null&&!Fe.done;Oe++,Fe=B.next()){fe.index>Oe?(Le=fe,fe=null):Le=fe.sibling;var Xi=G(U,fe,Fe.value,J);if(Xi===null){fe===null&&(fe=Le);break}t&&fe&&Xi.alternate===null&&s(U,fe),j=d(Xi,j,Oe),qe===null?ge=Xi:qe.sibling=Xi,qe=Xi,fe=Le}if(Fe.done)return a(U,fe),Be&&Xs(U,Oe),ge;if(fe===null){for(;!Fe.done;Oe++,Fe=B.next())Fe=ee(U,Fe.value,J),Fe!==null&&(j=d(Fe,j,Oe),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Be&&Xs(U,Oe),ge}for(fe=l(fe);!Fe.done;Oe++,Fe=B.next())Fe=Q(fe,U,Oe,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Oe:Fe.key),j=d(Fe,j,Oe),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return t&&fe.forEach(function(dS){return s(U,dS)}),Be&&Xs(U,Oe),ge}function tt(U,j,B,J){if(typeof B=="object"&&B!==null&&B.type===W&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case F:e:{for(var ge=B.key;j!==null;){if(j.key===ge){if(ge=B.type,ge===W){if(j.tag===7){a(U,j.sibling),J=h(j,B.props.children),J.return=U,U=J;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Br(ge)===j.type){a(U,j.sibling),J=h(j,B.props),al(J,B),J.return=U,U=J;break e}a(U,j);break}else s(U,j);j=j.sibling}B.type===W?(J=Vr(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Kc(B.type,B.key,B.props,null,U.mode,J),al(J,B),J.return=U,U=J)}return v(U);case $:e:{for(ge=B.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){a(U,j.sibling),J=h(j,B.children||[]),J.return=U,U=J;break e}else{a(U,j);break}else s(U,j);j=j.sibling}J=Tf(B,U.mode,J),J.return=U,U=J}return v(U);case N:return B=Br(B),tt(U,j,B,J)}if(De(B))return he(U,j,B,J);if(k(B)){if(ge=k(B),typeof ge!="function")throw Error(r(150));return B=ge.call(B),_e(U,j,B,J)}if(typeof B.then=="function")return tt(U,j,eu(B),J);if(B.$$typeof===ce)return tt(U,j,Xc(U,B),J);tu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(a(U,j.sibling),J=h(j,B),J.return=U,U=J):(a(U,j),J=bf(B,U.mode,J),J.return=U,U=J),v(U)):a(U,j)}return function(U,j,B,J){try{rl=0;var ge=tt(U,j,B,J);return Ua=null,ge}catch(fe){if(fe===La||fe===Jc)throw fe;var qe=bn(29,fe,null,U.mode);return qe.lanes=J,qe.return=U,qe}finally{}}}var qr=zp(!0),Bp=zp(!1),Mi=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Yc(t),Sp(t,null,a),s}return Gc(t,l,s,a),Yc(t)}function ol(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ko(t,a)}}function Vf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Lf=!1;function ll(){if(Lf){var t=Va;if(t!==null)throw t}}function cl(t,s,a,l){Lf=!1;var h=t.updateQueue;Mi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var M=T,H=M.next;M.next=null,v===null?d=H:v.next=H,v=M;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=M))}if(d!==null){var ee=h.baseState;v=0,X=H=M=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Ve&G)===G:(l&G)===G){G!==0&&G===ja&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,_e=T;G=s;var tt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(tt,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,G=typeof he=="function"?he.call(tt,ee,G):he,G==null)break e;ee=x({},ee,G);break e;case 2:Mi=!0}}G=T.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,M=ee):X=X.next=Q,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(M=ee),h.baseState=M,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),zi|=v,t.lanes=v,t.memoizedState=ee}}function Hp(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function qp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hp(a[t],s)}var Pa=I(null),nu=I(0);function Fp(t,s){t=oi,ne(nu,t),ne(Pa,s),oi=t|s.baseLanes}function Uf(){ne(nu,oi),ne(Pa,Pa.current)}function Pf(){oi=nu.current,q(Pa),q(nu)}var Tn=I(null),Pn=null;function Vi(t){var s=t.alternate;ne(gt,gt.current&1),ne(Tn,t),Pn===null&&(s===null||Pa.current!==null||s.memoizedState!==null)&&(Pn=t)}function zf(t){ne(gt,gt.current),ne(Tn,t),Pn===null&&(Pn=t)}function Gp(t){t.tag===22?(ne(gt,gt.current),ne(Tn,t),Pn===null&&(Pn=t)):Li()}function Li(){ne(gt,gt.current),ne(Tn,Tn.current)}function xn(t){q(Tn),Pn===t&&(Pn=null),q(gt)}var gt=I(0);function su(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Kd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=0,Ce=null,Ze=null,wt=null,iu=!1,za=!1,Fr=!1,ru=0,ul=0,Ba=null,sx=0;function ht(){throw Error(r(321))}function Bf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!En(t[a],s[a]))return!1;return!0}function Hf(t,s,a,l,h,d){return Zs=d,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=t===null||t.memoizedState===null?Ry:sd,Fr=!1,d=a(l,h),Fr=!1,za&&(d=Kp(s,a,l,h)),Yp(t),d}function Yp(t){C.H=dl;var s=Ze!==null&&Ze.next!==null;if(Zs=0,wt=Ze=Ce=null,iu=!1,ul=0,Ba=null,s)throw Error(r(300));t===null||At||(t=t.dependencies,t!==null&&$c(t)&&(At=!0))}function Kp(t,s,a,l){Ce=t;var h=0;do{if(za&&(Ba=null),ul=0,za=!1,25<=h)throw Error(r(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=Iy,d=s(a,l)}while(za);return d}function ix(){var t=C.H,s=t.useState()[0];return s=typeof s.then=="function"?hl(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),s}function qf(){var t=ru!==0;return ru=0,t}function Ff(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Gf(t){if(iu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}iu=!1}Zs=0,wt=Ze=Ce=null,za=!1,ul=ru=0,Ba=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=wt===null?Ce.memoizedState:wt.next;if(s!==null)wt=s,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var s=ul;return ul+=1,Ba===null&&(Ba=[]),t=Lp(Ba,t,s),s=Ce,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Ry:sd),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ce)return qt(t)}throw Error(r(438,String(t)))}function Yf(t){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=au(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=L;return s.index++,a}function ei(t,s){return typeof s=="function"?s(t):s}function lu(t){var s=pt();return Kf(s,Ze,t)}function Kf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}s.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{s=h.next;var T=v=null,M=null,H=s,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ve&ee)===ee:(Zs&ee)===ee){var G=H.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ja&&(X=!0);else if((Zs&G)===G){H=H.next,G===ja&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=ee,v=d):M=M.next=ee,Ce.lanes|=G,zi|=G;ee=H.action,Fr&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=G,v=d):M=M.next=G,Ce.lanes|=ee,zi|=ee;H=H.next}while(H!==null&&H!==s);if(M===null?v=d:M.next=T,!En(d,t.memoizedState)&&(At=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,s.memoizedState)||(At=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Qp(t,s,a){var l=Ce,h=pt(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!En((Ze||h).memoizedState,a);if(v&&(h.memoizedState=a,At=!0),h=h.queue,Wf(Wp.bind(null,l,h,t),[t]),h.getSnapshot!==s||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Xp.bind(null,l,h,a,s),null),nt===null)throw Error(r(349));d||(Zs&127)!==0||$p(l,s,a)}return a}function $p(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=au(),Ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Xp(t,s,a,l){s.value=a,s.getSnapshot=l,Jp(s)&&Zp(t)}function Wp(t,s,a){return a(function(){Jp(s)&&Zp(t)})}function Jp(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!En(t,a)}catch{return!0}}function Zp(t){var s=jr(t,2);s!==null&&hn(s,t,2)}function $f(t){var s=nn();if(typeof t=="function"){var a=t;if(t=a(),Fr){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},s}function ey(t,s,a,l){return t.baseState=a,Kf(t,Ze,typeof l=="function"?l:ei)}function rx(t,s,a,l,h){if(hu(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};C.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,ty(s,d)):(d.next=a.next,s.pending=a.next=d)}}function ty(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var d=C.T,v={};C.T=v;try{var T=a(h,l),M=C.S;M!==null&&M(v,T),ny(t,s,T)}catch(H){Xf(t,s,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),C.T=d}}else try{d=a(h,l),ny(t,s,d)}catch(H){Xf(t,s,H)}}function ny(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sy(t,s,l)},function(l){return Xf(t,s,l)}):sy(t,s,a)}function sy(t,s,a){s.status="fulfilled",s.value=a,iy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,ty(t,a)))}function Xf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,iy(s),s=s.next;while(s!==l)}t.action=null}function iy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function ry(t,s){return s}function ay(t,s){if(Be){var a=nt.formState;if(a!==null){e:{var l=Ce;if(Be){if(it){t:{for(var h=it,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=zn(h.nextSibling),l=h.data==="F!";break e}}Di(l)}l=!1}l&&(s=a[0])}}return a=nn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:s},a.queue=l,a=wy.bind(null,Ce,l),l.dispatch=a,l=$f(!1),d=nd.bind(null,Ce,!1,l.queue),l=nn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=rx.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function oy(t){var s=pt();return ly(s,Ze,t)}function ly(t,s,a){if(s=Kf(t,s,ry)[0],t=lu(ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=hl(s)}catch(v){throw v===La?Jc:v}else l=s;s=pt();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,Ha(9,{destroy:void 0},ax.bind(null,h,a),null)),[l,d,t]}function ax(t,s){t.action=s}function cy(t){var s=pt(),a=Ze;if(a!==null)return ly(s,a,t);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ha(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=au(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function uy(){return pt().memoizedState}function cu(t,s,a,l){var h=nn();Ce.flags|=t,h.memoizedState=Ha(1|s,{destroy:void 0},a,l===void 0?null:l)}function uu(t,s,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Bf(l,Ze.memoizedState.deps)?h.memoizedState=Ha(s,d,a,l):(Ce.flags|=t,h.memoizedState=Ha(1|s,d,a,l))}function hy(t,s){cu(8390656,8,t,s)}function Wf(t,s){uu(2048,8,t,s)}function ox(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=au(),Ce.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function fy(t){var s=pt().memoizedState;return ox({ref:s,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function dy(t,s){return uu(4,2,t,s)}function my(t,s){return uu(4,4,t,s)}function gy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function py(t,s,a){a=a!=null?a.concat([t]):null,uu(4,4,gy.bind(null,s,t),a)}function Jf(){}function yy(t,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Bf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function _y(t,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Bf(s,l[1]))return l[0];if(l=t(),Fr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l}function Zf(t,s,a){return a===void 0||(Zs&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=v0(),Ce.lanes|=t,zi|=t,a)}function vy(t,s,a,l){return En(a,s)?a:Pa.current!==null?(t=Zf(t,a,l),En(t,s)||(At=!0),t):(Zs&42)===0||(Zs&1073741824)!==0&&(Ve&261930)===0?(At=!0,t.memoizedState=a):(t=v0(),Ce.lanes|=t,zi|=t,s)}function Ey(t,s,a,l,h){var d=V.p;V.p=d!==0&&8>d?d:8;var v=C.T,T={};C.T=T,nd(t,!1,s,a);try{var M=h(),H=C.S;if(H!==null&&H(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=nx(M,l);fl(t,s,X,An(t))}else fl(t,s,l,An(t))}catch(ee){fl(t,s,{then:function(){},status:"rejected",reason:ee},An())}finally{V.p=d,v!==null&&T.types!==null&&(v.types=T.types),C.T=v}}function lx(){}function ed(t,s,a,l){if(t.tag!==5)throw Error(r(476));var h=by(t).queue;Ey(t,h,s,P,a===null?lx:function(){return Ty(t),a(l)})}function by(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:P},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Ty(t){var s=by(t);s.next===null&&(s=t.alternate.memoizedState),fl(t,s.next.queue,{},An())}function td(){return qt(Il)}function xy(){return pt().memoizedState}function Sy(){return pt().memoizedState}function cx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=An();t=ki(a);var l=ji(s,t,a);l!==null&&(hn(l,s,a),ol(l,s,a)),s={cache:Cf()},t.payload=s;return}s=s.return}}function ux(t,s,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?Ay(s,a):(a=vf(t,s,a,l),a!==null&&(hn(a,t,l),Ny(a,s,l)))}function wy(t,s,a){var l=An();fl(t,s,a,l)}function fl(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))Ay(s,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return Gc(t,s,h,0),nt===null&&Fc(),!1}catch{}finally{}if(a=vf(t,s,h,l),a!==null)return hn(a,t,l),Ny(a,s,l),!0}return!1}function nd(t,s,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(s)throw Error(r(479))}else s=vf(t,a,l,2),s!==null&&hn(s,t,2)}function hu(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function Ay(t,s){za=iu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ny(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ko(t,a)}}var dl={readContext:qt,use:ou,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};dl.useEffectEvent=ht;var Ry={readContext:qt,use:ou,useCallback:function(t,s){return nn().memoizedState=[t,s===void 0?null:s],t},useContext:qt,useEffect:hy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,cu(4194308,4,gy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return cu(4194308,4,t,s)},useInsertionEffect:function(t,s){cu(4,2,t,s)},useMemo:function(t,s){var a=nn();s=s===void 0?null:s;var l=t();if(Fr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=nn();if(a!==void 0){var h=a(s);if(Fr){In(!0);try{a(s)}finally{In(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ux.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var s=nn();return t={current:t},s.memoizedState=t},useState:function(t){t=$f(t);var s=t.queue,a=wy.bind(null,Ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,s){var a=nn();return Zf(a,t,s)},useTransition:function(){var t=$f(!1);return t=Ey.bind(null,Ce,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ce,h=nn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(Ve&127)!==0||$p(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,hy(Wp.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},Xp.bind(null,l,d,a,s),null),a},useId:function(){var t=nn(),s=nt.identifierPrefix;if(Be){var a=Cs,l=Is;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=ru++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=sx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t){var s=nn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nd.bind(null,Ce,!0,a),a.dispatch=s,[t,s]},useMemoCache:Yf,useCacheRefresh:function(){return nn().memoizedState=cx.bind(null,Ce)},useEffectEvent:function(t){var s=nn(),a={impl:t};return s.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},sd={readContext:qt,use:ou,useCallback:yy,useContext:qt,useEffect:Wf,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:lu,useRef:uy,useState:function(){return lu(ei)},useDebugValue:Jf,useDeferredValue:function(t,s){var a=pt();return vy(a,Ze.memoizedState,t,s)},useTransition:function(){var t=lu(ei)[0],s=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),s]},useSyncExternalStore:Qp,useId:xy,useHostTransitionStatus:td,useFormState:oy,useActionState:oy,useOptimistic:function(t,s){var a=pt();return ey(a,Ze,t,s)},useMemoCache:Yf,useCacheRefresh:Sy};sd.useEffectEvent=fy;var Iy={readContext:qt,use:ou,useCallback:yy,useContext:qt,useEffect:Wf,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Qf,useRef:uy,useState:function(){return Qf(ei)},useDebugValue:Jf,useDeferredValue:function(t,s){var a=pt();return Ze===null?Zf(a,t,s):vy(a,Ze.memoizedState,t,s)},useTransition:function(){var t=Qf(ei)[0],s=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),s]},useSyncExternalStore:Qp,useId:xy,useHostTransitionStatus:td,useFormState:cy,useActionState:cy,useOptimistic:function(t,s){var a=pt();return Ze!==null?ey(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Sy};Iy.useEffectEvent=fy;function id(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=An(),h=ki(l);h.payload=s,a!=null&&(h.callback=a),s=ji(t,h,l),s!==null&&(hn(s,t,l),ol(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=An(),h=ki(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ji(t,h,l),s!==null&&(hn(s,t,l),ol(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=An(),l=ki(a);l.tag=2,s!=null&&(l.callback=s),s=ji(t,l,a),s!==null&&(hn(s,t,a),ol(s,t,a))}};function Cy(t,s,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Dy(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&rd.enqueueReplaceState(s,s.state,null)}function Gr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Oy(t){qc(t)}function My(t){console.error(t)}function ky(t){qc(t)}function fu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function jy(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,s,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){fu(t,s)},a}function Vy(t){return t=ki(t),t.tag=3,t}function Ly(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jy(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){jy(s,a,l),typeof h!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function hx(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ka(s,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Su():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===Zc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(r(435,a.tag))}return Dd(t,l,h),Su(),!1}if(Be)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==wf&&(t=Error(r(422),{cause:l}),nl(jn(t,a)))):(l!==wf&&(s=Error(r(423),{cause:l}),nl(jn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=ad(t.stateNode,l,h),Vf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),bl===null?bl=[d]:bl.push(d),ft!==4&&(ft=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Vf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bi===null||!Bi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),Ly(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),At=!1;function Ft(t,s,a,l){s.child=t===null?Bp(s,null,a,l):qr(s,t.child,a,l)}function Uy(t,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Pr(s),l=Hf(t,s,a,v,d,h),T=qf(),t!==null&&!At?(Ff(t,s,h),ti(t,s,h)):(Be&&T&&xf(s),s.flags|=1,Ft(t,s,l,h),s.child)}function Py(t,s,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,zy(t,s,d,l,h)):(t=Kc(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!gd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===s.ref)return ti(t,s,h)}return s.flags|=1,t=$s(d,l),t.ref=s.ref,t.return=s,s.child=t}function zy(t,s,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===s.ref)if(At=!1,s.pendingProps=l=d,gd(t,h))(t.flags&131072)!==0&&(At=!0);else return s.lanes=t.lanes,ti(t,s,h)}return ld(t,s,a,l,h)}function By(t,s,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,s.child=null;return Hy(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wc(s,d!==null?d.cachePool:null),d!==null?Fp(s,d):Uf(),Gp(s);else return l=s.lanes=536870912,Hy(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wc(s,d.cachePool),Fp(s,d),Li(),s.memoizedState=null):(t!==null&&Wc(s,null),Uf(),Li());return Ft(t,s,h,a),s.child}function ml(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Hy(t,s,a,l,h){var d=Of();return d=d===null?null:{parent:St._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wc(s,null),Uf(),Gp(s),t!==null&&ka(t,s,l,!0),s.childLanes=h,null}function du(t,s){return s=gu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function qy(t,s,a){return qr(s,t.child,null,a),t=du(s,s.pendingProps),t.flags|=2,xn(s),s.memoizedState=null,t}function fx(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=du(s,l),s.lanes=536870912,ml(null,t);if(zf(s),(t=it)?(t=t_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:Is,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},a=Ap(t),a.return=s,s.child=a,Ht=s,it=null)):t=null,t===null)throw Di(s);return s.lanes=536870912,null}return du(s,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(zf(s),h)if(s.flags&256)s.flags&=-257,s=qy(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(At||ka(t,s,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=nt,l!==null&&(v=jo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,jr(t,v),hn(l,t,v),od;Su(),s=qy(t,s,a)}else t=d.treeContext,it=zn(v.nextSibling),Ht=s,Be=!0,Ci=null,Un=!1,t!==null&&Ip(s,t),s=du(s,l),s.flags|=4096;return s}return t=$s(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function mu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function ld(t,s,a,l,h){return Pr(s),a=Hf(t,s,a,l,void 0,h),l=qf(),t!==null&&!At?(Ff(t,s,h),ti(t,s,h)):(Be&&l&&xf(s),s.flags|=1,Ft(t,s,a,h),s.child)}function Fy(t,s,a,l,h,d){return Pr(s),s.updateQueue=null,a=Kp(s,l,a,h),Yp(t),l=qf(),t!==null&&!At?(Ff(t,s,d),ti(t,s,d)):(Be&&l&&xf(s),s.flags|=1,Ft(t,s,a,d),s.child)}function Gy(t,s,a,l,h){if(Pr(s),s.stateNode===null){var d=Ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=qt(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},kf(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?qt(v):Ca,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),cl(s,l,d,h),ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var T=s.memoizedProps,M=Gr(a,T);d.props=M;var H=d.context,X=a.contextType;v=Ca,typeof X=="object"&&X!==null&&(v=qt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Dy(s,d,l,v),Mi=!1;var G=s.memoizedState;d.state=G,cl(s,l,d,h),ll(),H=s.memoizedState,T||G!==H||Mi?(typeof ee=="function"&&(id(s,a,ee,l),H=s.memoizedState),(M=Mi||Cy(s,a,M,l,G,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,jf(t,s),v=s.memoizedProps,X=Gr(a,v),d.props=X,ee=s.pendingProps,G=d.context,H=a.contextType,M=Ca,typeof H=="object"&&H!==null&&(M=qt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||G!==M)&&Dy(s,d,l,M),Mi=!1,G=s.memoizedState,d.state=G,cl(s,l,d,h),ll();var Q=s.memoizedState;v!==ee||G!==Q||Mi||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof T=="function"&&(id(s,a,T,l),Q=s.memoizedState),(X=Mi||Cy(s,a,X,l,G,Q,M)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,mu(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=qr(s,t.child,null,h),s.child=qr(s,null,a,h)):Ft(t,s,a,h),s.memoizedState=d.state,t=s.child):t=ti(t,s,h),t}function Yy(t,s,a,l){return Lr(),s.flags|=256,Ft(t,s,a,l),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:jp()}}function hd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=wn),t}function Ky(t,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(h=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(h?Vi(s):Li(),(t=it)?(t=t_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:Is,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},a=Ap(t),a.return=s,s.child=a,Ht=s,it=null)):t=null,t===null)throw Di(s);return Kd(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Li(),h=s.mode,T=gu({mode:"hidden",children:T},h),l=Vr(l,h,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=ud(a),l.childLanes=hd(t,v,a),s.memoizedState=cd,ml(null,l)):(Vi(s),fd(s,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)s.flags&256?(Vi(s),s.flags&=-257,s=dd(t,s,a)):s.memoizedState!==null?(Li(),s.child=t.child,s.flags|=128,s=null):(Li(),T=l.fallback,h=s.mode,l=gu({mode:"visible",children:l.children},h),T=Vr(T,h,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,qr(s,t.child,null,a),l=s.child,l.memoizedState=ud(a),l.childLanes=hd(t,v,a),s.memoizedState=cd,s=ml(null,l));else if(Vi(s),Kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),s=dd(t,s,a)}else if(At||ka(t,s,a,!1),v=(a&t.childLanes)!==0,At||v){if(v=nt,v!==null&&(l=jo(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,jr(t,l),hn(v,t,l),od;Yd(T)||Su(),s=dd(t,s,a)}else Yd(T)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,it=zn(T.nextSibling),Ht=s,Be=!0,Ci=null,Un=!1,t!==null&&Ip(s,t),s=fd(s,l.children),s.flags|=4096);return s}return h?(Li(),T=l.fallback,h=s.mode,M=t.child,H=M.sibling,l=$s(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?T=$s(H,T):(T=Vr(T,h,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,ml(null,l),l=s.child,T=t.child.memoizedState,T===null?T=ud(a):(h=T.cachePool,h!==null?(M=St._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=jp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,v,a),s.memoizedState=cd,ml(t.child,l)):(Vi(s),a=t.child,t=a.sibling,a=$s(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function fd(t,s){return s=gu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function gu(t,s){return t=bn(22,t,null,s),t.lanes=0,t}function dd(t,s,a){return qr(s,t.child,null,a),t=fd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Qy(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Rf(t.return,s,a)}function md(t,s,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function $y(t,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=gt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,ne(gt,v),Ft(t,s,l,a),l=Be?tl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,s);else if(t.tag===19)Qy(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),md(s,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&su(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(s,!0,a,null,d,l);break;case"together":md(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ti(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),zi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ka(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=$s(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=$s(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function gd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function dx(t,s,a){switch(s.tag){case 3:Dt(s,s.stateNode.containerInfo),Oi(s,St,t.memoizedState.cache),Lr();break;case 27:case 5:yr(s);break;case 4:Dt(s,s.stateNode.containerInfo);break;case 10:Oi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Ky(t,s,a):(Vi(s),t=ti(t,s,a),t!==null?t.sibling:null);Vi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ka(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return $y(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(gt,gt.current),l)break;return null;case 22:return s.lanes=0,By(t,s,a,s.pendingProps);case 24:Oi(s,St,t.memoizedState.cache)}return ti(t,s,a)}function Xy(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)At=!0;else{if(!gd(t,a)&&(s.flags&128)===0)return At=!1,dx(t,s,a);At=(t.flags&131072)!==0}else At=!1,Be&&(s.flags&1048576)!==0&&Rp(s,tl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Br(s.elementType),s.type=t,typeof t=="function")Ef(t)?(l=Gr(t,l),s.tag=1,s=Gy(null,s,t,l,a)):(s.tag=0,s=ld(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===me){s.tag=11,s=Uy(null,s,t,l,a);break e}else if(h===w){s.tag=14,s=Py(null,s,t,l,a);break e}}throw s=ve(t)||t,Error(r(306,s,""))}}return s;case 0:return ld(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Gr(l,s.pendingProps),Gy(t,s,l,h,a);case 3:e:{if(Dt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,jf(t,s),cl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Oi(s,St,l),l!==d.cache&&If(s,[St],a,!0),ll(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Yy(t,s,l,a);break e}else if(l!==h){h=jn(Error(r(424)),s),nl(h),s=Yy(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=zn(t.firstChild),Ht=s,Be=!0,Ci=null,Un=!0,a=Bp(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===h){s=ti(t,s,a);break e}Ft(t,s,l,a)}s=s.child}return s;case 26:return mu(t,s),t===null?(a=o_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,l=Du(xe.current).createElement(a),l[bt]=s,l[jt]=t,Gt(l,a,t),Tt(l),s.stateNode=l):s.memoizedState=o_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return yr(s),t===null&&Be&&(l=s.stateNode=i_(s.type,s.pendingProps,xe.current),Ht=s,Un=!0,h=it,Gi(s.type)?(Qd=h,it=zn(l.firstChild)):it=h),Ft(t,s,s.pendingProps.children,a),mu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((h=l=it)&&(l=qx(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Ht=s,it=zn(l.firstChild),Un=!1,h=!0):h=!1),h||Di(s)),yr(s),h=s.type,d=s.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:v!==null&&qd(h,v)&&(s.flags|=32),s.memoizedState!==null&&(h=Hf(t,s,ix,null,null,a),Il._currentValue=h),mu(t,s),Ft(t,s,l,a),s.child;case 6:return t===null&&Be&&((t=a=it)&&(a=Fx(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Ht=s,it=null,t=!0):t=!1),t||Di(s)),null;case 13:return Ky(t,s,a);case 4:return Dt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=qr(s,null,l,a):Ft(t,s,l,a),s.child;case 11:return Uy(t,s,s.type,s.pendingProps,a);case 7:return Ft(t,s,s.pendingProps,a),s.child;case 8:return Ft(t,s,s.pendingProps.children,a),s.child;case 12:return Ft(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Oi(s,s.type,l.value),Ft(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Pr(s),h=qt(h),l=l(h),s.flags|=1,Ft(t,s,l,a),s.child;case 14:return Py(t,s,s.type,s.pendingProps,a);case 15:return zy(t,s,s.type,s.pendingProps,a);case 19:return $y(t,s,a);case 31:return fx(t,s,a);case 22:return By(t,s,a,s.pendingProps);case 24:return Pr(s),l=qt(St),t===null?(h=Of(),h===null&&(h=nt,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},kf(s),Oi(s,St,h)):((t.lanes&a)!==0&&(jf(t,s),cl(s,null,null,a),ll()),h=t.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Oi(s,St,l)):(l=d.cache,Oi(s,St,l),l!==h.cache&&If(s,[St],a,!0))),Ft(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ni(t){t.flags|=4}function pd(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x0())t.flags|=8192;else throw Hr=Zc,Mf}else t.flags&=-16777217}function Wy(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(s))if(x0())t.flags|=8192;else throw Hr=Zc,Mf}function pu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Tc():536870912,t.lanes|=s,Ya|=s)}function gl(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function mx(t,s,a){var l=s.pendingProps;switch(Sf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Js(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(s)?ni(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Af())),rt(s),null;case 26:var h=s.type,d=s.memoizedState;return t===null?(ni(s),d!==null?(rt(s),Wy(s,d)):(rt(s),pd(s,h,null,l,a))):d?d!==t.memoizedState?(ni(s),rt(s),Wy(s,d)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ni(s),rt(s),pd(s,h,t,l,a)),null;case 27:if(ha(s),a=xe.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ni(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=ae.current,Ma(s)?Cp(s):(t=i_(h,l,a),s.stateNode=t,ni(s))}return rt(s),null;case 5:if(ha(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ni(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(d=ae.current,Ma(s))Cp(s);else{var v=Du(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[bt]=s,d[jt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ni(s)}}return rt(s),pd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ni(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=xe.current,Ma(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K0(t.nodeValue,a)),t||Di(s,!0)}else t=Du(t).createTextNode(l),t[bt]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),h=!1}else h=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),pu(s,s.updateQueue),rt(s),null);case 4:return ot(),t===null&&Ud(s.stateNode.containerInfo),rt(s),null;case 10:return Js(s.type),rt(s),null;case 19:if(q(gt),l=s.memoizedState,l===null)return rt(s),null;if(h=(s.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=su(t),d!==null){for(s.flags|=128,gl(l,!1),t=d.updateQueue,s.updateQueue=t,pu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)wp(a,t),a=a.sibling;return ne(gt,gt.current&1|2),Be&&Xs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&en()>bu&&(s.flags|=128,h=!0,gl(l,!1),s.lanes=4194304)}else{if(!h)if(t=su(d),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,pu(s,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return rt(s),null}else 2*en()-l.renderingStartTime>bu&&a!==536870912&&(s.flags|=128,h=!0,gl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=gt.current,ne(gt,h?a&1|2:a&1),Be&&Xs(s,l.treeForkCount),t):(rt(s),null);case 22:case 23:return xn(s),Pf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&pu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&q(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Js(St),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function gx(t,s){switch(Sf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Js(St),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ha(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(r(340));Lr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(xn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Lr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return q(gt),null;case 4:return ot(),null;case 10:return Js(s.type),null;case 22:case 23:return xn(s),Pf(),t!==null&&q(zr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Js(St),null;case 25:return null;default:return null}}function Jy(t,s){switch(Sf(s),s.tag){case 3:Js(St),ot();break;case 26:case 27:case 5:ha(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:q(gt);break;case 10:Js(s.type);break;case 22:case 23:xn(s),Pf(),t!==null&&q(zr);break;case 24:Js(St)}}function pl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(s,s.return,T)}}function Ui(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=s;var M=a,H=T;try{H()}catch(X){We(h,M,X)}}}l=l.next}while(l!==d)}}catch(X){We(s,s.return,X)}}function Zy(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{qp(s,a)}catch(l){We(t,t.return,l)}}}function e0(t,s,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,s,l)}}function yl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,s,h)}}function Ds(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,s,h)}else a.current=null}function t0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function yd(t,s,a){try{var l=t.stateNode;Lx(l,t.type,a,s),l[jt]=s}catch(h){We(t,t.return,h)}}function n0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gi(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xn));else if(l!==4&&(l===27&&Gi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(vd(t,s,a),t=t.sibling;t!==null;)vd(t,s,a),t=t.sibling}function yu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yu(t,s,a),t=t.sibling;t!==null;)yu(t,s,a),t=t.sibling}function s0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Gt(s,l,a),s[bt]=t,s[jt]=a}catch(d){We(t,t.return,d)}}var si=!1,Nt=!1,Ed=!1,i0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function px(t,s){if(t=t.containerInfo,Bd=Uu,t=pp(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,M=-1,H=0,X=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(M=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++H===h&&(T=v),G===d&&++X===l&&(M=v),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Uu=!1,Lt=s;Lt!==null;)if(s=Lt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Lt=t;else for(;Lt!==null;){switch(s=Lt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Gr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Lt=t;break}Lt=s.return}}function r0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ri(t,a),l&4&&pl(5,a);break;case 1:if(ri(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Gr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Zy(a),l&512&&yl(a,a.return);break;case 3:if(ri(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qp(t,s)}catch(v){We(a,a.return,v)}}break;case 27:s===null&&l&4&&s0(a);case 26:case 5:ri(t,a),s===null&&l&4&&t0(a),l&512&&yl(a,a.return);break;case 12:ri(t,a);break;case 31:ri(t,a),l&4&&l0(t,a);break;case 13:ri(t,a),l&4&&c0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wx.bind(null,a),Gx(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){s=s!==null&&s.memoizedState!==null||Nt,h=si;var d=Nt;si=l,(Nt=s)&&!d?ai(t,a,(a.subtreeFlags&8772)!==0):ri(t,a),si=h,Nt=d}break;case 30:break;default:ri(t,a)}}function a0(t){var s=t.alternate;s!==null&&(t.alternate=null,a0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&pa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,on=!1;function ii(t,s,a){for(a=a.child;a!==null;)o0(t,s,a),a=a.sibling}function o0(t,s,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Ds(a,s),ii(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ds(a,s);var l=ct,h=on;Gi(a.type)&&(ct=a.stateNode,on=!1),ii(t,s,a),Al(a.stateNode),ct=l,on=h;break;case 5:Nt||Ds(a,s);case 6:if(l=ct,h=on,ct=null,ii(t,s,a),ct=l,on=h,ct!==null)if(on)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,s,d)}break;case 18:ct!==null&&(on?(t=ct,Z0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):Z0(ct,a.stateNode));break;case 4:l=ct,h=on,ct=a.stateNode.containerInfo,on=!0,ii(t,s,a),ct=l,on=h;break;case 0:case 11:case 14:case 15:Ui(2,a,s),Nt||Ui(4,a,s),ii(t,s,a);break;case 1:Nt||(Ds(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e0(a,s,l)),ii(t,s,a);break;case 21:ii(t,s,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ii(t,s,a),Nt=l;break;default:ii(t,s,a)}}function l0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){We(s,s.return,a)}}}function c0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){We(s,s.return,a)}}function yx(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new i0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new i0),s;default:throw Error(r(435,t.tag))}}function _u(t,s){var a=yx(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ax.bind(null,t,l);l.then(h,h)}})}function ln(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Gi(T.type)){ct=T.stateNode,on=!1;break e}break;case 5:ct=T.stateNode,on=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ct===null)throw Error(r(160));o0(d,v,h),ct=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u0(s,t),s=s.sibling}var ns=null;function u0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(s,t),cn(t),l&4&&(Ui(3,t,t.return),pl(3,t),Ui(5,t,t.return));break;case 1:ln(s,t),cn(t),l&512&&(Nt||a===null||Ds(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ns;if(ln(s,t),cn(t),l&512&&(Nt||a===null||Ds(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ys]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,Tt(d),l=d;break e;case"link":var v=u_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=u_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[bt]=t,Tt(d),l=d}t.stateNode=l}else h_(h,t.type,t.stateNode);else t.stateNode=c_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h_(h,t.type,t.stateNode):c_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(s,t),cn(t),l&512&&(Nt||a===null||Ds(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(s,t),cn(t),l&512&&(Nt||a===null||Ds(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(ln(s,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(ku=null,h=ns,ns=Ou(s.containerInfo),ln(s,t),ns=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(s.containerInfo)}catch(he){We(t,t.return,he)}Ed&&(Ed=!1,h0(t));break;case 4:l=ns,ns=Ou(t.stateNode.containerInfo),ln(s,t),cn(t),ns=l;break;case 12:ln(s,t),cn(t);break;case 31:ln(s,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 13:ln(s,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eu=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=si,X=Nt;if(si=H||h,Nt=X||M,ln(s,t),Nt=X,si=H,cn(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||M||si||Nt||Yr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=M.stateNode;var ee=M.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){We(M,M.return,he)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(he){We(M,M.return,he)}}}else if(s.tag===18){if(a===null){M=s;try{var Q=M.stateNode;h?e_(Q,!0):e_(M.stateNode,!1)}catch(he){We(M,M.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_u(t,a))));break;case 19:ln(s,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 30:break;case 21:break;default:ln(s,t),cn(t)}}function cn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(n0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);yu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(an(v,""),a.flags&=-33);var T=_d(t);yu(t,T,v);break;case 3:case 4:var M=a.stateNode.containerInfo,H=_d(t);vd(t,H,M);break;default:throw Error(r(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function h0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;h0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ri(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r0(t,s.alternate,s),s=s.sibling}function Yr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ui(4,s,s.return),Yr(s);break;case 1:Ds(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&e0(s,s.return,a),Yr(s);break;case 27:Al(s.stateNode);case 26:case 5:Ds(s,s.return),Yr(s);break;case 22:s.memoizedState===null&&Yr(s);break;case 30:Yr(s);break;default:Yr(s)}t=t.sibling}}function ai(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ai(h,d,a),pl(4,d);break;case 1:if(ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Hp(M[h],T)}catch(H){We(l,l.return,H)}}a&&v&64&&Zy(d),yl(d,d.return);break;case 27:s0(d);case 26:case 5:ai(h,d,a),a&&l===null&&v&4&&t0(d),yl(d,d.return);break;case 12:ai(h,d,a);break;case 31:ai(h,d,a),a&&v&4&&l0(h,d);break;case 13:ai(h,d,a),a&&v&4&&c0(h,d);break;case 22:d.memoizedState===null&&ai(h,d,a),yl(d,d.return);break;case 30:break;default:ai(h,d,a)}s=s.sibling}}function bd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Td(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sl(t))}function ss(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f0(t,s,a,l),s=s.sibling}function f0(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ss(t,s,a,l),h&2048&&pl(9,s);break;case 1:ss(t,s,a,l);break;case 3:ss(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ss(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){We(s,s.return,M)}}else ss(t,s,a,l);break;case 31:ss(t,s,a,l);break;case 13:ss(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?ss(t,s,a,l):_l(t,s):d._visibility&2?ss(t,s,a,l):(d._visibility|=2,qa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&bd(v,s);break;case 24:ss(t,s,a,l),h&2048&&Td(s.alternate,s);break;default:ss(t,s,a,l)}}function qa(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,v=s,T=a,M=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,T,M,h),pl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?qa(d,v,T,M,h):_l(d,v):(X._visibility|=2,qa(d,v,T,M,h)),h&&H&2048&&bd(v.alternate,v);break;case 24:qa(d,v,T,M,h),h&&H&2048&&Td(v.alternate,v);break;default:qa(d,v,T,M,h)}s=s.sibling}}function _l(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&bd(l.alternate,l);break;case 24:_l(a,l),h&2048&&Td(l.alternate,l);break;default:_l(a,l)}s=s.sibling}}var vl=8192;function Fa(t,s,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)d0(t,s,a),t=t.sibling}function d0(t,s,a){switch(t.tag){case 26:Fa(t,s,a),t.flags&vl&&t.memoizedState!==null&&sS(a,ns,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,s,a);break;case 3:case 4:var l=ns;ns=Ou(t.stateNode.containerInfo),Fa(t,s,a),ns=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Fa(t,s,a),vl=l):Fa(t,s,a));break;default:Fa(t,s,a)}}function m0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function El(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Lt=l,p0(l,t)}m0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g0(t),t=t.sibling}function g0(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ui(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,vu(t)):El(t);break;default:El(t)}}function vu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Lt=l,p0(l,t)}m0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ui(8,s,s.return),vu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vu(s));break;default:vu(s)}t=t.sibling}}function p0(t,s){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ui(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(a0(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var _x={getCacheForType:function(t){var s=qt(St),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},vx=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,ke=null,Ve=0,Xe=0,Sn=null,Pi=!1,Ga=!1,xd=!1,oi=0,ft=0,zi=0,Kr=0,Sd=0,wn=0,Ya=0,bl=null,un=null,wd=!1,Eu=0,y0=0,bu=1/0,Tu=null,Bi=null,Mt=0,Hi=null,Ka=null,li=0,Ad=0,Nd=null,_0=null,Tl=0,Rd=null;function An(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:C.T!==null?kd():xc()}function v0(){if(wn===0)if((Ve&536870912)===0||Be){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function hn(t,s,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),qi(t,Ve,wn,!1)),br(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Kr|=a),ft===4&&qi(t,Ve,wn,!1)),Os(t))}function E0(t,s,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Kn(t,s),h=l?Tx(t,s):Cd(t,s,!0),d=l;do{if(h===0){Ga&&!l&&qi(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!Ex(a)){h=Cd(t,s,!1),d=!1;continue}if(h===2){if(d=s,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=t;h=bl;var M=T.current.memoizedState.isDehydrated;if(M&&(Qa(T,v).flags|=256),v=Cd(T,v,!1),v!==2){if(xd&&!M){T.errorRecoveryDisabledLanes|=d,Kr|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),qi(t,s,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:qi(l,s,wn,!Pi);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Eu+300-en(),10<h)){if(qi(l,s,wn,!Pi),ms(l,0,!0)!==0)break e;li=s,l.timeoutHandle=W0(b0.bind(null,l,a,un,Tu,wd,s,wn,Kr,Ya,Pi,d,"Throttled",-0,0),h);break e}b0(l,a,un,Tu,wd,s,wn,Kr,Ya,Pi,d,null,-0,0)}}break}while(!0);Os(t)}function b0(t,s,a,l,h,d,v,T,M,H,X,ee,G,Q){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},d0(s,d,ee);var he=(d&62914560)===d?Eu-en():(d&4194048)===d?y0-en():0;if(he=iS(ee,he),he!==null){li=d,t.cancelPendingCommit=he(I0.bind(null,t,s,d,a,l,h,v,T,M,X,ee,null,G,Q)),qi(t,d,v,!H);return}}I0(t,s,d,a,l,h,v,T,M)}function Ex(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(t,s,a,l){s&=~Sd,s&=~Kr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var d=31-dt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Tr(t,a,s)}function xu(){return(Ye&6)===0?(xl(0),!1):!0}function Id(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Ws=Ur=null,Gf(t),Ua=null,rl=0,t=ke;for(;t!==null;)Jy(t.alternate,t),t=t.return;ke=null}}function Qa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),li=0,Id(),nt=t,ke=a=$s(t.current,null),Ve=s,Xe=0,Sn=null,Pi=!1,Ga=Kn(t,s),xd=!1,Ya=wn=Sd=Kr=zi=ft=0,un=bl=null,wd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-dt(l),d=1<<h;s|=t[h],l&=~d}return oi=s,Fc(),a}function T0(t,s){Ce=null,C.H=dl,s===La||s===Jc?(s=Up(),Xe=3):s===Mf?(s=Up(),Xe=4):Xe=s===od?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,ke===null&&(ft=1,fu(t,jn(s,t.current)))}function x0(){var t=Tn.current;return t===null?!0:(Ve&4194048)===Ve?Pn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Pn:!1}function S0(){var t=C.H;return C.H=dl,t===null?dl:t}function w0(){var t=C.A;return C.A=_x,t}function Su(){ft=4,Pi||(Ve&4194048)!==Ve&&Tn.current!==null||(Ga=!0),(zi&134217727)===0&&(Kr&134217727)===0||nt===null||qi(nt,Ve,wn,!1)}function Cd(t,s,a){var l=Ye;Ye|=2;var h=S0(),d=w0();(nt!==t||Ve!==s)&&(Tu=null,Qa(t,s)),s=!1;var v=ft;e:do try{if(Xe!==0&&ke!==null){var T=ke,M=Sn;switch(Xe){case 8:Id(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var H=Xe;if(Xe=0,Sn=null,$a(t,T,M,H),a&&Ga){v=0;break e}break;default:H=Xe,Xe=0,Sn=null,$a(t,T,M,H)}}bx(),v=ft;break}catch(X){T0(t,X)}while(!0);return s&&t.shellSuspendCounter++,Ws=Ur=null,Ye=l,C.H=h,C.A=d,ke===null&&(nt=null,Ve=0,Fc()),v}function bx(){for(;ke!==null;)A0(ke)}function Tx(t,s){var a=Ye;Ye|=2;var l=S0(),h=w0();nt!==t||Ve!==s?(Tu=null,bu=en()+500,Qa(t,s)):Ga=Kn(t,s);e:do try{if(Xe!==0&&ke!==null){s=ke;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,$a(t,s,d,1);break;case 2:case 9:if(Vp(d)){Xe=0,Sn=null,N0(s);break}s=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Os(t)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Vp(d)?(Xe=0,Sn=null,N0(s)):(Xe=0,Sn=null,$a(t,s,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(v?f_(v):T.stateNode.complete){Xe=0,Sn=null;var M=T.sibling;if(M!==null)ke=M;else{var H=T.return;H!==null?(ke=H,wu(H)):ke=null}break t}}Xe=0,Sn=null,$a(t,s,d,5);break;case 6:Xe=0,Sn=null,$a(t,s,d,6);break;case 8:Id(),ft=6;break e;default:throw Error(r(462))}}xx();break}catch(X){T0(t,X)}while(!0);return Ws=Ur=null,C.H=l,C.A=h,Ye=a,ke!==null?0:(nt=null,Ve=0,Fc(),ft)}function xx(){for(;ke!==null&&!af();)A0(ke)}function A0(t){var s=Xy(t.alternate,t,oi);t.memoizedProps=t.pendingProps,s===null?wu(t):ke=s}function N0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Fy(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=Fy(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Gf(s);default:Jy(a,s),s=ke=wp(s,oi),s=Xy(a,s,oi)}t.memoizedProps=t.pendingProps,s===null?wu(t):ke=s}function $a(t,s,a,l){Ws=Ur=null,Gf(s),Ua=null,rl=0;var h=s.return;try{if(hx(t,h,s,a,Ve)){ft=1,fu(t,jn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ft=1,fu(t,jn(a,t.current)),ke=null;return}s.flags&32768?(Be||l===1?t=!0:Ga||(Ve&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R0(s,t)):wu(s)}function wu(t){var s=t;do{if((s.flags&32768)!==0){R0(s,Pi);return}t=s.return;var a=mx(s.alternate,s,oi);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);ft===0&&(ft=5)}function R0(t,s){do{var a=gx(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ft=6,ke=null}function I0(t,s,a,l,h,d,v,T,M){t.cancelPendingCommit=null;do Au();while(Mt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=_f,cf(t,a,d,v,T,M),t===nt&&(ke=nt=null,Ve=0),Ka=s,Hi=t,li=a,Ad=d,Nd=h,_0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nx(vi,function(){return k0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,h=V.p,V.p=2,v=Ye,Ye|=4;try{px(t,s,a)}finally{Ye=v,V.p=h,C.T=l}}Mt=1,C0(),D0(),O0()}}function C0(){if(Mt===1){Mt=0;var t=Hi,s=Ka,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var l=V.p;V.p=2;var h=Ye;Ye|=4;try{u0(s,t);var d=Hd,v=pp(t.containerInfo),T=d.focusedElem,M=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&gp(T.ownerDocument.documentElement,T)){if(M!==null&&df(T)){var H=M.start,X=M.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),he=T.textContent.length,_e=Math.min(M.start,he),tt=M.end===void 0?_e:Math.min(M.end,he);!Q.extend&&_e>tt&&(v=tt,tt=_e,_e=v);var U=mp(T,_e),j=mp(T,tt);if(U&&j&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),_e>tt?(Q.addRange(B),Q.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Q.addRange(B))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uu=!!Bd,Hd=Bd=null}finally{Ye=h,V.p=l,C.T=a}}t.current=s,Mt=2}}function D0(){if(Mt===2){Mt=0;var t=Hi,s=Ka,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var l=V.p;V.p=2;var h=Ye;Ye|=4;try{r0(t,s.alternate,s)}finally{Ye=h,V.p=l,C.T=a}}Mt=3}}function O0(){if(Mt===4||Mt===3){Mt=0,pc();var t=Hi,s=Ka,a=li,l=_0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,Ka=Hi=null,M0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bi=null),Gs(a),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=C.T,h=V.p,V.p=2,C.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{C.T=s,V.p=h}}(li&3)!==0&&Au(),Os(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rd?Tl++:(Tl=0,Rd=t):Tl=0,xl(0)}}function M0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,sl(s)))}function Au(){return C0(),D0(),O0(),k0()}function k0(){if(Mt!==5)return!1;var t=Hi,s=Ad;Ad=0;var a=Gs(li),l=C.T,h=V.p;try{V.p=32>a?32:a,C.T=null,a=Nd,Nd=null;var d=Hi,v=li;if(Mt=0,Ka=Hi=null,li=0,(Ye&6)!==0)throw Error(r(331));var T=Ye;if(Ye|=4,g0(d.current),f0(d,d.current,v,a),Ye=T,xl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{V.p=h,C.T=l,M0(t,s)}}function j0(t,s,a){s=jn(a,s),s=ad(t.stateNode,s,2),t=ji(t,s,2),t!==null&&(br(t,2),Os(t))}function We(t,s,a){if(t.tag===3)j0(t,t,a);else for(;s!==null;){if(s.tag===3){j0(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bi===null||!Bi.has(l))){t=jn(a,t),a=Vy(2),l=ji(s,a,2),l!==null&&(Ly(a,l,s,t),br(l,2),Os(l));break}}s=s.return}}function Dd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vx;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(xd=!0,h.add(a),t=Sx.bind(null,t,s,a),s.then(t,t))}function Sx(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>en()-Eu?(Ye&2)===0&&Qa(t,0):Sd|=a,Ya===Ve&&(Ya=0)),Os(t)}function V0(t,s){s===0&&(s=Tc()),t=jr(t,s),t!==null&&(br(t,s),Os(t))}function wx(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),V0(t,a)}function Ax(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),V0(t,a)}function Nx(t,s){return Ot(t,s)}var Nu=null,Xa=null,Od=!1,Ru=!1,Md=!1,Fi=0;function Os(t){t!==Xa&&t.next===null&&(Xa===null?Nu=Xa=t:Xa=Xa.next=t),Ru=!0,Od||(Od=!0,Ix())}function xl(t,s){if(!Md&&Ru){Md=!0;do for(var a=!1,l=Nu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z0(l,d))}else d=Ve,d=ms(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,z0(l,d));l=l.next}while(a);Md=!1}}function Rx(){L0()}function L0(){Ru=Od=!1;var t=0;Fi!==0&&Px()&&(t=Fi);for(var s=en(),a=null,l=Nu;l!==null;){var h=l.next,d=U0(l,s);d===0?(l.next=null,a===null?Nu=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ru=!0)),l=h}Mt!==0&&Mt!==5||xl(t),Fi!==0&&(Fi=0)}function U0(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),T=1<<v,M=h[v];M===-1?((T&a)===0||(T&l)!==0)&&(h[v]=lf(T,s)):M<=s&&(t.expiredLanes|=T),d&=~T}if(s=nt,a=Ve,a=ms(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_i(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&_i(l),Gs(a)){case 2:case 8:a=Mo;break;case 32:a=vi;break;case 268435456:a=yc;break;default:a=vi}return l=P0.bind(null,t),a=Ot(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&_i(l),t.callbackPriority=2,t.callbackNode=null,2}function P0(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=Ve;return l=ms(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E0(t,l,s),U0(t,en()),t.callbackNode!=null&&t.callbackNode===a?P0.bind(null,t):null)}function z0(t,s){if(Au())return null;E0(t,s,!0)}function Ix(){Bx(function(){(Ye&6)!==0?Ot(Oo,Rx):L0()})}function kd(){if(Fi===0){var t=ja;t===0&&(t=fs,fs<<=1,(fs&261888)===0&&(fs=256)),Fi=t}return Fi}function B0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function H0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Cx(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=B0((h[jt]||null).action),v=l.submitter;v&&(s=(s=v[jt]||null)?B0(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var T=new ws("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fi!==0){var M=v?H0(h,v):new FormData(h);ed(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=v?H0(h,v):new FormData(h),ed(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var jd=0;jd<yf.length;jd++){var Vd=yf[jd],Dx=Vd.toLowerCase(),Ox=Vd[0].toUpperCase()+Vd.slice(1);ts(Dx,"on"+Ox)}ts(vp,"onAnimationEnd"),ts(Ep,"onAnimationIteration"),ts(bp,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Q1,"onTransitionRun"),ts($1,"onTransitionStart"),ts(X1,"onTransitionCancel"),ts(Tp,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function q0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],M=T.instance,H=T.currentTarget;if(T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){qc(X)}h.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(T=l[v],M=T.instance,H=T.currentTarget,T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){qc(X)}h.currentTarget=null,d=M}}}}function je(t,s){var a=s[ga];a===void 0&&(a=s[ga]=new Set);var l=t+"__bubble";a.has(l)||(F0(s,t,2,!1),a.add(l))}function Ld(t,s,a){var l=0;s&&(l|=4),F0(a,t,l,s)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Iu]){t[Iu]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(Mx.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Iu]||(s[Iu]=!0,Ld("selectionchange",!1,s))}}function F0(t,s,a,l){switch(v_(s)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Zd}a=h.bind(null,s,a,t),h=void 0,!Nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Pd(t,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_s(T),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}T=T.parentNode}}l=l.return}wi(function(){var H=d,X=Dn(a),ee=[];e:{var G=xp.get(t);if(G!==void 0){var Q=ws,he=t;switch(t){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":Q=zc;break;case"focusin":he="focus",Q=Dr;break;case"focusout":he="blur",Q=Dr;break;case"beforeblur":case"afterblur":Q=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case vp:case Ep:case bp:Q=Mc;break;case Tp:Q=S;break;case"scroll":case"scrollend":Q=Qo;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qs;break;case"toggle":case"beforetoggle":Q=Ie}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?G!==null?G+"Capture":null:G;_e=[];for(var j=H,B;j!==null;){var J=j;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=Wn(j,U),J!=null&&_e.push(wl(j,J,B))),tt)break;j=j.return}0<_e.length&&(G=new Q(G,he,null,a,X),ee.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Go&&(he=a.relatedTarget||a.fromElement)&&(_s(he)||he[ps]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=H,he=he?_s(he):null,he!==null&&(tt=c(he),_e=he.tag,he!==tt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Q=null,he=H),Q!==he)){if(_e=$o,J="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qs,J="onPointerLeave",U="onPointerEnter",j="pointer"),tt=Q==null?G:_n(Q),B=he==null?G:_n(he),G=new _e(J,j+"leave",Q,a,X),G.target=tt,G.relatedTarget=B,J=null,_s(X)===H&&(_e=new _e(U,j+"enter",he,a,X),_e.target=B,_e.relatedTarget=tt,J=_e),tt=J,Q&&he)t:{for(_e=kx,U=Q,j=he,B=0,J=U;J;J=_e(J))B++;J=0;for(var ge=j;ge;ge=_e(ge))J++;for(;0<B-J;)U=_e(U),B--;for(;0<J-B;)j=_e(j),J--;for(;B--;){if(U===j||j!==null&&U===j.alternate){_e=U;break t}U=_e(U),j=_e(j)}_e=null}else _e=null;Q!==null&&G0(ee,G,Q,_e,!1),he!==null&&tt!==null&&G0(ee,tt,he,_e,!0)}}e:{if(G=H?_n(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var qe=lp;else if(ap(G))if(cp)qe=G1;else{qe=q1;var fe=H1}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&va(H.elementType)&&(qe=lp):qe=F1;if(qe&&(qe=qe(t,H))){op(ee,qe,a,X);break e}fe&&fe(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Ho(G,"number",G.value)}switch(fe=H?_n(H):window,t){case"focusin":(ap(fe)||fe.contentEditable==="true")&&(Na=fe,mf=H,el=null);break;case"focusout":el=mf=Na=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,yp(ee,a,X);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":yp(ee,a,X)}var Oe;if(Ge)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Aa?Or(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Rs&&a.locale!=="ko"&&(Aa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Aa&&(Oe=Ko()):(Ss=X,Yo="value"in Ss?Ss.value:Ss.textContent,Aa=!0)),fe=Cu(H,Le),0<fe.length&&(Le=new Ns(Le,t,null,a,X),ee.push({event:Le,listeners:fe}),Oe?Le.data=Oe:(Oe=wa(a),Oe!==null&&(Le.data=Oe)))),(Oe=Mn?U1(t,a):P1(t,a))&&(Le=Cu(H,"onBeforeInput"),0<Le.length&&(fe=new Ns("onBeforeInput","beforeinput",null,a,X),ee.push({event:fe,listeners:Le}),fe.data=Oe)),Cx(ee,t,H,a,X)}q0(ee,s)})}function wl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Cu(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Wn(t,s),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function kx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G0(t,s,a,l,h){for(var d=s._reactName,v=[];a!==null&&a!==l;){var T=a,M=T.alternate,H=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||H===null||(M=H,h?(H=Wn(a,d),H!=null&&v.unshift(wl(a,H,M))):h||(H=Wn(a,d),H!=null&&v.push(wl(a,H,M)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var jx=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function Y0(t){return(typeof t=="string"?t:""+t).replace(jx,`
`).replace(Vx,"")}function K0(t,s){return s=Y0(s),Y0(t)===s}function et(t,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&an(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(s!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",h.name,h,null),et(t,s,"formEncType",h.formEncType,h,null),et(t,s,"formMethod",h.formMethod,h,null),et(t,s,"formTarget",h.formTarget,h,null)):(et(t,s,"encType",h.encType,h,null),et(t,s,"method",h.method,h,null),et(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,ya(t,a,l))}}function zd(t,s,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Gt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,d,v,a,null)}}h&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=v=h=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":M=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:et(t,s,l,X,a,null)}}Nc(t,d,T,M,H,v,h,!1);return;case"select":je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,s,h,T,a,null)}s=d,a=v,t.multiple=!!l,s!=null?bi(t,!!l,s,!1):a!=null&&bi(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(t,s,v,T,a,null)}Ti(t,l,h,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,s,M,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)je(Sl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,H,l,a,null)}return;default:if(va(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,s,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,s,T,l,a,null))}function Lx(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,M=null,H=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty(Q)||et(t,s,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ee&&et(t,s,G,Q,l,ee)}}_a(t,v,T,M,H,X,d,h);return;case"select":Q=v=T=G=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||et(t,s,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==M&&et(t,s,h,d,l,M)}s=T,a=v,l=Q,G!=null?bi(t,!!a,G,!1):!!l!=!!a&&(s!=null?bi(t,!!a,s,!0):bi(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,s,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&et(t,s,v,h,l,d)}Rc(t,G,Q);return;case"option":for(var he in a)if(G=a[he],a.hasOwnProperty(he)&&G!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,s,he,null,l,G)}for(M in l)if(G=l[M],Q=a[M],l.hasOwnProperty(M)&&G!==Q&&(G!=null||Q!=null))switch(M){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,s,M,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&et(t,s,_e,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:et(t,s,H,G,l,Q)}return;default:if(va(s)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&zd(t,s,tt,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||zd(t,s,X,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&et(t,s,U,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||et(t,s,ee,G,l,Q)}function Q0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ux(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Q0(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>T)break;var X=M.transferSize,ee=M.initiatorType;X&&Q0(ee)&&(M=M.responseEnd,v+=X*(M<T?1:(T-H)/(M-H)))}if(--l,s+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,Hd=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function $0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function qd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fd=null;function Px(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,Bx=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(t){return J0.resolve(null).then(t).catch(Hx)}:W0;function Hx(t){setTimeout(function(){throw t})}function Gi(t){return t==="head"}function Z0(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),eo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ys]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);eo(s)}function e_(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qx(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ys])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Fx(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function t_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gx(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Qd=null;function n_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return zn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function s_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function i_(t,s,a){switch(s=Du(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pa(t)}var Bn=new Map,r_=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=V.d;V.d={f:Yx,r:Kx,D:Qx,C:$x,L:Xx,m:Wx,X:Zx,S:Jx,M:eS};function Yx(){var t=ci.f(),s=xu();return t||s}function Kx(t){var s=Cn(t);s!==null&&s.tag===5&&s.type==="form"?Ty(s):ci.r(t)}var Wa=typeof document>"u"?null:document;function a_(t,s,a){var l=Wa;if(l&&typeof s=="string"&&s){var h=rn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r_.has(h)||(r_.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Gt(s,"link",t),Tt(s),l.head.appendChild(s)))}}function Qx(t){ci.D(t),a_("dns-prefetch",t,null)}function $x(t,s){ci.C(t,s),a_("preconnect",t,s)}function Xx(t,s,a){ci.L(t,s,a);var l=Wa;if(l&&t&&s){var h='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(s){case"style":d=Ja(t);break;case"script":d=Za(t)}Bn.has(d)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Bn.set(d,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Nl(d))||s==="script"&&l.querySelector(Rl(d))||(s=l.createElement("link"),Gt(s,"link",t),Tt(s),l.head.appendChild(s)))}}function Wx(t,s){ci.m(t,s);var a=Wa;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Bn.has(d)&&(t=x({rel:"modulepreload",href:t},s),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function Jx(t,s,a){ci.S(t,s,a);var l=Wa;if(l&&t){var h=vs(l).hoistableStyles,d=Ja(t);s=s||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Nl(d)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Bn.get(d))&&$d(t,a);var M=v=l.createElement("link");Tt(M),Gt(M,"link",t),M._p=new Promise(function(H,X){M.onload=H,M.onerror=X}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Zx(t,s){ci.X(t,s);var a=Wa;if(a&&t){var l=vs(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=x({src:t,async:!0},s),(s=Bn.get(h))&&Xd(t,s),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eS(t,s){ci.M(t,s);var a=Wa;if(a&&t){var l=vs(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=x({src:t,async:!0,type:"module"},s),(s=Bn.get(h))&&Xd(t,s),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o_(t,s,a,l){var h=(h=xe.current)?Ou(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=vs(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=vs(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Nl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||tS(h,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Za(a),a=vs(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+rn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function l_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function tS(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Gt(s,"link",a),Tt(s),t.head.appendChild(s))}function Za(t){return'[src="'+rn(t)+'"]'}function Rl(t){return"script[async]"+t}function c_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return s.instance=l,Tt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Mu(l,a.precedence,t),s.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Nl(h));if(d)return s.state.loading|=4,s.instance=d,Tt(d),d;l=l_(a),(h=Bn.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),Gt(d,"link",l),s.state.loading|=4,Mu(d,a.precedence,t),s.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Rl(d)))?(s.instance=h,Tt(h),h):(l=a,(h=Bn.get(d))&&(l=x({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Mu(l,a.precedence,t));return s.instance}function Mu(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function $d(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Xd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ku=null;function u_(t,s,a){if(ku===null){var l=new Map,h=ku=new Map;h.set(a,l)}else h=ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ys]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function h_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function nS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sS(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=s.querySelector(Nl(h));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ju.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=s.ownerDocument||s,l=l_(l),(h=Bn.get(h))&&$d(l,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(T,M){v.onload=T,v.onerror=M}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ju.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Wd=0;function iS(t,s){return t.stylesheets&&t.count===0&&Lu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Wd===0&&(Wd=62500*Ux());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Lu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,s.forEach(rS,t),Vu=null,ju.call(t))}function rS(t,s){if(!(s.state.loading&4)){var a=Vu.get(t);if(a)var l=a.get(null);else{a=new Map,Vu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=s.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Il={$$typeof:ce,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function aS(t,s,a,l,h,d,v,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function d_(t,s,a,l,h,d,v,T,M,H,X,ee){return t=new aS(t,s,a,v,M,H,X,ee,T),s=1,d===!0&&(s|=24),d=bn(3,null,null,s),t.current=d,d.stateNode=t,s=Cf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},kf(d),t}function m_(t){return t?(t=Ca,t):Ca}function g_(t,s,a,l,h,d){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=ki(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ji(t,l,s),a!==null&&(hn(a,t,s),ol(a,t,s))}function p_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Jd(t,s){p_(t,s),(t=t.alternate)&&p_(t,s)}function y_(t){if(t.tag===13||t.tag===31){var s=jr(t,67108864);s!==null&&hn(s,t,67108864),Jd(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var s=An();s=xr(s);var a=jr(t,s);a!==null&&hn(a,t,s),Jd(t,s)}}var Uu=!0;function oS(t,s,a,l){var h=C.T;C.T=null;var d=V.p;try{V.p=2,Zd(t,s,a,l)}finally{V.p=d,C.T=h}}function lS(t,s,a,l){var h=C.T;C.T=null;var d=V.p;try{V.p=8,Zd(t,s,a,l)}finally{V.p=d,C.T=h}}function Zd(t,s,a,l){if(Uu){var h=em(l);if(h===null)Pd(t,s,l,Pu,a),E_(t,l);else if(uS(h,t,s,a,l))l.stopPropagation();else if(E_(t,l),s&4&&-1<cS.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ds(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var M=1<<31-dt(v);T.entanglements[1]|=M,v&=~M}Os(d),(Ye&6)===0&&(bu=en()+500,xl(0))}}break;case 31:case 13:T=jr(d,2),T!==null&&hn(T,d,2),xu(),Jd(d,2)}if(d=em(l),d===null&&Pd(t,s,l,Pu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,s,l,null,a)}}function em(t){return t=Dn(t),tm(t)}var Pu=null;function tm(t){if(Pu=null,t=_s(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pu=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case Oo:return 2;case Mo:return 8;case vi:case of:return 32;case yc:return 268435456;default:return 32}default:return 32}}var nm=!1,Yi=null,Ki=null,Qi=null,Cl=new Map,Dl=new Map,$i=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(t,s){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(s.pointerId)}}function Ol(t,s,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=Cn(s),s!==null&&y_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function uS(t,s,a,l,h){switch(s){case"focusin":return Yi=Ol(Yi,t,s,a,l,h),!0;case"dragenter":return Ki=Ol(Ki,t,s,a,l,h),!0;case"mouseover":return Qi=Ol(Qi,t,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Ol(Cl.get(d)||null,t,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,s,a,l,h)),!0}return!1}function b_(t){var s=_s(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){__(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){__(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return s=Cn(a),s!==null&&y_(s),t.blockedOn=a,!1;s.shift()}return!0}function T_(t,s,a){zu(t)&&a.delete(s)}function hS(){nm=!1,Yi!==null&&zu(Yi)&&(Yi=null),Ki!==null&&zu(Ki)&&(Ki=null),Qi!==null&&zu(Qi)&&(Qi=null),Cl.forEach(T_),Dl.forEach(T_)}function Bu(t,s){t.blockedOn===s&&(t.blockedOn=null,nm||(nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hS)))}var Hu=null;function x_(t){Hu!==t&&(Hu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(s,3),s-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function s(M){return Bu(M,t)}Yi!==null&&Bu(Yi,t),Ki!==null&&Bu(Ki,t),Qi!==null&&Bu(Qi,t),Cl.forEach(s),Dl.forEach(s);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)b_(a),a.blockedOn===null&&$i.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||x_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)T=v.formAction;else if(tm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),x_(a)}}}function S_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function sm(t){this._internalRoot=t}qu.prototype.render=sm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=An();g_(a,l,t,s,null,null)},qu.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;g_(t.current,2,null,t,null,null),xu(),s[ps]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var s=xc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<$i.length&&s!==0&&s<$i[a].priority;a++);$i.splice(a,0,t),a===0&&b_(t)}};var w_=e.version;if(w_!=="19.2.0")throw Error(r(527,w_,"19.2.0"));V.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var fS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Yn=Fu.inject(fS),zt=Fu}catch{}}return kl.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",h=Oy,d=My,v=ky;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=d_(t,1,!1,null,null,a,l,null,h,d,v,S_),t[ps]=s.current,Ud(t),new sm(s)},kl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Oy,v=My,T=ky,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=d_(t,1,!0,s,a??null,l,h,M,d,v,T,S_),s.context=m_(null),a=s.current,l=An(),l=xr(l),h=ki(l),h.callback=null,ji(a,h,l),a=l,s.current.lanes=a,br(s,a),Os(s),t[ps]=s.current,Ud(t),new qu(s)},kl.version="19.2.0",kl}var j_;function TS(){if(j_)return am.exports;j_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=bS(),am.exports}var xS=TS();const ng="/assets/rec-B96oTx69.png";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),V_=i=>{const e=wS(i);return e.charAt(0).toUpperCase()+e.slice(1)},IE=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),AS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=re.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...g},y)=>re.createElement("svg",{ref:y,...NS,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:IE("lucide",o),...!c&&!AS(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,b])=>re.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(i,e)=>{const n=re.forwardRef(({className:r,...o},c)=>re.createElement(RS,{ref:c,iconNode:e,className:IE(`lucide-${SS(V_(i))}`,`lucide-${i}`,r),...o}));return n.displayName=V_(i),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CS=Ke("arrow-left",IS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OS=Ke("arrow-right",DS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],CE=Ke("award",MS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kl=Ke("calendar",kS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VS=Ke("check",jS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],US=Ke("circle-alert",LS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zS=Ke("clock",PS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],HS=Ke("code",BS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],DE=Ke("crown",qS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],GS=Ke("facebook",FS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Am=Ke("gamepad-2",YS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],QS=Ke("github",KS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],XS=Ke("lightbulb",$S);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],JS=Ke("lock-open",WS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nm=Ke("lock",ZS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tw=Ke("log-out",ew);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sw=Ke("mail",nw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],OE=Ke("medal",iw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aw=Ke("phone",rw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],L_=Ke("plus",ow);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ME=Ke("rotate-ccw",lw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],uw=Ke("rotate-cw",cw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],U_=Ke("star",hw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],P_=Ke("target",fw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z_=Ke("trash-2",dw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rc=Ke("trophy",mw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pw=Ke("upload",gw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sg=Ke("user",yw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ig=Ke("users",_w);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ew=Ke("x",vw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kE=Ke("zap",bw),Tw=({activeTab:i,setActiveTab:e,user:n,onLogout:r})=>m.jsx("header",{className:"border-b border-green-500/30 bg-black/50 backdrop-blur-md sticky top-0 z-50",children:m.jsx("div",{className:"container mx-auto px-6 py-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 overflow-hidden",children:m.jsx("img",{src:ng,alt:"RECursion Logo",className:"w-full h-full object-cover"})}),m.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:'"Courier New", monospace',letterSpacing:"2px"},children:"Team RECursion"})]}),m.jsxs("nav",{className:"flex items-center gap-3",children:[["home","games","leaderboard","events","profile","admin"].map(o=>m.jsx("button",{onClick:()=>e(o),className:`px-5 py-3 rounded-xl font-bold uppercase transition-all text-sm ${i===o?"bg-green-500 text-black shadow-lg shadow-green-500/30":"text-green-400 hover:bg-green-500/20 hover:text-white"}`,children:o},o)),m.jsxs("div",{className:"flex items-center gap-4 ml-8 pl-8 border-l border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(sg,{className:"w-5 h-5 text-green-400"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-white font-semibold",children:n?.username}),m.jsxs("span",{className:"text-gray-400 text-xs",children:["(",n?.regNumber,")"]})]})]}),m.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-all",title:"Logout",children:[m.jsx(tw,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]})})}),xw=()=>m.jsx("footer",{className:"border-t border-green-500/30 bg-black/50 backdrop-blur-md mt-16",children:m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 overflow-hidden",children:m.jsx("img",{src:ng,alt:"RECursion Logo",className:"w-full h-full object-cover"})}),m.jsx("h3",{className:"text-xl font-bold",style:{fontFamily:'"Courier New", monospace',letterSpacing:"1px"},children:"Team RECursion"})]}),m.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"We are programming community of NIT Durgapur, with focus on improving coding culture institute wide by conducting regular lectures from beginner to advance topics of programming. Our goal is to increase student's participation in inter-collegiate contest like ACM-ICPC and help them get better."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"https://github.com/RECursion-NITD",className:"text-gray-400 hover:text-green-400 transition-colors",children:m.jsx(QS,{className:"w-5 h-5"})}),m.jsx("a",{href:"https://www.facebook.com/recursion.nit/",className:"text-gray-400 hover:text-green-400 transition-colors",children:m.jsx(GS,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Quick Links"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"#games",className:"text-gray-400 hover:text-green-400 transition-colors",children:"Games"})}),m.jsx("li",{children:m.jsx("a",{href:"#leaderboard",className:"text-gray-400 hover:text-green-400 transition-colors",children:"Leaderboard"})}),m.jsx("li",{children:m.jsx("a",{href:"#events",className:"text-gray-400 hover:text-green-400 transition-colors",children:"Events"})}),m.jsx("li",{children:m.jsx("a",{href:"#about",className:"text-gray-400 hover:text-green-400 transition-colors",children:"About Us"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Contact"}),m.jsxs("div",{className:"space-y-2 text-gray-400",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(sw,{className:"w-4 h-4"}),m.jsx("span",{children:"recursion.nit@gmail.com"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ig,{className:"w-4 h-4"}),m.jsx("span",{children:"NIT Durgapur, Durgapur, W.B."})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(aw,{className:"w-4 h-4"}),m.jsx("span",{children:"Prathamesh Mandiye: +918240048380"})]})]})]})]}),m.jsx("div",{className:"border-t border-gray-800 mt-8 pt-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[m.jsx("p",{className:"text-gray-500 text-sm font-mono",children:" 2026 Team RECursion"}),m.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[m.jsx("span",{className:"text-gray-500 text-sm",children:"Privacy Policy"}),m.jsx("span",{className:"text-gray-500 text-sm",children:"Terms of Service"})]})]})})]})}),Sw=()=>{};var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ww=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],f=i[n++],g=i[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,g=f?i[o+1]:0,y=o+2<i.length,_=y?i[o+2]:0,b=c>>2,x=(c&3)<<4|g>>4;let A=(g&15)<<2|_>>6,F=_&63;y||(F=64,f||(A=64)),r.push(n[b],n[x],n[A],n[F])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ww(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const _=o<i.length?n[i.charAt(o)]:64;++o;const x=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||g==null||_==null||x==null)throw new Aw;const A=c<<2|g>>4;if(r.push(A),_!==64){const F=g<<4&240|_>>2;if(r.push(F),x!==64){const $=_<<6&192|x;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(i){const e=jE(i);return VE.encodeByteArray(e,!0)},lh=function(i){return Nw(i).replace(/\./g,"")},LE=function(i){try{return VE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=()=>Rw().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof B_>"u")return;const i=B_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Dw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&LE(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Sw()||Iw()||Cw()||Dw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UE=i=>Dh()?.emulatorHosts?.[i],PE=i=>{const e=UE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zE=()=>Dh()?.config,BE=i=>Dh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rg(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Pl={};function Mw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?i.emulator.push(e):i.prod.push(e);return i}function kw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let H_=!1;function ag(i,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Pl[i]===e||Pl[i]||H_)return;Pl[i]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=Mw().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,F){A.setAttribute("width","24"),A.setAttribute("id",F),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{H_=!0,f()},A}function b(A,F){A.setAttribute("id",F),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=kw(r),F=n("text"),$=document.getElementById(F)||document.createElement("span"),W=n("learnmore"),Y=document.getElementById(W)||document.createElement("a"),ie=n("preprendIcon"),de=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ce=A.element;g(ce),b(Y,W);const me=_();y(de,ie),ce.append(de,$,Y,me),document.body.appendChild(ce)}c?($.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Vw(){const i=Dh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pw(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Bw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="FirebaseError";class Gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hw,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ra.prototype.create)}}class ra{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?qw(c,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Gn(o,g,r)}}function qw(i,e){return i.replace(Fw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Fw=/\{\$([^}]+)}/g;function Gw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function or(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],f=e[o];if(q_(c)&&q_(f)){if(!or(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function q_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yw(i,e){const n=new Kw(i,e);return n.subscribe.bind(n)}class Kw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=1e3,Xw=2,Ww=14400*1e3,Jw=.5;function F_(i,e=$w,n=Xw){const r=e*Math.pow(n,i),o=Math.round(Jw*r*(Math.random()-.5)*2);return Math.min(Ww,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i){return i&&i._delegate?i._delegate:i}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ow;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(i){return i===Qr?void 0:i}function tA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const sA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},iA=Ue.INFO,rA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},aA=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=rA[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const oA=(i,e)=>e.some(n=>i instanceof n);let G_,Y_;function lA(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Rm=new WeakMap,KE=new WeakMap,hm=new WeakMap,og=new WeakMap;function uA(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(sr(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,i)}).catch(()=>{}),og.set(e,i),e}function hA(i){if(Rm.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Rm.set(i,e)}let Im={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||KE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fA(i){Im=i(Im)}function dA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(fm(this),e,...n);return KE.set(r,e.sort?e.sort():[e]),sr(r)}:cA().includes(i)?function(...e){return i.apply(fm(this),e),sr(YE.get(this))}:function(...e){return sr(i.apply(fm(this),e))}}function mA(i){return typeof i=="function"?dA(i):(i instanceof IDBTransaction&&hA(i),oA(i,lA())?new Proxy(i,Im):i)}function sr(i){if(i instanceof IDBRequest)return uA(i);if(hm.has(i))return hm.get(i);const e=mA(i);return e!==i&&(hm.set(i,e),og.set(e,i)),e}const fm=i=>og.get(i);function QE(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),g=sr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(sr(f.result),y.oldVersion,y.newVersion,sr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],dm=new Map;function K_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=pA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||gA.includes(n)))return;const c=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),o&&y.done]))[0]};return dm.set(e,c),c}fA(i=>({...i,get:(e,n,r)=>K_(e,n)||i.get(e,n,r),has:(e,n)=>!!K_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_A(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _A(i){return i.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Q_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Oh("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",bA="@firebase/analytics",TA="@firebase/app-check-compat",xA="@firebase/app-check",SA="@firebase/auth",wA="@firebase/auth-compat",AA="@firebase/database",NA="@firebase/data-connect",RA="@firebase/database-compat",IA="@firebase/functions",CA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",MA="@firebase/messaging",kA="@firebase/messaging-compat",jA="@firebase/performance",VA="@firebase/performance-compat",LA="@firebase/remote-config",UA="@firebase/remote-config-compat",PA="@firebase/storage",zA="@firebase/storage-compat",BA="@firebase/firestore",HA="@firebase/ai",qA="@firebase/firestore-compat",FA="firebase",GA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",YA={[Cm]:"fire-core",[vA]:"fire-core-compat",[bA]:"fire-analytics",[EA]:"fire-analytics-compat",[xA]:"fire-app-check",[TA]:"fire-app-check-compat",[SA]:"fire-auth",[wA]:"fire-auth-compat",[AA]:"fire-rtdb",[NA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[IA]:"fire-fn",[CA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[MA]:"fire-fcm",[kA]:"fire-fcm-compat",[jA]:"fire-perf",[VA]:"fire-perf-compat",[LA]:"fire-rc",[UA]:"fire-rc-compat",[PA]:"fire-gcs",[zA]:"fire-gcs-compat",[BA]:"fire-fst",[qA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,KA=new Map,Om=new Map;function $_(i,e){try{i.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ls(i){const e=i.name;if(Om.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,i);for(const n of ch.values())$_(n,i);for(const n of KA.values())$_(n,i);return!0}function mr(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function rs(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ra("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=GA;function $E(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=zE()),!n)throw ir.create("no-options");const c=ch.get(o);if(c){if(or(n,c.options)&&or(r,c.config))return c;throw ir.create("duplicate-app",{appName:o})}const f=new nA(o);for(const y of Om.values())f.addComponent(y);const g=new $A(n,r,f);return ch.set(o,g),g}function Mh(i=Dm){const e=ch.get(i);if(!e&&i===Dm&&zE())return $E();if(!e)throw ir.create("no-app",{appName:i});return e}function pn(i,e,n){let r=YA[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(f.join(" "));return}ls(new Fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",WA=1,Ql="firebase-heartbeat-store";let mm=null;function XE(){return mm||(mm=QE(XA,WA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(i=>{throw ir.create("idb-open",{originalErrorMessage:i.message})})),mm}async function JA(i){try{const n=(await XE()).transaction(Ql),r=await n.objectStore(Ql).get(WE(i));return await n.done,r}catch(e){if(e instanceof Gn)di.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e?.message});di.warn(n.message)}}}async function X_(i,e){try{const r=(await XE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,WE(i)),await r.done}catch(n){if(n instanceof Gn)di.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});di.warn(r.message)}}}function WE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,eN=30;class tN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>eN){const o=iN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:n,unsentEntries:r}=nN(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return di.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function nN(i,e=ZA){const n=[];let r=i.slice();for(const o of i){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),J_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function J_(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function iN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){ls(new Fn("platform-logger",e=>new yA(e),"PRIVATE")),ls(new Fn("heartbeat",e=>new tN(e),"PRIVATE")),pn(Cm,Q_,i),pn(Cm,Q_,"esm2020"),pn("fire-js","")}rN("");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,JE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,N){function D(){}D.prototype=N.prototype,w.F=N.prototype,w.prototype=new D,w.prototype.constructor=w,w.D=function(L,O,k){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return N.prototype[O].apply(L,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,N,D){D||(D=0);const L=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)L[O]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(O=0;O<16;++O)L[O]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=w.g[0],D=w.g[1],O=w.g[2];let k=w.g[3],R;R=N+(k^D&(O^k))+L[0]+3614090360&4294967295,N=D+(R<<7&4294967295|R>>>25),R=k+(O^N&(D^O))+L[1]+3905402710&4294967295,k=N+(R<<12&4294967295|R>>>20),R=O+(D^k&(N^D))+L[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(N^O&(k^N))+L[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(k^D&(O^k))+L[4]+4118548399&4294967295,N=D+(R<<7&4294967295|R>>>25),R=k+(O^N&(D^O))+L[5]+1200080426&4294967295,k=N+(R<<12&4294967295|R>>>20),R=O+(D^k&(N^D))+L[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(N^O&(k^N))+L[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(k^D&(O^k))+L[8]+1770035416&4294967295,N=D+(R<<7&4294967295|R>>>25),R=k+(O^N&(D^O))+L[9]+2336552879&4294967295,k=N+(R<<12&4294967295|R>>>20),R=O+(D^k&(N^D))+L[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(N^O&(k^N))+L[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(k^D&(O^k))+L[12]+1804603682&4294967295,N=D+(R<<7&4294967295|R>>>25),R=k+(O^N&(D^O))+L[13]+4254626195&4294967295,k=N+(R<<12&4294967295|R>>>20),R=O+(D^k&(N^D))+L[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=D+(N^O&(k^N))+L[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(O^k&(D^O))+L[1]+4129170786&4294967295,N=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(N^D))+L[6]+3225465664&4294967295,k=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(k^N))+L[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^N&(O^k))+L[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^k&(D^O))+L[5]+3593408605&4294967295,N=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(N^D))+L[10]+38016083&4294967295,k=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(k^N))+L[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^N&(O^k))+L[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^k&(D^O))+L[9]+568446438&4294967295,N=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(N^D))+L[14]+3275163606&4294967295,k=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(k^N))+L[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^N&(O^k))+L[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^k&(D^O))+L[13]+2850285829&4294967295,N=D+(R<<5&4294967295|R>>>27),R=k+(D^O&(N^D))+L[2]+4243563512&4294967295,k=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(k^N))+L[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=D+(k^N&(O^k))+L[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(D^O^k)+L[5]+4294588738&4294967295,N=D+(R<<4&4294967295|R>>>28),R=k+(N^D^O)+L[8]+2272392833&4294967295,k=N+(R<<11&4294967295|R>>>21),R=O+(k^N^D)+L[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^N)+L[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^k)+L[1]+2763975236&4294967295,N=D+(R<<4&4294967295|R>>>28),R=k+(N^D^O)+L[4]+1272893353&4294967295,k=N+(R<<11&4294967295|R>>>21),R=O+(k^N^D)+L[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^N)+L[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^k)+L[13]+681279174&4294967295,N=D+(R<<4&4294967295|R>>>28),R=k+(N^D^O)+L[0]+3936430074&4294967295,k=N+(R<<11&4294967295|R>>>21),R=O+(k^N^D)+L[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^N)+L[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^k)+L[9]+3654602809&4294967295,N=D+(R<<4&4294967295|R>>>28),R=k+(N^D^O)+L[12]+3873151461&4294967295,k=N+(R<<11&4294967295|R>>>21),R=O+(k^N^D)+L[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=D+(O^k^N)+L[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(O^(D|~k))+L[0]+4096336452&4294967295,N=D+(R<<6&4294967295|R>>>26),R=k+(D^(N|~O))+L[7]+1126891415&4294967295,k=N+(R<<10&4294967295|R>>>22),R=O+(N^(k|~D))+L[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~N))+L[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~k))+L[12]+1700485571&4294967295,N=D+(R<<6&4294967295|R>>>26),R=k+(D^(N|~O))+L[3]+2399980690&4294967295,k=N+(R<<10&4294967295|R>>>22),R=O+(N^(k|~D))+L[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~N))+L[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~k))+L[8]+1873313359&4294967295,N=D+(R<<6&4294967295|R>>>26),R=k+(D^(N|~O))+L[15]+4264355552&4294967295,k=N+(R<<10&4294967295|R>>>22),R=O+(N^(k|~D))+L[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~N))+L[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~k))+L[4]+4149444226&4294967295,N=D+(R<<6&4294967295|R>>>26),R=k+(D^(N|~O))+L[11]+3174756917&4294967295,k=N+(R<<10&4294967295|R>>>22),R=O+(N^(k|~D))+L[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=D+(k^(O|~N))+L[9]+3951481745&4294967295,w.g[0]=w.g[0]+N&4294967295,w.g[1]=w.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.v=function(w,N){N===void 0&&(N=w.length);const D=N-this.blockSize,L=this.C;let O=this.h,k=0;for(;k<N;){if(O==0)for(;k<=D;)o(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<N;)if(L[O++]=w.charCodeAt(k++),O==this.blockSize){o(this,L),O=0;break}}else for(;k<N;)if(L[O++]=w[k++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var N=1;N<w.length-8;++N)w[N]=0;N=this.o*8;for(var D=w.length-8;D<w.length;++D)w[D]=N&255,N/=256;for(this.v(w),w=Array(16),N=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)w[N++]=this.g[D]>>>L&255;return w};function c(w,N){var D=g;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=N(w)}function f(w,N){this.h=N;const D=[];let L=!0;for(let O=w.length-1;O>=0;O--){const k=w[O]|0;L&&k==N||(D[O]=k,L=!1)}this.g=D}var g={};function y(w){return-128<=w&&w<128?c(w,function(N){return new f([N|0],N<0?-1:0)}):new f([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return x;if(w<0)return Y(_(-w));const N=[];let D=1;for(let L=0;w>=D;L++)N[L]=w/D|0,D*=4294967296;return new f(N,0)}function b(w,N){if(w.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w.charAt(0)=="-")return Y(b(w.substring(1),N));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(N,8));let L=x;for(let k=0;k<w.length;k+=8){var O=Math.min(8,w.length-k);const R=parseInt(w.substring(k,k+O),N);O<8?(O=_(Math.pow(N,O)),L=L.j(O).add(_(R))):(L=L.j(D),L=L.add(_(R)))}return L}var x=y(0),A=y(1),F=y(16777216);i=f.prototype,i.m=function(){if(W(this))return-Y(this).m();let w=0,N=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);w+=(L>=0?L:4294967296+L)*N,N*=4294967296}return w},i.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if($(this))return"0";if(W(this))return"-"+Y(this).toString(w);const N=_(Math.pow(w,6));var D=this;let L="";for(;;){const O=me(D,N).g;D=ie(D,O.j(N));let k=((D.g.length>0?D.g[0]:D.h)>>>0).toString(w);if(D=O,$(D))return k+L;for(;k.length<6;)k="0"+k;L=k+L}},i.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function $(w){if(w.h!=0)return!1;for(let N=0;N<w.g.length;N++)if(w.g[N]!=0)return!1;return!0}function W(w){return w.h==-1}i.l=function(w){return w=ie(this,w),W(w)?-1:$(w)?0:1};function Y(w){const N=w.g.length,D=[];for(let L=0;L<N;L++)D[L]=~w.g[L];return new f(D,~w.h).add(A)}i.abs=function(){return W(this)?Y(this):this},i.add=function(w){const N=Math.max(this.g.length,w.g.length),D=[];let L=0;for(let O=0;O<=N;O++){let k=L+(this.i(O)&65535)+(w.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);L=R>>>16,k&=65535,R&=65535,D[O]=R<<16|k}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ie(w,N){return w.add(Y(N))}i.j=function(w){if($(this)||$(w))return x;if(W(this))return W(w)?Y(this).j(Y(w)):Y(Y(this).j(w));if(W(w))return Y(this.j(Y(w)));if(this.l(F)<0&&w.l(F)<0)return _(this.m()*w.m());const N=this.g.length+w.g.length,D=[];for(var L=0;L<2*N;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<w.g.length;O++){const k=this.i(L)>>>16,R=this.i(L)&65535,ve=w.i(O)>>>16,De=w.i(O)&65535;D[2*L+2*O]+=R*De,de(D,2*L+2*O),D[2*L+2*O+1]+=k*De,de(D,2*L+2*O+1),D[2*L+2*O+1]+=R*ve,de(D,2*L+2*O+1),D[2*L+2*O+2]+=k*ve,de(D,2*L+2*O+2)}for(w=0;w<N;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=N;w<2*N;w++)D[w]=0;return new f(D,0)};function de(w,N){for(;(w[N]&65535)!=w[N];)w[N+1]+=w[N]>>>16,w[N]&=65535,N++}function ce(w,N){this.g=w,this.h=N}function me(w,N){if($(N))throw Error("division by zero");if($(w))return new ce(x,x);if(W(w))return N=me(Y(w),N),new ce(Y(N.g),Y(N.h));if(W(N))return N=me(w,Y(N)),new ce(Y(N.g),N.h);if(w.g.length>30){if(W(w)||W(N))throw Error("slowDivide_ only works with positive integers.");for(var D=A,L=N;L.l(w)<=0;)D=Re(D),L=Re(L);var O=we(D,1),k=we(L,1);for(L=we(L,2),D=we(D,2);!$(L);){var R=k.add(L);R.l(w)<=0&&(O=O.add(D),k=R),L=we(L,1),D=we(D,1)}return N=ie(w,O.j(N)),new ce(O,N)}for(O=x;w.l(N)>=0;){for(D=Math.max(1,Math.floor(w.m()/N.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),k=_(D),R=k.j(N);W(R)||R.l(w)>0;)D-=L,k=_(D),R=k.j(N);$(k)&&(k=A),O=O.add(k),w=ie(w,R)}return new ce(O,w)}i.B=function(w){return me(this,w).h},i.and=function(w){const N=Math.max(this.g.length,w.g.length),D=[];for(let L=0;L<N;L++)D[L]=this.i(L)&w.i(L);return new f(D,this.h&w.h)},i.or=function(w){const N=Math.max(this.g.length,w.g.length),D=[];for(let L=0;L<N;L++)D[L]=this.i(L)|w.i(L);return new f(D,this.h|w.h)},i.xor=function(w){const N=Math.max(this.g.length,w.g.length),D=[];for(let L=0;L<N;L++)D[L]=this.i(L)^w.i(L);return new f(D,this.h^w.h)};function Re(w){const N=w.g.length+1,D=[];for(let L=0;L<N;L++)D[L]=w.i(L)<<1|w.i(L-1)>>>31;return new f(D,w.h)}function we(w,N){const D=N>>5;N%=32;const L=w.g.length-D,O=[];for(let k=0;k<L;k++)O[k]=N>0?w.i(k+D)>>>N|w.i(k+D+1)<<32-N:w.i(k+D);return new f(O,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,rr=f}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,jl,eb,Ju,Mm,tb,nb,sb;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var p=0;p<u.length;++p){var E=u[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var E=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in E))break e;E=E[z]}u=u[u.length-1],S=E[u],p=p(S),p!=S&&p!=null&&e(E,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var E=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&E.push([S,p[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function y(u,p,E){return u.call.apply(u.bind,arguments)}function _(u,p,E){return _=y,_.apply(null,arguments)}function b(u,p){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,p){function E(){}E.prototype=p.prototype,u.Z=p.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(S,z,K){for(var se=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)se[Ie-2]=arguments[Ie];return p.prototype[z].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const p=u.length;if(p>0){const E=Array(p);for(let S=0;S<p;S++)E[S]=u[S];return E}return[]}function $(u,p){for(let S=1;S<arguments.length;S++){const z=arguments[S];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=u.length||0;const K=z.length||0;u.length=E+K;for(let se=0;se<K;se++)u[E+se]=z[se]}else u.push(z)}}class W{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(u){f.setTimeout(()=>{throw u},0)}function ie(){var u=w;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,E){const S=ce.get();S.set(p,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ce=new W(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,we=!1,w=new de,N=()=>{const u=Promise.resolve(void 0);Re=()=>{u.then(D)}};function D(){for(var u;u=ie();){try{u.h.call(u.g)}catch(E){Y(E)}var p=ce;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}we=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,p),f.removeEventListener("test",E,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ve(u,p){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}x(ve,O),ve.prototype.init=function(u,p){const E=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(E=="mouseover"?p=u.fromElement:E=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),C=0;function V(u,p,E,S,z){this.listener=u,this.proxy=null,this.src=p,this.type=E,this.capture=!!S,this.ha=z,this.key=++C,this.da=this.fa=!1}function P(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u,p,E){for(const S in u)p.call(E,u[S],S,u)}function be(u,p){for(const E in u)p.call(void 0,u[E],E,u)}function I(u){const p={};for(const E in u)p[E]=u[E];return p}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,p){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)u[E]=S[E];for(let K=0;K<q.length;K++)E=q[K],Object.prototype.hasOwnProperty.call(S,E)&&(u[E]=S[E])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,p,E,S,z){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const se=xe(u,p,S,z);return se>-1?(p=u[se],E||(p.fa=!1)):(p=new V(p,this.src,K,!!S,z),p.fa=E,u.push(p)),p};function ye(u,p){const E=p.type;if(E in u.g){var S=u.g[E],z=Array.prototype.indexOf.call(S,p,void 0),K;(K=z>=0)&&Array.prototype.splice.call(S,z,1),K&&(P(p),u.g[E].length==0&&(delete u.g[E],u.h--))}}function xe(u,p,E,S){for(let z=0;z<u.length;++z){const K=u[z];if(!K.da&&K.listener==p&&K.capture==!!E&&K.ha==S)return z}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(u,p,E,S,z){if(Array.isArray(p)){for(let K=0;K<p.length;K++)ot(u,p[K],E,S,z);return null}return E=Do(E),u&&u[De]?u.J(p,E,g(S)?!!S.capture:!1,z):yr(u,p,E,!1,S,z)}function yr(u,p,E,S,z,K){if(!p)throw Error("Invalid event type");const se=g(z)?!!z.capture:!!z;let Ie=_r(u);if(Ie||(u[Me]=Ie=new ae(u)),E=Ie.add(p,E,S,se,K),E.proxy)return E;if(S=ha(),E.proxy=S,S.src=u,S.listener=E,u.addEventListener)k||(z=se),z===void 0&&(z=!1),u.addEventListener(p.toString(),S,z);else if(u.attachEvent)u.attachEvent(hs(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ha(){function u(E){return p.call(u.src,u.listener,E)}const p=Io;return u}function fa(u,p,E,S,z){if(Array.isArray(p))for(var K=0;K<p.length;K++)fa(u,p[K],E,S,z);else S=g(S)?!!S.capture:!!S,E=Do(E),u&&u[De]?(u=u.i,K=String(p).toString(),K in u.g&&(p=u.g[K],E=xe(p,E,S,z),E>-1&&(P(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete u.g[K],u.h--)))):u&&(u=_r(u))&&(p=u.g[p.toString()],u=-1,p&&(u=xe(p,E,S,z)),(E=u>-1?p[u]:null)&&da(E))}function da(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[De])ye(p.i,u);else{var E=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(E,S,u.capture):p.detachEvent?p.detachEvent(hs(E),S):p.addListener&&p.removeListener&&p.removeListener(S),(E=_r(p))?(ye(E,u),E.h==0&&(E.src=null,p[Me]=null)):P(u)}}}function hs(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Io(u,p){if(u.da)u=!0;else{p=new ve(p,this);const E=u.listener,S=u.ha||u.src;u.fa&&da(u),u=E.call(S,p)}return u}function _r(u){return u=u[Me],u instanceof ae?u:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(u){return typeof u=="function"?u:(u[Co]||(u[Co]=function(p){return u.handleEvent(p)}),u[Co])}function vt(){L.call(this),this.i=new ae(this),this.M=this,this.G=null}x(vt,L),vt.prototype[De]=!0,vt.prototype.removeEventListener=function(u,p,E,S){fa(this,u,p,E,S)};function Ot(u,p){var E,S=u.G;if(S)for(E=[];S;S=S.G)E.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new O(p,u);else if(p instanceof O)p.target=p.target||u;else{var z=p;p=new O(S,u),ne(p,z)}z=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=p.g=E[se],z=_i(K,S,!0,p)&&z;if(K=p.g=u,z=_i(K,S,!0,p)&&z,z=_i(K,S,!1,p)&&z,E)for(se=0;se<E.length;se++)K=p.g=E[se],z=_i(K,S,!1,p)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const E=u.g[p];for(let S=0;S<E.length;S++)P(E[S]);delete u.g[p],u.h--}}this.G=null},vt.prototype.J=function(u,p,E,S){return this.i.add(String(u),p,!1,E,S)},vt.prototype.K=function(u,p,E,S){return this.i.add(String(u),p,!0,E,S)};function _i(u,p,E,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let K=0;K<p.length;++K){const se=p[K];if(se&&!se.da&&se.capture==E){const Ie=se.listener,mt=se.ha||se.src;se.fa&&ye(u.i,se),z=Ie.call(mt,S)!==!1&&z}}return z&&!S.defaultPrevented}function af(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function pc(u){u.g=af(()=>{u.g=null,u.i&&(u.i=!1,pc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class en extends L{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(u){L.call(this),this.h=u,this.g={}}x(vr,L);var Oo=[];function Mo(u){le(u.g,function(p,E){this.g.hasOwnProperty(E)&&da(p)},u),u.g={}}vr.prototype.N=function(){vr.Z.N.call(this),Mo(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=f.JSON.stringify,of=f.JSON.parse,yc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function _c(){}function vc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}x(zt,O);function In(){O.call(this,"c")}x(In,O);var dt={},Ec=null;function ma(){return Ec=Ec||new vt}dt.Ia="serverreachability";function bc(u){O.call(this,dt.Ia,u)}x(bc,O);function fs(u){const p=ma();Ot(p,new bc(p))}dt.STAT_EVENT="statevent";function Er(u,p){O.call(this,dt.STAT_EVENT,u),this.stat=p}x(Er,O);function Et(u){const p=ma();Ot(p,new Er(p,u))}dt.Ja="timingevent";function ds(u,p){O.call(this,dt.Ja,u),this.size=p}x(ds,O);function ms(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function lf(u,p,E,S,z,K){u.info(function(){if(u.g)if(K){var se="",Ie=K.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var mt=Ie[Ge].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Mn=lt.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(lt+"="+mt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+p+`
`+E+`
`+se})}function Tc(u,p,E,S,z,K,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+p+`
`+E+`
`+K+" "+se})}function gs(u,p,E,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cf(u,E)+(S?" "+S:"")})}function br(u,p){u.info(function(){return"TIMEOUT: "+p})}Kn.prototype.info=function(){};function cf(u,p){if(!u.g)return p;if(!p)return null;try{const K=JSON.parse(p);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var E=K[u];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return vi(K)}catch{return p}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function xr(){}x(xr,_c),xr.prototype.g=function(){return new XMLHttpRequest},jo=new xr;function Gs(u){return encodeURIComponent(String(u))}function xc(u){var p=1;u=u.split(":");const E=[];for(;p>0&&u.length;)E.push(u.shift()),p--;return u.length&&E.push(u.join(":")),E}function Qn(u,p,E,S){this.j=u,this.i=p,this.l=E,this.S=S||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function ps(u,p,E){u.M=1,u.A=Sr(xt(p)),u.u=E,u.R=!0,ga(u,null)}function ga(u,p){u.F=Date.now(),ys(u),u.B=xt(u.A);var E=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),va(E.i,"t",S),u.C=0,E=u.j.L,u.h=new $n,u.g=Uc(u.j,E?p:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),p=u.V,E=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let K=0;K<z.length;K++){const se=ot(E,z[K],S||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),fs(),lf(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Jn(u)==3?p.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Jn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ie!=4||mt==7||(mt==8||Ge<=0?fs(3):fs(2)),_s(this);var p=this.g.ca();this.X=p;var E=uf(this);if(this.o=p==200,Tc(this.i,this.v,this.B,this.l,this.S,Ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var K=S;break t}}K=null}if(u=K)gs(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vs(this,u);else{this.o=!1,this.m=3,Et(12),_n(this),Cn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=wc(this,E),lt==jt){Ie==4&&(this.m=4,Et(14),u=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==bt){this.m=4,Et(15),gs(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else gs(this.i,this.l,lt,null),vs(this,lt);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)gs(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Xo(se),se.P=!0,Et(11))}}else gs(this.i,this.l,E,null),vs(this,E);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?kc(this.j,this):(this.o=!1,ys(this)))}else Ks(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),_n(this),Cn(this)}}}catch{}finally{}};function uf(u){if(!Sc(u))return u.g.la();const p=Bt(u.g);if(p==="")return"";let E="";const S=p.length,z=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Cn(u),"";u.h.i=new f.TextDecoder}for(let K=0;K<S;K++)u.h.h=!0,E+=u.h.i.decode(p[K],{stream:!(z&&K==S-1)});return p.length=0,u.h.g+=E,u.C=0,u.h.g}function Sc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wc(u,p){var E=u.C,S=p.indexOf(`
`,E);return S==-1?jt:(E=Number(p.substring(E,S)),isNaN(E)?bt:(S+=1,S+E>p.length?jt:(p=p.slice(S,S+E),u.C=S+E,p)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function ys(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ms(_(u.aa,u),p)}function _s(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(fs(),Et(17)),_n(this),this.m=2,Cn(this)):pa(this,this.T-u)};function Cn(u){u.j.I==0||u.K||kc(u.j,u)}function _n(u){_s(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Mo(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function vs(u,p){try{var E=u.j;if(E.I!=0&&(E.g==u||bs(E.h,u))){if(!u.L&&bs(E.h,u)&&E.I==3){try{var S=E.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Sa(E),Ni(E);else break e;Dr(E),Et(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ms(_(E.Va,E),6e3));Es(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ns(E,11)}else if((u.L||E.g==u)&&Sa(E),!R(p))for(z=E.Ba.g.parse(p),p=0;p<z.length;p++){let Ge=z[p];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Rs=Ge[4];Rs!=null&&(E.za=Rs,E.j.info("SVER="+E.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const es=u.g;if(es){const Or=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var K=S.h;K.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Uo(K,K.h),K.h=null))}if(S.G){const wa=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,$e(S.J,S.G,wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=u;if(S.na=Lc(S,S.L?S.ba:null,S.W),se.L){Po(S.h,se);var Ie=se,mt=S.O;mt&&(Ie.H=mt),Ie.D&&(_s(Ie),ys(Ie)),S.g=se}else Oc(S);E.i.length>0&&As(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ns(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ns(E,7):Qo(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}fs(4)}catch{}}var Tt=class{constructor(u,p){this.g=u,this.map=p}};function Vo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Es(u){return u.h?1:u.g?u.g.size:0}function bs(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Uo(u,p){u.g?u.g.add(p):u.h=p}function Po(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Vo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const E of u.g.values())p=p.concat(E.G);return p}return F(u.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,p){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const S=u[E].indexOf("=");let z,K=null;S>=0?(z=u[E].substring(0,S),K=u[E].substring(S+1)):z=u[E],p(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof vn?(this.l=u.l,Vt(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.u),this.h=u.h,Bo(this,Cc(u.i)),this.m=u.m):u&&(p=String(u).match(Ac))?(this.l=!1,Vt(this,p[1]||"",!0),this.o=Ts(p[2]||""),this.g=Ts(p[3]||"",!0),Ei(this,p[4]),this.h=Ts(p[5]||"",!0),Bo(this,p[6]||"",!0),this.m=Ts(p[7]||"")):(this.l=!1,this.i=new Ti(null,this.l))}vn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(wr(p,_a,!0),":");var E=this.g;return(E||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wr(p,_a,!0),"@"),u.push(Gs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(wr(E,E.charAt(0)=="/"?Ho:Nc,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",wr(E,Rc)),u.join("")},vn.prototype.resolve=function(u){const p=xt(this);let E=!!u.j;E?Vt(p,u.j):E=!!u.o,E?p.o=u.o:E=!!u.g,E?p.g=u.g:E=u.u!=null;var S=u.h;if(E)Ei(p,u.u);else if(E=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=p.h.lastIndexOf("/");z!=-1&&(S=p.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let se=0;se<z.length;){const Ie=z[se++];Ie=="."?S&&se==z.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==z.length&&K.push("")):(K.push(Ie),S=!0)}S=K.join("/")}else S=z}return E?p.h=S:E=u.i.toString()!=="",E?Bo(p,Cc(u.i)):E=!!u.m,E&&(p.m=u.m),p};function xt(u){return new vn(u)}function Vt(u,p,E){u.j=E?Ts(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Bo(u,p,E){p instanceof Ti?(u.i=p,Ea(u.i,u.l)):(E||(p=wr(p,bi)),u.i=new Ti(p,u.l))}function $e(u,p,E){u.i.set(p,E)}function Sr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ts(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,p,E){return typeof u=="string"?(u=encodeURI(u).replace(p,rn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,Nc=/[#\?:]/g,Ho=/[#\?]/g,bi=/[#\?@]/g,Rc=/#/g;function Ti(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(p,E){u.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}i=Ti.prototype,i.add=function(u,p){an(this),this.i=null,u=xi(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(p),this.h+=1,this};function Ic(u,p){an(u),p=xi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function qo(u,p){return an(u),p=xi(u,p),u.g.has(p)}i.forEach=function(u,p){an(this),this.g.forEach(function(E,S){E.forEach(function(z){u.call(p,z,S,this)},this)},this)};function Fo(u,p){an(u);let E=[];if(typeof p=="string")qo(u,p)&&(E=E.concat(u.g.get(xi(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)E=E.concat(u[p]);return E}i.set=function(u,p){return an(this),this.i=null,u=xi(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=Fo(this,u),u.length>0?String(u[0]):p):p};function va(u,p,E){Ic(u,p),E.length>0&&(u.i=null,u.g.set(xi(u,p),F(E)),u.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var E=p[S];const z=Gs(E);E=Fo(this,E);for(let K=0;K<E.length;K++){let se=z;E[K]!==""&&(se+="="+Gs(E[K])),u.push(se)}}return this.i=u.join("&")};function Cc(u){const p=new Ti;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function xi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ea(u,p){p&&!u.j&&(an(u),u.i=null,u.g.forEach(function(E,S){const z=S.toLowerCase();S!=z&&(Ic(this,S),va(this,z,E))},u)),u.j=p}function Xn(u,p){const E=new Kn;if(f.Image){const S=new Image;S.onload=b(Dn,E,"TestLoadImage: loaded",!0,p,S),S.onerror=b(Dn,E,"TestLoadImage: error",!1,p,S),S.onabort=b(Dn,E,"TestLoadImage: abort",!1,p,S),S.ontimeout=b(Dn,E,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Go(u,p){const E=new Kn,S=new AbortController,z=setTimeout(()=>{S.abort(),Dn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?Dn(E,"TestPingServer: ok",!0,p):Dn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Dn(E,"TestPingServer: error",!1,p)})}function Dn(u,p,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function Si(){this.g=new yc}function xs(u){this.i=u.Sb||null,this.h=u.ab||!1}x(xs,_c),xs.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,p){vt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ar,vt),i=Ar.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Wn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?wi(this):Wn(this),this.readyState==3&&ba(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,wi(this))},i.Na=function(u){this.g&&(this.response=u,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}i.setRequestHeader=function(u,p){this.A.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=p.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let p="";return le(u,function(E,S){p+=S,p+=":",p+=E,p+=`\r
`}),p}function Nr(u,p,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=On(E),typeof u=="string"?E!=null&&Gs(E):$e(u,p,E))}function Je(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,vt);var Ss=/^https?$/i,Yo=["POST","PUT"];i=Je.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,p,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(K){Rr(this,K);return}if(u=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())E.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Rr(this,K)}};function Rr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Ko(u),Ys(u)}function Ko(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Ys(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ys(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},i.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var S;if(S=K===0){let se=String(u.D).match(Ac)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!Ss.test(se?se.toLowerCase():"")}E=S}if(E)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var z=Jn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Ko(u)}}finally{Ys(u)}}}}function Ys(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,p||Ot(u,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),of(p)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(u){const p={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var E=xc(u[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=p[z]||[];p[z]=K,K.push(E)}be(p,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(u,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||p}function Ai(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,u),this.Za=ws("retryDelaySeedMs",1e4,u),this.Ta=ws("forwardChannelMaxRetries",2,u),this.va=ws("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new Si,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ai.prototype,i.ka=8,i.I=1,i.connect=function(u,p,E,S){Et(0),this.W=u,this.H=p||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Lc(this,null,this.W),As(this)};function Qo(u){if(Ta(u),u.I==3){var p=u.V++,E=xt(u.J);if($e(E,"SID",u.M),$e(E,"RID",p),$e(E,"TYPE","terminate"),Cr(u,E),p=new Qn(u,u.j,p),p.M=2,p.A=Sr(xt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=p.A,E=!0),E||(p.g=Uc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ys(p)}Vc(u)}function Ni(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function Ta(u){Ni(u),u.v&&(f.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function As(u){if(!Lo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Re||N(),we||(Re(),we=!0),w.add(p,u),u.D=0}}function xa(u,p){return Es(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ms(_(u.Ea,u,p),jc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=I(K),ne(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Dc(this,z,p),E=xt(this.J),$e(E,"RID",u),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Cr(this,E),K&&(this.R?p="headers="+Gs(On(K))+"&"+p:this.u&&Nr(E,this.u,K)),Uo(this.h,z),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",p),$e(E,"SID","null"),z.U=!0,ps(z,E,null)):ps(z,E,p),this.I=2}}else this.I==3&&(u?$o(this,u):this.i.length==0||Lo(this.h)||$o(this))};function $o(u,p){var E;p?E=p.l:E=u.V++;const S=xt(u.J);$e(S,"SID",u.M),$e(S,"RID",E),$e(S,"AID",u.K),Cr(u,S),u.u&&u.o&&Nr(S,u.u,u.o),E=new Qn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Dc(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,E),ps(E,S,p)}function Cr(u,p){u.H&&le(u.H,function(E,S){$e(p,S,E)}),u.l&&le({},function(E,S){$e(p,S,E)})}function Dc(u,p,E){E=Math.min(u.i.length,E);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let Ie=-1;for(;;){const mt=["count="+E];Ie==-1?E>0?(Ie=z[0].g,mt.push("ofs="+Ie)):Ie=0:mt.push("ofs="+Ie);let Ge=!0;for(let lt=0;lt<E;lt++){var K=z[lt].g;const Mn=z[lt].map;if(K-=Ie,K<0)Ie=Math.max(0,z[lt].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Rs,Zn]of se){let es=Zn;g(Zn)&&(es=vi(Zn)),mt.push(K+Rs+"="+encodeURIComponent(es))}}catch(Rs){throw mt.push(K+"type="+encodeURIComponent("_badmap")),Rs}}catch{S&&S(Mn)}}if(Ge){se=mt.join("&");break e}}se=void 0}return u=u.i.splice(0,E),p.G=u,se}function Oc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Re||N(),we||(Re(),we=!0),w.add(p,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ms(_(u.Da,u),jc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ms(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ni(this),Mc(this))};function Xo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Mc(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=xt(u.na);$e(p,"RID","rpc"),$e(p,"SID",u.M),$e(p,"AID",u.K),$e(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(p,"TO",u.ia),$e(p,"TYPE","xmlhttp"),Cr(u,p),u.u&&u.o&&Nr(p,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Sr(xt(p)),E.u=null,E.R=!0,ga(E,u)}i.Va=function(){this.C!=null&&(this.C=null,Ni(this),Dr(this),Et(19))};function Sa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function kc(u,p){var E=null;if(u.g==p){Sa(u),Xo(u),u.g=null;var S=2}else if(bs(u.h,p))E=p.G,Po(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var z=u.D;S=ma(),Ot(S,new ds(S,E)),As(u)}else Oc(u);else if(z=p.m,z==3||z==0&&p.X>0||!(S==1&&xa(u,p)||S==2&&Dr(u)))switch(E&&E.length>0&&(p=u.h,p.i=p.i.concat(E)),z){case 1:Ns(u,5);break;case 4:Ns(u,10);break;case 3:Ns(u,6);break;default:Ns(u,2)}}}function jc(u,p){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*p}function Ns(u,p){if(u.j.info("Error code "+p),p==2){var E=_(u.bb,u),S=u.Ua;const z=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vt(S,"https"),Sr(S),z?Xn(S.toString(),E):Go(S.toString(),E)}else Et(2);u.I=0,u.l&&u.l.pa(p),Vc(u),Ta(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Vc(u){if(u.I=0,u.ja=[],u.l){const p=zo(u.h);(p.length!=0||u.i.length!=0)&&($(u.ja,p),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Lc(u,p,E){var S=E instanceof vn?xt(E):new vn(E);if(S.g!="")p&&(S.g=p+"."+S.g),Ei(S,S.u);else{var z=f.location;S=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const K=new vn(null);S&&Vt(K,S),p&&(K.g=p),z&&Ei(K,z),E&&(K.h=E),S=K}return E=u.G,p=u.wa,E&&p&&$e(S,E,p),$e(S,"VER",u.ka),Cr(u,S),S}function Uc(u,p,E){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Je(new xs({ab:E})):new Je(u.ma),p.Fa(u.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}i=Pc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ri(){}Ri.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){vt.call(this),this.g=new Ai(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Qs(this)}x(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Qo(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=vi(u),u=E);p.i.push(new Tt(p.Ya++,u)),p.I==3&&As(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,tn.Z.N.call(this)};function zc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const E in p){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(zc,zt);function Bc(){In.call(this),this.status=1}x(Bc,In);function Qs(u){this.g=u}x(Qs,Pc),Qs.prototype.ra=function(){Ot(this.g,"a")},Qs.prototype.qa=function(u){Ot(this.g,new zc(u))},Qs.prototype.pa=function(u){Ot(this.g,new Bc)},Qs.prototype.oa=function(){Ot(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,sb=function(){return new Ri},nb=function(){return ma()},tb=dt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Ju=Tr,ko.COMPLETE="complete",eb=ko,vc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,jl=vc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,ZE=Je}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",tv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Oh("@firebase/firestore");function no(){return Zr.logLevel}function ue(i,...e){if(Zr.logLevel<=Ue.DEBUG){const n=e.map(lg);Zr.debug(`Firestore (${To}): ${i}`,...n)}}function mi(i,...e){if(Zr.logLevel<=Ue.ERROR){const n=e.map(lg);Zr.error(`Firestore (${To}): ${i}`,...n)}}function fo(i,...e){if(Zr.logLevel<=Ue.WARN){const n=e.map(lg);Zr.warn(`Firestore (${To}): ${i}`,...n)}}function lg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ib(i,r,n)}function ib(i,e,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function Qe(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||ib(e,o,r)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new rb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class cN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=fN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Pe(i,e){return i<e?-1:i>e?1:0}function km(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return gm(o)===gm(c)?Pe(o,c):gm(o)?1:-1}return Pe(i.length,e.length)}const dN=55296,mN=57343;function gm(i){const e=i.charCodeAt(0);return e>=dN&&e<=mN}function mo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__name__";class Ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Ms.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Ms.isNumericId(e),o=Ms.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class st extends Ms{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const gN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ms{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return gN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new Kt([sv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(c(),o++)}if(c(),f)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(st.fromString(e))}static fromName(e){return new pe(st.fromString(e).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function pN(i,e,n,r){if(e===!0&&r===!0)throw new oe(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function iv(i){if(!pe.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rv(i){if(pe.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ob(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function cs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(i);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function oc(i,e){if(!ob(i))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-62135596800,ov=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ov);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<av)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function yN(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new lr(o,pe.empty(),e)}function _N(i){return new lr(i.readTime,i.key,$l)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(Se.min(),pe.empty(),$l)}static max(){return new lr(Se.max(),pe.empty(),$l)}}function vN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==EN)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&n()}),(y=>r(y)))})),f=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const c=e.length,f=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((b=>{f[_]=b,++g,g===c&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function TN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function Vh(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function xN(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="";function SN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=lv(e)),e=wN(i.get(n),e);return lv(e)}function wN(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case lb:n+="";break;default:n+=c}}return n}function lv(i){return i+lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function gr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function cb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ub("Invalid base64 string: "+c):c}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=AN.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ur(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[fb]?.stringValue===hb}function Lh(i){const e=i.mapValue.fields[db];return hg(e)?Lh(e):e}function Xl(i){const e=cr(i.mapValue.fields[mb].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,o,c,f,g,y,_,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const hh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="__type__",RN="__max__",Ku={mapValue:{}},pb="__vector__",fh="value";function hr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:CN(i)?9007199254740991:IN(i)?10:11:Ee(28295,{value:i})}function Hs(i,e){if(i===e)return!0;const n=hr(i);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xl(i).isEqual(Xl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=cr(o.timestampValue),g=cr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ur(o.bytesValue).isEqual(ur(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=yt(o.doubleValue),g=yt(c.doubleValue);return f===g?uh(f)===uh(g):isNaN(f)&&isNaN(g)}return!1})(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(cv(f)!==cv(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Hs(f[y],g[y])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Jl(i,e){return(i.values||[]).find((n=>Hs(n,e)))!==void 0}function go(i,e){if(i===e)return 0;const n=hr(i),r=hr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=yt(c.integerValue||c.doubleValue),y=yt(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(i,e);case 3:return hv(i.timestampValue,e.timestampValue);case 4:return hv(Xl(i),Xl(e));case 5:return km(i.stringValue,e.stringValue);case 6:return(function(c,f){const g=ur(c),y=ur(f);return g.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),y=f.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=Pe(g[_],y[_]);if(b!==0)return b}return Pe(g.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Pe(yt(c.latitude),yt(f.latitude));return g!==0?g:Pe(yt(c.longitude),yt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return fv(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},y=f.fields||{},_=g[fh]?.arrayValue,b=y[fh]?.arrayValue,x=Pe(_?.values?.length||0,b?.values?.length||0);return x!==0?x:fv(_,b)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Ku.mapValue&&f===Ku.mapValue)return 0;if(c===Ku.mapValue)return 1;if(f===Ku.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=f.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let x=0;x<y.length&&x<b.length;++x){const A=km(y[x],b[x]);if(A!==0)return A;const F=go(g[y[x]],_[b[x]]);if(F!==0)return F}return Pe(y.length,b.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function hv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=cr(i),r=cr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function fv(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=go(n[o],r[o]);if(c)return c}return Pe(n.length,r.length)}function po(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ur(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=jm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Zu(i){switch(hr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(i);return e?16+Zu(e):16;case 5:return 2*i.stringValue.length;case 6:return ur(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Zu(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((c,f)=>{o+=c.length+Zu(f)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function dv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vm(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function mv(i){return!!i&&"nullValue"in i}function gv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function IN(i){return(i?.mapValue?.fields||{})[gb]?.stringValue===pb}function zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return gr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zl(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return{...i}}function CN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=g.popLast()}f?r[g.lastSegment()]=zl(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){gr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new gn(zl(this.value))}}function yb(i){const e=[];return gr(i.fields,((n,r)=>{const o=new Kt([n]);if(eh(r)){const c=yb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,o,c,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,r,o){return new Jt(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function pv(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=go(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function yv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hs(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{}class It extends _b{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MN(e,n,r):n==="array-contains"?new VN(e,r):n==="in"?new LN(e,r):n==="not-in"?new UN(e,r):n==="array-contains-any"?new PN(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kN(e,r):new jN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends _b{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new us(e,n)}matches(e){return vb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vb(i){return i.op==="and"}function Eb(i){return ON(i)&&vb(i)}function ON(i){for(const e of i.filters)if(e instanceof us)return!1;return!0}function Lm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+po(i.value);if(Eb(i))return i.filters.map((e=>Lm(e))).join(",");{const e=i.filters.map((n=>Lm(n))).join(",");return`${i.op}(${e})`}}function bb(i,e){return i instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Hs(r.value,o.value)})(i,e):i instanceof us?(function(r,o){return o instanceof us&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,g)=>c&&bb(f,o.filters[g])),!0):!1})(i,e):void Ee(19439)}function Tb(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(i):i instanceof us?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"})(i):"Filter"}class MN extends It{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kN extends It{constructor(e,n){super(e,"in",n),this.keys=xb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jN extends It{constructor(e,n){super(e,"not-in",n),this.keys=xb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xb(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class VN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&Jl(n.arrayValue,this.value)}}class LN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class UN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class PN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n=null,r=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function _v(i,e=null,n=[],r=[],o=null,c=null,f=null){return new zN(i,e,n,r,o,c,f)}function dg(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!DN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!bb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yv(i.startAt,e.startAt)&&yv(i.endAt,e.endAt)}function Um(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,r=[],o=[],c=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BN(i,e,n,r,o,c,f,g){return new wo(i,e,n,r,o,c,f,g)}function gg(i){return new wo(i)}function vv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Sb(i){return i.collectionGroup!==null}function Bl(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kt(Kt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zl(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Zl(Kt.keyField(),r))}return e.Ie}function ks(i){const e=Ne(i);return e.Ee||(e.Ee=HN(e,Bl(i))),e.Ee}function HN(i,e){if(i.limitType==="F")return _v(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zl(o.field,c)}));const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return _v(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Pm(i,e){const n=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zm(i,e,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uh(i,e){return mg(ks(i),ks(e))&&i.limitType===e.limitType}function wb(i){return`${dg(ks(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Tb(o))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(ks(i))}; limitType=${i.limitType})`}function Ph(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of Bl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,g,y){const _=pv(f,g,y);return f.inclusive?_<=0:_<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(f,g,y){const _=pv(f,g,y);return f.inclusive?_>=0:_>0})(r.endAt,Bl(r),o))})(i,e)}function qN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ab(i){return(e,n)=>{let r=!1;for(const o of Bl(i)){const c=FN(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function FN(i,e,n){const r=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,f,g){const y=f.data.field(c),_=g.data.field(c);return y!==null&&_!==null?go(y,_):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new ut(pe.comparator);function gi(){return GN}const Nb=new ut(pe.comparator);function Vl(...i){let e=Nb;for(const n of i)e=e.insert(n.key,n);return e}function Rb(i){let e=Nb;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Hl()}function Ib(){return Hl()}function Hl(){return new oa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const YN=new ut(pe.comparator),KN=new kt(pe.comparator);function ze(...i){let e=KN;for(const n of i)e=e.add(n);return e}const QN=new kt(Pe);function $N(){return QN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Cb(i){return{integerValue:""+i}}function XN(i,e){return xN(e)?Cb(e):pg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function WN(i,e,n){return i instanceof ec?(function(o,c){const f={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hg(c)&&(c=Lh(c)),c&&(f.fields[db]=c),{mapValue:f}})(n,e):i instanceof tc?Ob(i,e):i instanceof nc?Mb(i,e):(function(o,c){const f=Db(o,c),g=Ev(f)+Ev(o.Ae);return Vm(f)&&Vm(o.Ae)?Cb(g):pg(o.serializer,g)})(i,e)}function JN(i,e,n){return i instanceof tc?Ob(i,e):i instanceof nc?Mb(i,e):n}function Db(i,e){return i instanceof mh?(function(r){return Vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ec extends zh{}class tc extends zh{constructor(e){super(),this.elements=e}}function Ob(i,e){const n=kb(e);for(const r of i.elements)n.some((o=>Hs(o,r)))||n.push(r);return{arrayValue:{values:n}}}class nc extends zh{constructor(e){super(),this.elements=e}}function Mb(i,e){let n=kb(e);for(const r of i.elements)n=n.filter((o=>!Hs(o,r)));return{arrayValue:{values:n}}}class mh extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ev(i){return yt(i.integerValue||i.doubleValue)}function kb(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.field=e,this.transform=n}}function e2(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof tc&&o instanceof tc||r instanceof nc&&o instanceof nc?mo(r.elements,o.elements,Hs):r instanceof mh&&o instanceof mh?Hs(r.Ae,o.Ae):r instanceof ec&&o instanceof ec})(i.transform,e.transform)}class t2{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bh{}function jb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yg(i.key,qn.none()):new lc(i.key,i.data,qn.none());{const n=i.data,r=gn.empty();let o=new kt(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new pr(i.key,r,new Nn(o.toArray()),qn.none())}}function n2(i,e,n){i instanceof lc?(function(o,c,f){const g=o.value.clone(),y=Tv(o.fieldTransforms,c,f.transformResults);g.setAll(y),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):i instanceof pr?(function(o,c,f){if(!th(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Tv(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Vb(o)),y.setAll(g),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(i,e,n,r){return i instanceof lc?(function(c,f,g,y){if(!th(c.precondition,f))return g;const _=c.value.clone(),b=xv(c.fieldTransforms,y,f);return _.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(i,e,n,r):i instanceof pr?(function(c,f,g,y){if(!th(c.precondition,f))return g;const _=xv(c.fieldTransforms,y,f),b=f.data;return b.setAll(Vb(c)),b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(i,e,n,r):(function(c,f,g){return th(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(i,e,n)}function s2(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=Db(r.transform,o||null);c!=null&&(n===null&&(n=gn.empty()),n.set(r.field,c))}return n||null}function bv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,((c,f)=>e2(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lc extends Bh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pr extends Bh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Tv(i,e,n){const r=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],f=c.transform,g=e.data.field(c.field);r.set(c.field,JN(f,g,n[o]))}return r}function xv(i,e,n){const r=new Map;for(const o of i){const c=o.transform,f=n.data.field(o.field);r.set(o.field,WN(c,f,e))}return r}class yg extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&n2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ib();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const y=jb(f,g);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,r)=>bv(n,r)))&&mo(this.baseMutations,e.baseMutations,((n,r)=>bv(n,r)))}}class _g{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return YN})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new _g(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,He;function l2(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Lb(i){if(i===void 0)return mi("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Rt.OK:return Z.OK;case Rt.CANCELLED:return Z.CANCELLED;case Rt.UNKNOWN:return Z.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Z.INTERNAL;case Rt.UNAVAILABLE:return Z.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Z.NOT_FOUND;case Rt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Rt.ABORTED:return Z.ABORTED;case Rt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Rt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(He=Rt||(Rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new rr([4294967295,4294967295],0);function Sv(i){const e=c2().encode(i),n=new JE;return n.update(e),new Uint8Array(n.digest())}function wv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([n,r],0),new rr([o,c],0)]}class vg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(rr.fromNumber(r)));return o.compare(u2)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sv(e),[r,o]=wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new vg(c,o,n);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=Sv(e),[r,o]=wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(Se.min(),o,new ut(Pe),gi(),ze())}}class cc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cc(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Ub{constructor(e,n){this.targetId=e,this.Ce=n}}class Pb{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Av{constructor(){this.ve=0,this.Fe=Nv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:c})}})),new cc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class h2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.Je=Qu(),this.He=Qu(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Um(c))if(r===0){const f=new pe(c.path);this.et(n,f,Jt.newNoDocument(f,Se.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(e),y=g?this.ct(g,e,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=ur(r).toUint8Array()}catch(y){if(y instanceof ub)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new vg(f,o,c)}catch(y){return fo(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&Um(g.target)){const y=new pe(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Jt.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let r=ze();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Hh(e,n,this.Ye,this.je,r);return this.je=gi(),this.Je=Qu(),this.He=Qu(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Av,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Av),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new ut(pe.comparator)}function Nv(){return new ut(pe.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class g2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(i,e){return i.useProto3Json||Vh(e)?e:{value:e}}function gh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function p2(i,e){return gh(i,e.toTimestamp())}function js(i){return Qe(!!i,49232),Se.fromTimestamp((function(n){const r=cr(n);return new at(r.seconds,r.nanos)})(i))}function Eg(i,e){return Hm(i,e).canonicalString()}function Hm(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Bb(i){const e=st.fromString(i);return Qe(Yb(e),10190,{key:e.toString()}),e}function qm(i,e){return Eg(i.databaseId,e.path)}function pm(i,e){const n=Bb(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(qb(n))}function Hb(i,e){return Eg(i.databaseId,e)}function y2(i){const e=Bb(i);return e.length===4?st.emptyPath():qb(e)}function Fm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qb(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Rv(i,e,n){return{name:qm(i,e),fields:n.value.mapValue.fields}}function _2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Qt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const b=_.code===void 0?Z.UNKNOWN:Lb(_.code);return new oe(b,_.message||"")})(f);n=new Pb(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=pm(i,r.document.name),c=js(r.document.updateTime),f=r.document.createTime?js(r.document.createTime):Se.min(),g=new gn({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(o,c,f,g),_=r.targetIds||[],b=r.removedTargetIds||[];n=new nh(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=pm(i,r.document),c=r.readTime?js(r.readTime):Se.min(),f=Jt.newNoDocument(o,c),g=r.removedTargetIds||[];n=new nh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=pm(i,r.document),c=r.removedTargetIds||[];n=new nh([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new o2(o,c),g=r.targetId;n=new Ub(g,f)}}return n}function v2(i,e){let n;if(e instanceof lc)n={update:Rv(i,e.key,e.value)};else if(e instanceof yg)n={delete:qm(i,e.key)};else if(e instanceof pr)n={update:Rv(i,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof i2))return Ee(16599,{Vt:e.type});n={verify:qm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const g=f.transform;if(g instanceof ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:p2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(i,e.precondition)),n}function E2(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(o,c){let f=o.updateTime?js(o.updateTime):js(c);return f.isEqual(Se.min())&&(f=js(c)),new t2(f,o.transformResults||[])})(n,e)))):[]}function b2(i,e){return{documents:[Hb(i,e.path)]}}function T2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hb(i,o);const c=(function(_){if(_.length!==0)return Gb(us.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((b=>(function(A){return{field:io(A.field),direction:w2(A.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Bm(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function x2(i){let e=y2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(x){const A=Fb(x);return A instanceof us&&Eb(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(x){return x.map((A=>(function($){return new Zl(ro($.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(A)))})(n.orderBy));let g=null;n.limit&&(g=(function(x){let A;return A=typeof x=="object"?x.value:x,Vh(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(x){const A=!!x.before,F=x.values||[];return new dh(F,A)})(n.startAt));let _=null;return n.endAt&&(_=(function(x){const A=!x.before,F=x.values||[];return new dh(F,A)})(n.endAt)),BN(e,o,f,c,g,"F",y,_)}function S2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return us.create(n.compositeFilter.filters.map((r=>Fb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function w2(i){return f2[i]}function A2(i){return d2[i]}function N2(i){return m2[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Kt.fromServerFormat(i.fieldPath)}function Gb(i){return i instanceof It?(function(n){if(n.op==="=="){if(gv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(mv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(mv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:A2(n.op),value:n.value}}})(i):i instanceof us?(function(n){const r=n.getFilters().map((o=>Gb(o)));return r.length===1?r[0]:{compositeFilter:{op:N2(n.op),filters:r}}})(i):Ee(54877,{filter:i})}function R2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,o,c=Se.min(),f=Se.min(),g=Qt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.yt=e}}function C2(i){const e=x2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.Cn=new O2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(lr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class O2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(st.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Kb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LruGarbageCollector",M2=1048576;function Dv([i,e],[n,r]){const o=Pe(i,n);return o===0?Pe(e,r):o}class k2{constructor(e){this.Ir=e,this.buffer=new kt(Dv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ue(Cv,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class V2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(jh.ce);const r=new k2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,f,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,g=Date.now(),this.removeTargets(e,r,n)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(_=Date.now(),no()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function L2(i,e){return new V2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ql(r.mutation,o,Nn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=$r();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=Vl();return c.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,r,o){let c=gi();const f=Hl(),g=(function(){return Hl()})();return n.forEach(((y,_)=>{const b=r.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof pr)?c=c.insert(_.key,_):b!==void 0?(f.set(_.key,b.mutation.getFieldMask()),ql(b.mutation,_,b.mutation.getFieldMask(),at.now())):f.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>f.set(_,b))),n.forEach(((_,b)=>g.set(_,new P2(b,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Hl();let o=new ut(((f,g)=>f-g)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let b=r.get(y)||Nn.empty();b=g.applyToLocalView(_,b),r.set(y,b);const x=(o.get(g.batchId)||ze()).add(y);o=o.insert(g.batchId,x)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,x=Ib();b.forEach((A=>{if(!c.has(A)){const F=jb(n.get(A),r.get(A));F!==null&&x.set(A,F),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,x))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):te.resolve($r());let g=$l,y=c;return f.next((_=>te.forEach(_,((b,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{y=y.insert(b,A)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((b=>({batchId:g,changes:Rb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,c).next((g=>te.forEach(g,(y=>{const _=(function(x,A){return new wo(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((b=>{b.forEach(((x,A)=>{f=f.insert(x,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((y,_)=>{const b=_.getKey();f.get(b)===null&&(f=f.insert(b,Jt.newInvalidDocument(b)))}));let g=Vl();return f.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&ql(b.mutation,_,Nn.empty(),at.now()),Ph(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:js(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:C2(o.bundledQuery),readTime:js(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=$r(),c=n.length+1,f=new pe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ut(((_,b)=>_-b));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let b=c.get(_.largestBatchId);b===null&&(b=$r(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=$r(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=o)););return te.resolve(g)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new a2(n,r));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.Qr=new kt(Ut.$r),this.Ur=new kt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new st([])),r=new Ut(n,e),o=new Ut(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new st([])),r=new Ut(n,e),o=new Ut(n,e+1);let c=ze();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new r2(c,n,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Ut(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);c.push(g)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Pe);return n.forEach((o=>{const c=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{r=r.add(g.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;pe.isDocumentKey(c)||(c=c.child(""));const f=new Ut(new pe(c),0);let g=new kt(Pe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),f),te.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(o=>{const c=new Ut(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=gi();const f=n.path,g=new pe(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||vN(_N(b),r)<=0||(o.has(b.key)||Ph(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Y2(this)}getSize(e){return te.resolve(this.size)}}class Y2 extends U2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.persistence=e,this.si=new oa((n=>dg(n)),mg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new q2,this.referenceDelegate=e(this),this.Pi=new K2(this),this.indexManager=new D2,this.remoteDocumentCache=(function(o){return new G2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new I2(n),this.Ii=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new Q2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Q2 extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new bg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.pi=new oa((r=>SN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=L2(this,n)}static mi(e,n){return new ph(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((g=>{g||(r++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new xg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zw()?8:TN(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new $2;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(no()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(no()<=Ue.DEBUG&&ue("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(no()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):te.resolve())}ys(e,n){if(vv(n))return te.resolve(null);let r=ks(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),r=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ze(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(n,g);return this.Cs(n,_,f,y.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,r,o){return vv(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,r,o)?te.resolve(null):(no()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,f,n,yN(o,$l)).next((g=>g)))}))}Ds(e,n){let r=new kt(Ab(e));return n.forEach(((o,c)=>{Ph(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return no()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,lr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",W2=3e8;class J2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new oa((c=>dg(c)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Z2(i,e,n,r){return new J2(i,e,n,r)}async function $b(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],g=[];let y=ze();for(const _ of o){f.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function eR(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const x=_.batch,A=x.keys();let F=te.resolve();return A.forEach(($=>{F=F.next((()=>b.getEntry(y,$))).next((W=>{const Y=_.docVersions.get($);Qe(Y!==null,48541),W.version.compareTo(Y)<0&&(x.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),b.addEntry(W)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=ze();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Xb(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tR(i,e){const n=Ne(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((b,x)=>{const A=o.get(x);if(!A)return;g.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(c,b.addedDocuments,x))));let F=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?F=F.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),o=o.insert(x,F),(function(W,Y,ie){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=W2?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(A,F,b)&&g.push(n.Pi.updateTargetData(c,F))}));let y=gi(),_=ze();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(nR(c,f,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!r.isEqual(Se.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next((x=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return te.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=o,c)))}function nR(i,e,n){let r=ze(),o=ze();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let f=gi();return n.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):ue(Sg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function sR(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iR(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new nr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Gm(i,e,n){const r=Ne(i),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ue(Sg,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Ov(i,e,n){const r=Ne(i);let o=Se.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,b){const x=Ne(y),A=x.xs.get(b);return A!==void 0?te.resolve(x.Ms.get(A)):x.Pi.getTargetData(_,b)})(r,f,ks(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?c:ze()))).next((g=>(rR(r,qN(e),g),{documents:g,Qs:c})))))}function rR(i,e,n){let r=i.Os.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class Mv{constructor(){this.activeTargetIds=$N()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(kv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Ym(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const f=Ym(),g=this.zo(e,n.toUriEncodedString());ue(ym,`Sending RPC '${e}' ${f}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),b=ia(_);return this.Jo(e,g,y,r,b).then((x=>(ue(ym,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw fo(ym,`RPC '${e}' ${f} failed with error: `,x,"url: ",g,"request:",r),x}))}Ho(e,n,r,o,c,f){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=lR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class hR extends cR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const f=Ym();return new Promise(((g,y)=>{const _=new ZE;_.setWithCredentials(!0),_.listenOnce(eb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ju.NO_ERROR:const x=_.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),g(x);break;case Ju.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),y(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const A=_.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,A,"response text:",_.getResponseText()),A>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const W=(function(ie){const de=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(de)>=0?de:Z.UNKNOWN})($.status);y(new oe(W,$.message))}else y(new oe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=sb(),g=nb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const b=c.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${b}`,y);const x=f.createWebChannel(b,y);this.I_(x);let A=!1,F=!1;const $=new uR({Yo:Y=>{F?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(A||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,Y),x.send(Y))},Zo:()=>x.close()}),W=(Y,ie,de)=>{Y.listen(ie,(ce=>{try{de(ce)}catch(me){setTimeout((()=>{throw me}),0)}}))};return W(x,jl.EventType.OPEN,(()=>{F||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),W(x,jl.EventType.CLOSE,(()=>{F||(F=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(x))})),W(x,jl.EventType.ERROR,(Y=>{F||(F=!0,fo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),$.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),W(x,jl.EventType.MESSAGE,(Y=>{if(!F){const ie=Y.data[0];Qe(!!ie,16349);const de=ie,ce=de?.error||de[0]?.error;if(ce){ue(Xt,`RPC '${e}' stream ${o} received error:`,ce);const me=ce.status;let Re=(function(N){const D=Rt[N];if(D!==void 0)return Lb(D)})(me),we=ce.message;Re===void 0&&(Re=Z.INTERNAL,we="Unknown error status: "+me+" with message "+ce.message),F=!0,$.a_(new oe(Re,we)),x.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,ie),$.u_(ie)}})),W(g,tb.STAT_EVENT,(Y=>{Y.stat===Mm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===Mm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i){return new g2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class Jb{constructor(e,n,r,o,c,f,g,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fR extends Jb{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?js(f.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(c,f){let g;const y=f.target;if(g=Um(y)?{documents:b2(c,y)}:{query:T2(c,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=zb(c,f.resumeToken);const _=Bm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){g.readTime=gh(c,f.snapshotVersion.toTimestamp());const _=Bm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=S2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class dR extends Jb{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=E2(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>v2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class gR extends mR{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Hm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Z.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Hm(n,r),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class yR{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{la(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await uc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Fh(_)})(this))}))})),this.Ra=new pR(r,o)}}async function Fh(i){if(la(i))for(const e of i.da)await e(!0)}async function uc(i){for(const e of i.da)await e(!1)}function Zb(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?Ng(n):Ao(n).O_()&&Ag(n,e))}function wg(i,e){const n=Ne(i),r=Ao(n);n.Ia.delete(e),r.O_()&&eT(n,e),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(i).Y_(e)}function eT(i,e){i.Va.Ue(e),Ao(i).Z_(e)}function Ng(i){i.Va=new h2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.Ra.ua()}function Rg(i){return la(i)&&!Ao(i).x_()&&i.Ia.size>0}function la(i){return Ne(i).Ea.size===0}function tT(i){i.Va=void 0}async function _R(i){i.Ra.set("Online")}async function vR(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function ER(i,e){tT(i),Rg(i)?(i.Ra.ha(e),Ng(i)):i.Ra.set("Unknown")}async function bR(i,e,n){if(i.Ra.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(i,e)}catch(r){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(i,r)}else if(e instanceof nh?i.Va.Ze(e):e instanceof Ub?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const r=await Xb(i.localStore);n.compareTo(r)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Qt.EMPTY_BYTE_STRING,b.snapshotVersion)),eT(c,y);const x=new nr(b.target,y,_,b.sequenceNumber);Ag(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(r){ue(ea,"Failed to raise snapshot:",r),await yh(i,r)}}async function yh(i,e,n){if(!So(e))throw e;i.Ea.add(1),await uc(i),i.Ra.set("Offline"),n||(n=()=>Xb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Fh(i)}))}function nT(i,e){return e().catch((n=>yh(i,n,e)))}async function Gh(i){const e=Ne(i),n=fr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;TR(e);)try{const o=await sR(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,xR(e,o)}catch(o){await yh(e,o)}sT(e)&&iT(e)}function TR(i){return la(i)&&i.Ta.length<10}function xR(i,e){i.Ta.push(e);const n=fr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function sT(i){return la(i)&&!fr(i).x_()&&i.Ta.length>0}function iT(i){fr(i).start()}async function SR(i){fr(i).ra()}async function wR(i){const e=fr(i);for(const n of i.Ta)e.ea(n.mutations)}async function AR(i,e,n){const r=i.Ta.shift(),o=_g.from(r,e,n);await nT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Gh(i)}async function NR(i,e){e&&fr(i).X_&&await(async function(r,o){if((function(f){return l2(f)&&f!==Z.ABORTED})(o.code)){const c=r.Ta.shift();fr(r).B_(),await nT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Gh(r)}})(i,e),sT(i)&&iT(i)}async function Lv(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await uc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fh(n)}async function RR(i,e){const n=Ne(i);e?(n.Ea.delete(2),await Fh(n)):e||(n.Ea.add(2),await uc(n),n.Ra.set("Unknown"))}function Ao(i){return i.ma||(i.ma=(function(n,r,o){const c=Ne(n);return c.sa(),new fR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:_R.bind(null,i),t_:vR.bind(null,i),r_:ER.bind(null,i),H_:bR.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Rg(i)?Ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),tT(i))}))),i.ma}function fr(i){return i.fa||(i.fa=(function(n,r,o){const c=Ne(n);return c.sa(),new dR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:SR.bind(null,i),r_:NR.bind(null,i),ta:wR.bind(null,i),na:AR.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Gh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,g=new Ig(e,n,f,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(mi("AsyncQueue",`${e}: ${i}`),So(i))return new oe(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,o,c,f,g,y,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new _o(e,n,oo.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CR{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),c=o.queries;o.queries=Pv(),c.forEach(((f,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new oa((i=>wb(i)),Uh)}async function rT(i,e){const n=Ne(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new IR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Cg(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Dg(n)}async function aT(i,e){const n=Ne(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DR(i,e){const n=Ne(i);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&Dg(n)}function OR(i,e,n){const r=Ne(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function Dg(i){i.Ca.forEach((e=>{e.next()}))}var Km,zv;(zv=Km||(Km={})).Ma="default",zv.Cache="cache";class oT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class MR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Ab(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Uv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const A=o.get(b),F=Ph(this.query,x)?x:null,$=!!A&&this.mutatedKeys.has(A.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Y=!1;A&&F?A.data.isEqual(F.data)?$!==W&&(r.track({type:3,doc:F}),Y=!0):this.su(A,F)||(r.track({type:2,doc:F}),Y=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(g=!0)):!A&&F?(r.track({type:0,doc:F}),Y=!0):A&&!F&&(r.track({type:1,doc:A}),Y=!0,(y||_)&&(g=!0)),Y&&(F?(f=f.add(F),c=W?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,x)=>(function(F,$){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:Y})}};return W(F)-W($)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new _o(this.query,e.tu,c,f,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Og="SyncEngine";class kR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jR{constructor(e){this.key=e,this.hu=!1}}class VR{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((g=>wb(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LR(i,e,n=!0){const r=gT(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await uT(r,e,n,!0),o}async function UR(i,e){const n=gT(i);await uT(n,e,!0,!1)}async function uT(i,e,n,r){const o=await iR(i.localStore,ks(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await PR(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Zb(i.remoteStore,o),g}async function PR(i,e,n,r,o){i.pu=(x,A,F)=>(async function(W,Y,ie,de){let ce=Y.view.ru(ie);ce.Cs&&(ce=await Ov(W.localStore,Y.query,!1).then((({documents:w})=>Y.view.ru(w,ce))));const me=de&&de.targetChanges.get(Y.targetId),Re=de&&de.targetMismatches.get(Y.targetId)!=null,we=Y.view.applyChanges(ce,W.isPrimaryClient,me,Re);return Hv(W,Y.targetId,we.au),we.snapshot})(i,x,A,F);const c=await Ov(i.localStore,e,!0),f=new MR(e,c.Qs),g=f.ru(c.documents),y=cc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),_=f.applyChanges(g,i.isPrimaryClient,y);Hv(i,n,_.au);const b=new kR(e,n,f);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),_.snapshot}async function zR(i,e,n){const r=Ne(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Uh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&wg(r.remoteStore,o.targetId),Qm(r,o.targetId)})).catch(xo)):(Qm(r,o.targetId),await Gm(r.localStore,o.targetId,!0))}async function BR(i,e){const n=Ne(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function HR(i,e,n){const r=$R(i);try{const o=await(function(f,g){const y=Ne(f),_=at.now(),b=g.reduce(((F,$)=>F.add($.key)),ze());let x,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=gi(),W=ze();return y.Ns.getEntries(F,b).next((Y=>{$=Y,$.forEach(((ie,de)=>{de.isValidDocument()||(W=W.add(ie))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((Y=>{x=Y;const ie=[];for(const de of g){const ce=s2(de,x.get(de.key).overlayedDocument);ce!=null&&ie.push(new pr(de.key,ce,yb(ce.value.mapValue),qn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ie,g)})).next((Y=>{A=Y;const ie=Y.applyToLocalDocumentSet(x,W);return y.documentOverlayCache.saveOverlays(F,Y.batchId,ie)}))})).then((()=>({batchId:A.batchId,changes:Rb(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new ut(Pe)),_=_.insert(g,y),f.Vu[f.currentUser.toKey()]=_})(r,o.batchId,n),await hc(r,o.changes),await Gh(r.remoteStore)}catch(o){const c=Cg(o,"Failed to persist write");n.reject(c)}}async function hT(i,e){const n=Ne(i);try{const r=await tR(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await hc(n,r,e)}catch(r){await xo(r)}}function Bv(i,e,n){const r=Ne(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=Ne(f);y.onlineState=g;let _=!1;y.queries.forEach(((b,x)=>{for(const A of x.Sa)A.va(g)&&(_=!0)})),_&&Dg(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qR(i,e,n){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new ut(pe.comparator);f=f.insert(c,Jt.newNoDocument(c,Se.min()));const g=ze().add(c),y=new Hh(Se.min(),new Map,new ut(Pe),f,g);await hT(r,y),r.du=r.du.remove(c),r.Au.delete(e),Mg(r)}else await Gm(r.localStore,e,!1).then((()=>Qm(r,e,n))).catch(xo)}async function FR(i,e){const n=Ne(i),r=e.batch.batchId;try{const o=await eR(n.localStore,e);dT(n,r,null),fT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,o)}catch(o){await xo(o)}}async function GR(i,e,n){const r=Ne(i);try{const o=await(function(f,g){const y=Ne(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(Qe(x!==null,37113),b=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(r.localStore,e);dT(r,e,n),fT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hc(r,o)}catch(o){await xo(o)}}function fT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function dT(i,e,n){const r=Ne(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Qm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||mT(i,r)}))}function mT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(wg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Mg(i))}function Hv(i,e,n){for(const r of n)r instanceof lT?(i.Ru.addReference(r.key,e),YR(i,r)):r instanceof cT?(ue(Og,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||mT(i,r.key)):Ee(19791,{wu:r})}function YR(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ue(Og,"New document in limbo: "+n),i.Eu.add(r),Mg(i))}function Mg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(st.fromString(e)),r=i.fu.next();i.Au.set(r,new jR(n)),i.du=i.du.insert(n,r),Zb(i.remoteStore,new nr(ks(gg(n.path)),r,"TargetPurposeLimboResolution",jh.ce))}}async function hc(i,e,n){const r=Ne(i),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{f.push(r.pu(y,e,n).then((_=>{if((_||n)&&r.isPrimaryClient){const b=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){o.push(_);const b=xg.As(y.targetId,_);c.push(b)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,_){const b=Ne(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(_,(A=>te.forEach(A.Es,(F=>b.persistence.referenceDelegate.addReference(x,A.targetId,F))).next((()=>te.forEach(A.ds,(F=>b.persistence.referenceDelegate.removeReference(x,A.targetId,F)))))))))}catch(x){if(!So(x))throw x;ue(Sg,"Failed to update sequence numbers: "+x)}for(const x of _){const A=x.targetId;if(!x.fromCache){const F=b.Ms.get(A),$=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(A,W)}}})(r.localStore,c))}async function KR(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){ue(Og,"User change. New user:",e.toKey());const r=await $b(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new oe(Z.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(n,r.Ls)}}function QR(i,e){const n=Ne(i),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function gT(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qR.bind(null,e),e.Pu.H_=DR.bind(null,e.eventManager),e.Pu.yu=OR.bind(null,e.eventManager),e}function $R(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Z2(this.persistence,new X2,e.initialUser,this.serializer)}Cu(e){return new Qb(Tg.mi,this.serializer)}Du(e){return new aR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class XR extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Qb((r=>ph.mi(r,n)),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CR})()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=(function(c){return new hR(c)})(e.databaseInfo);return(function(c,f,g,y){return new gR(c,f,g,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,g){return new yR(r,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bv(this.syncEngine,n,0)),(function(){return jv.v()?new jv:new oR})())}createSyncEngine(e,n){return(function(o,c,f,g,y,_,b){const x=new VR(o,c,f,g,y,_);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);ue(ea,"RemoteStore shutting down."),r.Ea.add(5),await uc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class WR{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ue(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(dr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $b(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function qv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await JR(i);ue(dr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Lv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Lv(e.remoteStore,o))),i._onlineComponents=e}async function JR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(dr,"Using user provided OfflineComponentProvider");try{await vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await vm(i,new _h)}}else ue(dr,"Using default OfflineComponentProvider"),await vm(i,new XR(void 0));return i._offlineComponents}async function yT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(dr,"Using user provided OnlineComponentProvider"),await qv(i,i._uninitializedComponentsProvider._online)):(ue(dr,"Using default OnlineComponentProvider"),await qv(i,new $m))),i._onlineComponents}function ZR(i){return yT(i).then((e=>e.syncEngine))}async function _T(i){const e=await yT(i),n=e.eventManager;return n.onListen=LR.bind(null,e.syncEngine),n.onUnlisten=zR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BR.bind(null,e.syncEngine),n}function eI(i,e,n={}){const r=new fi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,_){const b=new pT({next:A=>{b.Nu(),f.enqueueAndForget((()=>aT(c,x)));const F=A.docs.has(g);!F&&A.fromCache?_.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&A.fromCache&&y&&y.source==="server"?_.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),x=new oT(gg(g.path),b,{includeMetadataChanges:!0,qa:!0});return rT(c,x)})(await _T(i),i.asyncQueue,e,n,r))),r.promise}function tI(i,e,n={}){const r=new fi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,_){const b=new pT({next:A=>{b.Nu(),f.enqueueAndForget((()=>aT(c,x))),A.fromCache&&y.source==="server"?_.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),x=new oT(g,b,{includeMetadataChanges:!0,qa:!0});return rT(c,x)})(await _T(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firestore.googleapis.com",Gv=!0;class Yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=Gv}else this.host=e.host,this.ssl=e.ssl??Gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M2)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aN;switch(r.type){case"firstParty":return new uN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Fv.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Fv.delete(n),r.terminate())})(this),Promise.resolve()}}function nI(i,e,n,r={}){i=cs(i,Yh);const o=ia(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;o&&(rg(`https://${g}`),ag("Firestore",!0)),c.host!==ET&&c.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:r};if(!or(y,f)&&(i._setSettings(y),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=Wt.MOCK_USER;else{_=HE(r.mockUserToken,i._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(x)}i._authCredentials=new oN(new rb(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oc(n,_t._jsonSchema))return new _t(e,r||null,new pe(st.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Ct("string",_t._jsonSchemaVersion),referencePath:Ct("string")};class ar extends ca{constructor(e,n,r){super(e,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new pe(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Vs(i,e,...n){if(i=Pt(i),ab("collection","path",e),i instanceof Yh){const r=st.fromString(e,...n);return rv(r),new ar(i,null,r)}{if(!(i instanceof _t||i instanceof ar))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return rv(r),new ar(i.firestore,null,r)}}function No(i,e,...n){if(i=Pt(i),arguments.length===1&&(e=cg.newId()),ab("doc","path",e),i instanceof Yh){const r=st.fromString(e,...n);return iv(r),new _t(i,null,new pe(r))}{if(!(i instanceof _t||i instanceof ar))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return iv(r),new _t(i.firestore,i instanceof ar?i.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wb(this,"async_queue_retry"),this._c=()=>{const r=_m();r&&ue(Kv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ue(Kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",$v(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ig.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $v(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ua extends Yh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function sI(i,e){const n=typeof i=="object"?i:Mh(),r=typeof i=="string"?i:hh,o=mr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=PE("firestore");c&&nI(o,...c)}return o}function kg(i){if(i._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iI(i),i._firestoreClient}function iI(i){const e=i._freezeSettings(),n=(function(o,c,f,g){return new NN(o,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,vT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new WR(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Qt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ct("string",Hn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(oc(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Ct("string",Ls._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Ct("string",Us._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=/^__.*__$/;class aI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}class bT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class jg{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TT(this.Ac)&&rI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Cc(e,n,r,o=!1){return new jg({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(i){const e=i._freezeSettings(),n=qh(i._databaseId);return new oI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xT(i,e,n,r,o,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",f,r);const g=ST(r,f);let y,_;if(c.merge)y=new Nn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const x of c.mergeFields){const A=Xm(e,x,n);if(!f.contains(A))throw new oe(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);AT(b,A)||b.push(A)}y=new Nn(b),_=f.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=f.fieldTransforms;return new aI(new gn(g),y,_)}class Xh extends Qh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class Vg extends Qh{_toFieldTransform(e){return new ZN(e.path,new ec)}isEqual(e){return e instanceof Vg}}function lI(i,e,n,r){const o=i.Cc(1,e,n);Lg("Data must be an object, but it was:",o,r);const c=[],f=gn.empty();gr(r,((y,_)=>{const b=Ug(e,y,n);_=Pt(_);const x=o.yc(b);if(_ instanceof Xh)c.push(b);else{const A=fc(_,x);A!=null&&(c.push(b),f.set(b,A))}}));const g=new Nn(c);return new bT(f,g,o.fieldTransforms)}function cI(i,e,n,r,o,c){const f=i.Cc(1,e,n),g=[Xm(e,r,n)],y=[o];if(c.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)g.push(Xm(e,c[A])),y.push(c[A+1]);const _=[],b=gn.empty();for(let A=g.length-1;A>=0;--A)if(!AT(_,g[A])){const F=g[A];let $=y[A];$=Pt($);const W=f.yc(F);if($ instanceof Xh)_.push(F);else{const Y=fc($,W);Y!=null&&(_.push(F),b.set(F,Y))}}const x=new Nn(_);return new bT(b,x,f.fieldTransforms)}function uI(i,e,n,r=!1){return fc(n,i.Cc(r?4:3,e))}function fc(i,e){if(wT(i=Pt(i)))return Lg("Unsupported field value:",e,i),ST(i,e);if(i instanceof Qh)return(function(r,o){if(!TT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const g of r){let y=fc(g,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:gh(o.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(o.serializer,c)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:zb(o.serializer,r._byteString)};if(r instanceof _t){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Us)return(function(f,g){return{mapValue:{fields:{[gb]:{stringValue:pb},[fh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return pg(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${kh(r)}`)})(i,e)}function ST(i,e){const n={};return cb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(i,((r,o)=>{const c=fc(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function wT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Ls||i instanceof Hn||i instanceof _t||i instanceof Qh||i instanceof Us)}function Lg(i,e,n){if(!wT(n)||!ob(n)){const r=kh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Xm(i,e,n){if((e=Pt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const hI=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,n){if(e.search(hI)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function vh(i,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new oe(Z.INVALID_ARGUMENT,g+i+y)}function AT(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fI extends NT{data(){return super.data()}}function Wh(i,e){return typeof e=="string"?Ug(i,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class RT extends Pg{}function vo(i,e,...n){let r=[];e instanceof Pg&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((y=>y instanceof zg)).length,g=c.filter((y=>y instanceof Jh)).length;if(f>1||f>0&&g>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Jh extends RT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return IT(e._query,n),new ca(e.firestore,e.converter,Pm(e._query,n))}_parse(e){const n=$h(e.firestore);return(function(c,f,g,y,_,b,x){let A;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Wv(x,b);const $=[];for(const W of x)$.push(Xv(y,c,W));A={arrayValue:{values:$}}}else A=Xv(y,c,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Wv(x,b),A=uI(g,f,x,b==="in"||b==="not-in");return It.create(_,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sc(i,e,n){const r=e,o=Wh("where",i);return Jh._create(o,r,n)}class zg extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const g=c.getFlattenedFilters();for(const y of g)IT(f,y),f=Pm(f,y)})(e._query,n),new ca(e.firestore,e.converter,Pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends RT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(c,f)})(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new wo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Hg(i,e="asc"){const n=e,r=Wh("orderBy",i);return Bg._create(r,n)}function Xv(i,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!pe.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dv(i,new pe(r))}if(n instanceof _t)return dv(i,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function Wv(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(i,e){const n=(function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mI{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Us(n)}convertGeoPoint(e){return new Ls(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=cr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Qe(Yb(r),9688,{name:e});const o=new Wl(r.get(1),r.get(3)),c=new pe(r.popFirst(5));return o.isEqual(n)||mi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends NT{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Ct("string",Wr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class sh extends Wr{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new sh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ul(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new sh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ul(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:gI(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){i=cs(i,_t);const e=cs(i.firestore,ua);return eI(kg(e),i._key).then((n=>_I(e,i,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ct("string",lo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class DT extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Eo(i){i=cs(i,ca);const e=cs(i.firestore,ua),n=kg(e),r=new DT(e);return dI(i._query),tI(n,i._query).then((o=>new lo(e,r,i,o)))}function yI(i,e,n){i=cs(i,_t);const r=cs(i.firestore,ua),o=CT(i.converter,e);return Zh(r,[xT($h(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,qn.none())])}function qg(i,e,n,...r){i=cs(i,_t);const o=cs(i.firestore,ua),c=$h(o);let f;return f=typeof(e=Pt(e))=="string"||e instanceof Kh?cI(c,"updateDoc",i._key,e,n,r):lI(c,"updateDoc",i._key,e),Zh(o,[f.toMutation(i._key,qn.exists(!0))])}function OT(i){return Zh(cs(i.firestore,ua),[new yg(i._key,qn.none())])}function Eh(i,e){const n=cs(i.firestore,ua),r=No(i),o=CT(i.converter,e);return Zh(n,[xT($h(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then((()=>r))}function Zh(i,e){return(function(r,o){const c=new fi;return r.asyncQueue.enqueueAndForget((async()=>HR(await ZR(r),o,c))),c.promise})(kg(i),e)}function _I(i,e,n){const r=n.docs.get(e._key),o=new DT(i);return new Wr(i,o,e._key,r,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}function Ps(){return new Vg("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(aa),ls(new Fn("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),g=new ua(new lN(r.getProvider("auth-internal")),new hN(f,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,b)})(f,o),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),pn(ev,tv,e),pn(ev,tv,"esm2020")})();var vI="firebase",EI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(vI,EI,"app");const MT="@firebase/installations",Fg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1e4,jT=`w:${Fg}`,VT="FIS_v2",bI="https://firebaseinstallations.googleapis.com/v1",TI=3600*1e3,xI="installations",SI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new ra(xI,SI,wI);function LT(i){return i instanceof Gn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT({projectId:i}){return`${bI}/projects/${i}/installations`}function PT(i){return{token:i.token,requestStatus:2,expiresIn:NI(i.expiresIn),creationTime:Date.now()}}async function zT(i,e){const r=(await e.json()).error;return ta.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function AI(i,{refreshToken:e}){const n=BT(i);return n.append("Authorization",RI(e)),n}async function HT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function NI(i){return Number(i.replace("s","000"))}function RI(i){return`${VT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const r=UT(i),o=BT(i),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={fid:n,authVersion:VT,appId:i.appId,sdkVersion:jT},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await HT(()=>fetch(r,g));if(y.ok){const _=await y.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:PT(_.authToken)}}else throw await zT("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^[cdef][\w-]{21}$/,Wm="";function OI(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=MI(i);return DI.test(n)?n:Wm}catch{return Wm}}function MI(i){return CI(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;function GT(i,e){const n=ef(i);YT(n,e),kI(n,e)}function YT(i,e){const n=FT.get(i);if(n)for(const r of n)r(e)}function kI(i,e){const n=jI();n&&n.postMessage({key:i,fid:e}),VI()}let Xr=null;function jI(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=i=>{YT(i.data.key,i.data.fid)}),Xr}function VI(){FT.size===0&&Xr&&(Xr.close(),Xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebase-installations-database",UI=1,na="firebase-installations-store";let Em=null;function Gg(){return Em||(Em=QE(LI,UI,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(na)}}})),Em}async function bh(i,e){const n=ef(i),o=(await Gg()).transaction(na,"readwrite"),c=o.objectStore(na),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&GT(i,e.fid),e}async function KT(i){const e=ef(i),r=(await Gg()).transaction(na,"readwrite");await r.objectStore(na).delete(e),await r.done}async function tf(i,e){const n=ef(i),o=(await Gg()).transaction(na,"readwrite"),c=o.objectStore(na),f=await c.get(n),g=e(f);return g===void 0?await c.delete(n):await c.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&GT(i,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(i){let e;const n=await tf(i.appConfig,r=>{const o=PI(r),c=zI(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Wm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function PI(i){const e=i||{fid:OI(),registrationStatus:0};return QT(e)}function zI(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ta.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BI(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HI(i)}:{installationEntry:e}}async function BI(i,e){try{const n=await II(i,e);return bh(i.appConfig,n)}catch(n){throw LT(n)&&n.customData.serverCode===409?await KT(i.appConfig):await bh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HI(i){let e=await Jv(i.appConfig);for(;e.registrationStatus===1;)await qT(100),e=await Jv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Yg(i);return r||n}return e}function Jv(i){return tf(i,e=>{if(!e)throw ta.create("installation-not-found");return QT(e)})}function QT(i){return qI(i)?{fid:i.fid,registrationStatus:0}:i}function qI(i){return i.registrationStatus===1&&i.registrationTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI({appConfig:i,heartbeatServiceProvider:e},n){const r=GI(i,n),o=AI(i,n),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={installation:{sdkVersion:jT,appId:i.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await HT(()=>fetch(r,g));if(y.ok){const _=await y.json();return PT(_)}else throw await zT("Generate Auth Token",y)}function GI(i,{fid:e}){return`${UT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(i,e=!1){let n;const r=await tf(i.appConfig,c=>{if(!$T(c))throw ta.create("not-registered");const f=c.authToken;if(!e&&QI(f))return c;if(f.requestStatus===1)return n=YI(i,e),c;{if(!navigator.onLine)throw ta.create("app-offline");const g=XI(c);return n=KI(i,g),g}});return n?await n:r.authToken}async function YI(i,e){let n=await Zv(i.appConfig);for(;n.authToken.requestStatus===1;)await qT(100),n=await Zv(i.appConfig);const r=n.authToken;return r.requestStatus===0?Kg(i,e):r}function Zv(i){return tf(i,e=>{if(!$T(e))throw ta.create("not-registered");const n=e.authToken;return WI(n)?{...e,authToken:{requestStatus:0}}:e})}async function KI(i,e){try{const n=await FI(i,e),r={...e,authToken:n};return await bh(i.appConfig,r),n}catch(n){if(LT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await KT(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bh(i.appConfig,r)}throw n}}function $T(i){return i!==void 0&&i.registrationStatus===2}function QI(i){return i.requestStatus===2&&!$I(i)}function $I(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+TI}function XI(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function WI(i){return i.requestStatus===1&&i.requestTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i){const e=i,{installationEntry:n,registrationPromise:r}=await Yg(e);return r?r.catch(console.error):Kg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e=!1){const n=i;return await eC(n),(await Kg(n,e)).token}async function eC(i){const{registrationPromise:e}=await Yg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){if(!i||!i.options)throw bm("App Configuration");if(!i.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw bm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bm(i){return ta.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="installations",nC="installations-internal",sC=i=>{const e=i.getProvider("app").getImmediate(),n=tC(e),r=mr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iC=i=>{const e=i.getProvider("app").getImmediate(),n=mr(e,XT).getImmediate();return{getId:()=>JI(n),getToken:o=>ZI(n,o)}};function rC(){ls(new Fn(XT,sC,"PUBLIC")),ls(new Fn(nC,iC,"PRIVATE"))}rC();pn(MT,Fg);pn(MT,Fg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",aC="firebase_id",oC="origin",lC=60*1e3,cC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new Oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ra("analytics","Analytics",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(i){if(!i.startsWith(Qg)){const e=Rn.create("invalid-gtag-resource",{gtagURL:i});return yn.warn(e.message),""}return i}function WT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function fC(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function dC(i,e){const n=fC("firebase-js-sdk-policy",{createScriptURL:hC}),r=document.createElement("script"),o=`${Qg}?l=${i}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function mC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function gC(i,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const y=(await WT(n)).find(_=>_.measurementId===o);y&&await e[y.appId]}}catch(g){yn.error(g)}i("config",o,c)}async function pC(i,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await WT(n);for(const y of f){const _=g.find(x=>x.measurementId===y),b=_&&e[_.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",r,o||{})}catch(c){yn.error(c)}}function yC(i,e,n,r){async function o(c,...f){try{if(c==="event"){const[g,y]=f;await pC(i,e,n,g,y)}else if(c==="config"){const[g,y]=f;await gC(i,e,n,r,g,y)}else if(c==="consent"){const[g,y]=f;i("consent",g,y)}else if(c==="get"){const[g,y,_]=f;i("get",g,y,_)}else if(c==="set"){const[g]=f;i("set",g)}else i(c,...f)}catch(g){yn.error(g)}}return o}function _C(i,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=yC(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function vC(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=30,bC=1e3;class TC{constructor(e={},n=bC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const JT=new TC;function xC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function SC(i){const{appId:e,apiKey:n}=i,r={method:"GET",headers:xC(n)},o=cC.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let f="";try{const g=await c.json();g.error?.message&&(f=g.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function wC(i,e=JT,n){const{appId:r,apiKey:o,measurementId:c}=i.options;if(!r)throw Rn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new RC;return setTimeout(async()=>{g.abort()},lC),ZT({appId:r,apiKey:o,measurementId:c},f,g,e)}async function ZT(i,{throttleEndTimeMillis:e,backoffCount:n},r,o=JT){const{appId:c,measurementId:f}=i;try{await AC(r,e)}catch(g){if(f)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw g}try{const g=await SC(i);return o.deleteThrottleMetadata(c),g}catch(g){const y=g;if(!NC(y)){if(o.deleteThrottleMetadata(c),f)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:f};throw g}const _=Number(y?.customData?.httpStatus)===503?F_(n,o.intervalMillis,EC):F_(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(c,b),yn.debug(`Calling attemptFetch again in ${_} millis`),ZT(i,b,r,o)}}function AC(i,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NC(i){if(!(i instanceof Gn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class RC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IC(i,e,n,r,o){if(o&&o.global){i("event",n,r);return}else{const c=await e,f={...r,send_to:c};i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(){if(FE())try{await GE()}catch(i){return yn.warn(Rn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return yn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DC(i,e,n,r,o,c,f){const g=wC(i);g.then(A=>{n[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>yn.error(A)),e.push(g);const y=CC().then(A=>{if(A)return r.getId()}),[_,b]=await Promise.all([g,y]);vC(c)||dC(c,_.measurementId),o("js",new Date);const x=f?.config??{};return x[oC]="firebase",x.update=!0,b!=null&&(x[aC]=b),o("config",_.measurementId,x),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.app=e}_delete(){return delete Fl[this.app.options.appId],Promise.resolve()}}let Fl={},eE=[];const tE={};let Tm="dataLayer",MC="gtag",nE,e1,sE=!1;function kC(){const i=[];if(qE()&&i.push("This is a browser extension environment."),Bw()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}function jC(i,e,n){kC();const r=i.options.appId;if(!r)throw Rn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Fl[r]!=null)throw Rn.create("already-exists",{id:r});if(!sE){mC(Tm);const{wrappedGtag:c,gtagCore:f}=_C(Fl,eE,tE,Tm,MC);e1=c,nE=f,sE=!0}return Fl[r]=DC(i,eE,tE,e,nE,Tm,n),new OC(i)}function VC(i=Mh()){i=Pt(i);const e=mr(i,Th);return e.isInitialized()?e.getImmediate():LC(i)}function LC(i,e={}){const n=mr(i,Th);if(n.isInitialized()){const o=n.getImmediate();if(or(e,n.getOptions()))return o;throw Rn.create("already-initialized")}return n.initialize({options:e})}function UC(i,e,n,r){i=Pt(i),IC(e1,Fl[i.app.options.appId],e,n,r).catch(o=>yn.error(o))}const iE="@firebase/analytics",rE="0.10.18";function PC(){ls(new Fn(Th,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return jC(r,o,n)},"PUBLIC")),ls(new Fn("analytics-internal",i,"PRIVATE")),pn(iE,rE),pn(iE,rE,"esm2020");function i(e){try{const n=e.getProvider(Th).getImmediate();return{logEvent:(r,o,c)=>UC(n,r,o,c)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}PC();function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=t1,n1=new ra("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Oh("@firebase/auth");function BC(i,...e){xh.logLevel<=Ue.WARN&&xh.warn(`Auth (${aa}): ${i}`,...e)}function ih(i,...e){xh.logLevel<=Ue.ERROR&&xh.error(`Auth (${aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(i,...e){throw $g(i,...e)}function zs(i,...e){return $g(i,...e)}function s1(i,e,n){const r={...zC(),[e]:n};return new ra("auth","Firebase",r).create(e,{appName:i.name})}function Jr(i){return s1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return n1.create(i,...e)}function Te(i,e,...n){if(!i)throw $g(e,...n)}function ui(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ih(e),new Error(e)}function yi(i,e){i||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function HC(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||qE()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=jw()||Uw()}get(){return qC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i,e){yi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KC=new dc(3e4,6e4);function Wg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ro(i,e,n,r,o={}){return r1(i,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const g=ac({key:i.config.apiKey,...f}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:y,...c};return Lw()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&ia(i.emulatorConfig.host)&&(_.credentials="include"),i1.fetch()(await a1(i,i.config.apiHost,n,g),_)})}async function r1(i,e,n){i._canInitEmulator=!1;const r={...GC,...e};try{const o=new $C(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Xu(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(i,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Xu(i,"email-already-in-use",f);if(y==="USER_DISABLED")throw Xu(i,"user-disabled",f);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw s1(i,b,_);pi(i,b)}}catch(o){if(o instanceof Gn)throw o;pi(i,"network-request-failed",{message:String(o)})}}async function QC(i,e,n,r,o={}){const c=await Ro(i,e,n,r,o);return"mfaPendingCredential"in c&&pi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function a1(i,e,n,r){const o=`${e}${n}?${r}`,c=i,f=c.config.emulator?Xg(i.config,o):`${i.config.apiScheme}://${o}`;return YC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zs(this.auth,"network-request-failed")),KC.get())})}}function Xu(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=zs(i,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e){return Ro(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return Ro(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WC(i,e=!1){const n=Pt(i),r=await n.getIdToken(e),o=Jg(r);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Gl(xm(o.auth_time)),issuedAtTime:Gl(xm(o.iat)),expirationTime:Gl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xm(i){return Number(i)*1e3}function Jg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=LE(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function oE(i){const e=Jg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gn&&JC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function JC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){const e=i.auth,n=await i.getIdToken(),r=await ic(i,Sh(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?o1(o.providerUserInfo):[],f=t4(i.providerData,c),g=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!f?.length,_=g?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,b)}async function e4(i){const e=Pt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t4(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function o1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(i,e){const n=await r1(i,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=await a1(i,o,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return i.emulatorConfig&&ia(i.emulatorConfig.host)&&(y.credentials="include"),i1.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s4(i,e){return Ro(i,"POST","/v2/accounts:revokeToken",Wg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=oE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await n4(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new co;return r&&(Te(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class as{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ZC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WC(this,e)}reload(){return e4(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new as({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await ic(this,XC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:F,providerData:$,stsTokenManager:W}=n;Te(x&&W,e,"internal-error");const Y=co.fromJSON(this.name,W);Te(typeof x=="string",e,"internal-error"),Wi(r,e.name),Wi(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),Wi(c,e.name),Wi(f,e.name),Wi(g,e.name),Wi(y,e.name),Wi(_,e.name),Wi(b,e.name);const ie=new as({uid:x,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:Y,createdAt:_,lastLoginAt:b});return $&&Array.isArray($)&&(ie.providerData=$.map(de=>({...de}))),y&&(ie._redirectEventId=y),ie}static async _fromIdTokenResponse(e,n,r=!1){const o=new co;o.updateFromServerResponse(n);const c=new as({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?o1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new co;g.updateFromIdToken(r);const y=new as({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function hi(i){yi(i instanceof Function,"Expected a class definition");let e=lE.get(i);return e?(yi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l1.type="NONE";const cE=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(i,e,n){return`firebase:${i}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,c),this.fullPersistenceKey=rh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?as._fromGetAccountInfoResponse(this.auth,n,e):null}return as._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(hi(cE),e,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||hi(cE);const f=rh(r,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const b=await _._get(f);if(b){let x;if(typeof b=="string"){const A=await Sh(e,{idToken:b}).catch(()=>{});if(!A)break;x=await as._fromGetAccountInfoResponse(e,A,b)}else x=as._fromJSON(e,b);_!==c&&(g=x),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new uo(c,e,r):(c=y[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new uo(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(g1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function c1(i=Zt()){return/firefox\//i.test(i)}function u1(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(i=Zt()){return/crios\//i.test(i)}function f1(i=Zt()){return/iemobile/i.test(i)}function d1(i=Zt()){return/android/i.test(i)}function m1(i=Zt()){return/blackberry/i.test(i)}function g1(i=Zt()){return/webos/i.test(i)}function Zg(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function i4(i=Zt()){return Zg(i)&&!!window.navigator?.standalone}function r4(){return Pw()&&document.documentMode===10}function p1(i=Zt()){return Zg(i)||d1(i)||g1(i)||m1(i)||/windows phone/i.test(i)||f1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i,e=[]){let n;switch(i){case"Browser":n=uE(Zt());break;case"Worker":n=`${uE(Zt())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,g)=>{try{const y=e(c);f(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(i,e={}){return Ro(i,"GET","/v2/passwordPolicy",Wg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class c4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new a4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Jr(this));const n=e?Pt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),n=new c4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ra("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ep(i){return Pt(i)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yw(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(i){tp=i}function f4(i){return tp.loadJS(i)}function d4(){return tp.gapiScript}function m4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(i,e){const n=mr(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(or(c,e??{}))return o;pi(o,"already-initialized")}return n.initialize({options:e})}function p4(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function y4(i,e,n){const r=ep(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=_1(e),{host:f,port:g}=_4(e),y=g===null?"":`:${g}`,_={url:`${c}//${f}${y}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(or(_,r.config.emulator)&&or(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,ia(f)?(rg(`${c}//${f}${y}`),ag("Auth",!0)):v4()}function _1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _4(i){const e=_1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:fE(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:fE(f)}}}function fE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function v4(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return QC(i,"POST","/v1/accounts:signInWithIdp",Wg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="http://localhost";class sa extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new sa(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends E1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends mc{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends mc{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends mc{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await as._fromIdTokenResponse(e,r,o),f=dE(r);return new bo({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=dE(r);return new bo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function dE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Gn{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ah(e,n,r,o)}}function b1(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,c,e,r):c})}async function b4(i,e,n=!1){const r=await ic(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return bo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(i,e,n=!1){const{auth:r}=i;if(rs(r.app))return Promise.reject(Jr(r));const o="reauthenticate";try{const c=await ic(i,b1(r,o,e,i),n);Te(c.idToken,r,"internal-error");const f=Jg(c.idToken);Te(f,r,"internal-error");const{sub:g}=f;return Te(i.uid===g,r,"user-mismatch"),bo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&pi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(i,e,n=!1){if(rs(i.app))return Promise.reject(Jr(i));const r="signIn",o=await b1(i,r,e),c=await bo._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}function S4(i,e,n,r){return Pt(i).onIdTokenChanged(e,n,r)}function w4(i,e,n){return Pt(i).beforeAuthStateChanged(e,n)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=1e3,N4=10;class x1 extends T1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);r4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,N4):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const R4=x1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends T1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const w1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async _=>_(n.origin,c)),y=await I4(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,y)=>{const _=np("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(x){const A=x;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(A.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return window}function D4(i){Bs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function O4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M4(){return navigator?.serviceWorker?.controller||null}function k4(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",j4=1,Rh="firebaseLocalStorage",R1="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function V4(){const i=indexedDB.deleteDatabase(N1);return new gc(i).toPromise()}function eg(){const i=indexedDB.open(N1,j4);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Rh,{keyPath:R1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await V4(),e(await eg()))})})}async function mE(i,e,n){const r=sf(i,!0).put({[R1]:e,value:n});return new gc(r).toPromise()}async function L4(i,e){const n=sf(i,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function gE(i,e){const n=sf(i,!0).delete(e);return new gc(n).toPromise()}const U4=800,P4=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(k4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O4(),!this.activeServiceWorker)return;this.sender=new C4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await mE(e,Nh,"1"),await gE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=sf(o,!1).getAll();return new gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const z4=I1;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(i,e){return e?hi(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H4(i){return x4(i.auth,new sp(i),i.bypassAuthState)}function q4(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),T4(n,new sp(i),i.bypassAuthState)}async function F4(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),b4(n,new sp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H4;case"linkViaPopup":case"linkViaRedirect":return F4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:pi(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new dc(2e3,1e4);class ao extends C1{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G4.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",ah=new Map;class K4 extends C1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await Q4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q4(i,e){const n=W4(e),r=X4(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function $4(i,e){ah.set(i._key(),e)}function X4(i){return hi(i._redirectPersistence)}function W4(i){return rh(Y4,i.config.apiKey,i.name)}async function J4(i,e,n=!1){if(rs(i.app))return Promise.reject(Jr(i));const r=ep(i),o=B4(r,e),f=await new K4(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=600*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!D1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function D1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function tD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,e={}){return Ro(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iD=/^https?/;async function rD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nD(i);for(const n of e)try{if(aD(n))return}catch{}pi(i,"unauthorized-domain")}function aD(i){const e=Jm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!iD.test(n))return!1;if(sD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new dc(3e4,6e4);function yE(){const i=Bs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function lD(i){return new Promise((e,n)=>{function r(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),n(zs(i,"network-request-failed"))},timeout:oD.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)r();else{const o=m4("iframefcb");return Bs()[o]=()=>{gapi.load?r():n(zs(i,"network-request-failed"))},f4(`${d4()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw oh=null,e})}let oh=null;function cD(i){return oh=oh||lD(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new dc(5e3,15e3),hD="__/auth/iframe",fD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xg(e,fD):`https://${i.config.authDomain}/${hD}`,r={apiKey:e.apiKey,appName:i.name,v:aa},o=mD.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${ac(r).slice(1)}`}async function pD(i){const e=await cD(i),n=Bs().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:gD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=zs(i,"network-request-failed"),g=Bs().setTimeout(()=>{c(f)},uD.get());function y(){Bs().clearTimeout(g),o(r)}r.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_D=500,vD=600,ED="_blank",bD="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TD(i,e,n,r=_D,o=vD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...yD,width:r.toString(),height:o.toString(),top:c,left:f},_=Zt().toLowerCase();n&&(g=h1(_)?ED:n),c1(_)&&(e=e||bD,y.scrollbars="yes");const b=Object.entries(y).reduce((A,[F,$])=>`${A}${F}=${$},`,"");if(i4(_)&&g!=="_self")return xD(e||"",g),new _E(null);const x=window.open(e||"",g,b);Te(x,i,"popup-blocked");try{x.focus()}catch{}return new _E(x)}function xD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",wD="emulator/auth/handler",AD=encodeURIComponent("fac");async function vE(i,e,n,r,o,c){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:aa,eventId:o};if(e instanceof E1){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Gw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))f[b]=x}if(e instanceof mc){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await i._getAppCheckToken(),_=y?`#${AD}=${encodeURIComponent(y)}`:"";return`${ND(i)}?${ac(g).slice(1)}${_}`}function ND({config:i}){return i.emulator?Xg(i,wD):`https://${i.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class RD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=J4,this._overrideRedirectResult=$4}async _openPopup(e,n,r,o){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vE(e,n,r,Jm(),o);return TD(e,c,np())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await vE(e,n,r,Jm(),o);return D4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(yi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pD(e),r=new eD(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const c=o?.[0]?.[Sm];c!==void 0&&n(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p1()||u1()||Zg()}}const ID=RD;var EE="@firebase/auth",bE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(i){ls(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(i)},_=new u4(r,o,c,y);return p4(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ls(new Fn("auth-internal",e=>{const n=ep(e.getProvider("auth").getImmediate());return(r=>new CD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(EE,bE,DD(i)),pn(EE,bE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=300,kD=BE("authIdTokenMaxAge")||MD;let TE=null;const jD=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kD)return;const o=n?.token;TE!==o&&(TE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VD(i=Mh()){const e=mr(i,"auth");if(e.isInitialized())return e.getImmediate();const n=g4(i,{popupRedirectResolver:ID,persistence:[z4,R4,w1]}),r=BE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=jD(c.toString());w4(n,f,()=>f(n.currentUser)),S4(n,g=>f(g))}}const o=UE("auth");return o&&y4(n,`http://${o}`),n}function LD(){return document.getElementsByTagName("head")?.[0]??document}h4({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=zs("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",LD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebasestorage.googleapis.com",UD="storageBucket",PD=120*1e3,zD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Gn{constructor(e,n,r=0){super(wm(e),`Firebase Storage: ${n} (${wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qs;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qs||(qs={}));function wm(i){return"storage/"+i}function BD(){const i="An unknown error occurred, please check the error payload for server response.";return new Fs(qs.UNKNOWN,i)}function HD(){return new Fs(qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qD(){return new Fs(qs.CANCELED,"User canceled the upload/download.")}function FD(i){return new Fs(qs.INVALID_URL,"Invalid URL '"+i+"'.")}function GD(i){return new Fs(qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function xE(i){return new Fs(qs.INVALID_ARGUMENT,i)}function M1(){return new Fs(qs.APP_DELETED,"The Firebase app was deleted.")}function YD(i){return new Fs(qs.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=os.makeFromUrl(e,n)}catch{return new os(e,"")}if(r.path==="")return r;throw GD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function _(me){me.path_=decodeURIComponent(me.path)}const b="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",F=new RegExp(`^https?://${x}/${b}/b/${o}/o${A}`,"i"),$={bucket:1,path:3},W=n===O1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Y="([^?#]*)",ie=new RegExp(`^https?://${W}/${o}/${Y}`,"i"),ce=[{regex:g,indices:y,postModify:c},{regex:F,indices:$,postModify:_},{regex:ie,indices:{bucket:1,path:2},postModify:_}];for(let me=0;me<ce.length;me++){const Re=ce[me],we=Re.regex.exec(e);if(we){const w=we[Re.indices.bucket];let N=we[Re.indices.path];N||(N=""),r=new os(w,N),Re.postModify(r);break}}if(r==null)throw FD(e);return r}}class KD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i,e,n){let r=1,o=null,c=null,f=!1,g=0;function y(){return g===2}let _=!1;function b(...Y){_||(_=!0,e.apply(null,Y))}function x(Y){o=setTimeout(()=>{o=null,i(F,y())},Y)}function A(){c&&clearTimeout(c)}function F(Y,...ie){if(_){A();return}if(Y){A(),b.call(null,Y,...ie);return}if(y()||f){A(),b.call(null,Y,...ie);return}r<64&&(r*=2);let ce;g===1?(g=2,ce=0):ce=(r+Math.random())*1e3,x(ce)}let $=!1;function W(Y){$||($=!0,A(),!_&&(o!==null?(Y||(g=2),clearTimeout(o),x(0)):Y||(g=1)))}return x(0),c=setTimeout(()=>{f=!0,W(!0)},n),W}function $D(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(i){return i!==void 0}function SE(i,e,n,r){if(r<e)throw xE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw xE(`Invalid value for '${i}'. Expected ${n} or less.`)}function WD(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ih;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ih||(Ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,o,c,f,g,y,_,b,x,A=!0,F=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=x,this.retry=A,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,W)=>{this.resolve_=$,this.reject_=W,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Wu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=g=>{const y=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const g=c.getErrorCode()===Ih.NO_ERROR,y=c.getStatus();if(!g||JD(y,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===Ih.ABORT;r(!1,new Wu(!1,null,b));return}const _=this.successCodes_.indexOf(y)!==-1;r(!0,new Wu(_,c))})},n=(r,o)=>{const c=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());XD(y)?c(y):c()}catch(y){f(y)}else if(g!==null){const y=BD();y.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,y)):f(y)}else if(o.canceled){const y=this.appDelete_?M1():qD();f(y)}else{const y=HD();f(y)}};this.canceled_?n(!1,new Wu(!1,null,!0)):this.backoffId_=QD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$D(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function tO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function sO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function iO(i,e,n,r,o,c,f=!0,g=!1){const y=WD(i.urlParams),_=i.url+y,b=Object.assign({},i.headers);return nO(b,e),eO(b,n),tO(b,c),sO(b,r),new ZD(_,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function aO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this._service=e,n instanceof os?this._location=n:this._location=os.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ch(e,n)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=rO(this._location.path);if(e===null)return null;const n=new os(this._location.bucket,e);return new Ch(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YD(e)}}function wE(i,e){const n=e?.[UD];return n==null?null:os.makeFromBucketSpec(n,i)}function oO(i,e,n,r={}){i.host=`${e}:${n}`;const o=ia(e);o&&(rg(`https://${i.host}/b`),ag("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:HE(c,i.app.options.projectId))}class lO{constructor(e,n,r,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=O1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PD,this._maxUploadRetryTime=zD,this._requests=new Set,o!=null?this._bucket=os.makeFromBucketSpec(o,this._host):this._bucket=wE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,e):this._bucket=wE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new KD(M1());{const f=iO(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const AE="@firebase/storage",NE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="storage";function cO(i=Mh(),e){i=Pt(i);const r=mr(i,k1).getImmediate({identifier:e}),o=PE("storage");return o&&uO(r,...o),r}function uO(i,e,n,r={}){oO(i,e,n,r)}function hO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new lO(n,r,o,e,aa)}function fO(){ls(new Fn(k1,hO,"PUBLIC").setMultipleInstances(!0)),pn(AE,NE,""),pn(AE,NE,"esm2020")}fO();const dO={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},rf=$E(dO);VD(rf);const sn=sI(rf);cO(rf);typeof window<"u"&&VC(rf);const j1="users",mO=i=>/^\d{2}[A-Z]+\d+$/.test(i.toUpperCase()),gO=i=>`user_${i.toUpperCase()}`,pO=async(i,e)=>{try{if(!i?.trim())throw new Error("Username is required");if(!e?.trim())throw new Error("Registration number is required");const n=e.toUpperCase().trim();if(!mO(n))throw new Error("Invalid registration number format. Expected format: 22U10999 or 22EE8999");const r=gO(n),o=No(sn,j1,r),c=await pI(o);if(c.exists()){const f=c.data(),g={lastLogin:Ps(),...f.username!==i.trim()&&{username:i.trim()}};return await qg(o,g),{success:!0,user:{id:r,...f,...g},isNewUser:!1}}else{const f={id:r,username:i.trim(),regNumber:n,isActive:!0,isAdmin:!1,createdAt:Ps(),lastLogin:Ps(),gameStats:{totalGamesPlayed:0,totalScore:0,bestSnakeScore:0,bestReactionScore:0,achievements:[]},eventParticipation:{eventsJoined:0,eventsWon:0,totalEventScore:0}};return await yI(o,f),{success:!0,user:f,isNewUser:!0}}}catch(n){return console.error("Authentication error:",n),{success:!1,error:n.message}}},yO=async(i,e)=>{try{const n=No(sn,j1,i);return await qg(n,{gameStats:{...e,updatedAt:Ps()},updatedAt:Ps()}),{success:!0}}catch(n){return console.error("Update game stats error:",n),{success:!1,error:n.message}}};const _O=({onLogin:i})=>{const[e,n]=re.useState({username:"",regNumber:""}),[r,o]=re.useState({}),[c,f]=re.useState(!1),g=!1,y=async b=>{b.preventDefault(),f(!0),o({});const x={};if(e.username.trim()||(x.username="Username is required"),e.regNumber.trim()||(x.regNumber="Registration number is required"),Object.keys(x).length>0){o(x),f(!1);return}try{let A;g||(A=await pO(e.username,e.regNumber)),A.success?i(A.user):(console.error("Authentication failed:",A.error),o({general:A.error}))}catch(A){console.error("Login error:",A),o({general:"An unexpected error occurred. Please try again."})}finally{f(!1)}},_=b=>{const{name:x,value:A}=b.target;n(F=>({...F,[x]:A})),r[x]&&o(F=>({...F,[x]:""}))};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md p-8 rounded-2xl border border-green-500/30 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 overflow-hidden",children:m.jsx("img",{src:ng,alt:"RECursion Logo",className:"w-full h-full object-cover"})}),m.jsx("h1",{className:"text-3xl font-bold text-white mb-2",style:{fontFamily:'"Courier New", monospace',letterSpacing:"2px"},children:"Team RECursion"}),m.jsx("p",{className:"text-gray-400",children:"Coding Club Portal"})]}),m.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-green-400 font-semibold mb-2",children:[m.jsx(sg,{className:"w-4 h-4 inline mr-2"}),"Username"]}),m.jsx("input",{type:"text",name:"username",value:e.username,onChange:_,className:`w-full px-4 py-3 bg-gray-900 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ${r.username?"border-red-500 focus:ring-red-500":"border-gray-700 focus:ring-green-500"}`,placeholder:"Enter your username"}),r.username&&m.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.username})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-green-400 font-semibold mb-2",children:[m.jsx(Nm,{className:"w-4 h-4 inline mr-2"}),"Roll Number"]}),m.jsx("input",{type:"text",name:"regNumber",value:e.regNumber,onChange:_,className:`w-full px-4 py-3 bg-gray-900 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all uppercase ${r.regNumber?"border-red-500 focus:ring-red-500":"border-gray-700 focus:ring-green-500"}`,placeholder:"Enter college roll number (e.g. 22CS80**)",disabled:c}),r.regNumber&&m.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.regNumber}),m.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Format: 22CS80** (Year + Department + Roll Number)"})]}),r.general&&m.jsxs("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 flex items-center",children:[m.jsx(US,{className:"w-4 h-4 text-red-400 mr-2 flex-shrink-0"}),m.jsx("p",{className:"text-red-400 text-sm",children:r.general})]}),m.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 font-bold rounded-lg transition-all transform ${c?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-500 text-black hover:from-green-400 hover:to-emerald-400 hover:scale-105"}`,children:c?"AUTHENTICATING...":"LOGIN"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-gray-500 text-sm",children:"Track-based authentication system"})})]})})},RE=({user:i})=>m.jsxs("div",{className:"text-center py-20",children:[m.jsxs("div",{className:"mb-16",children:[m.jsx("h2",{className:"text-6xl font-bold mb-8 bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"Welcome to RECarcade"}),i&&m.jsxs("p",{className:"text-2xl text-gray-300 mb-6",children:["Hello, ",m.jsx("span",{className:"text-green-400 font-bold",children:i.username}),"!",m.jsxs("span",{className:"text-gray-400 ml-3",children:["(",i.regNumber,")"]})]}),m.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"The premier coding club where innovation meets competition. Challenge yourself with games, compete on leaderboards, and stay updated with our latest events."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20 max-w-6xl mx-auto",children:[m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl border border-green-500/30 hover:border-green-500 transition-all hover:scale-105 hover:shadow-lg hover:shadow-green-500/20",children:[m.jsx(Am,{className:"w-16 h-16 text-green-400 mb-6 mx-auto"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Play Games"}),m.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Test your skills with our online games"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl border border-yellow-500/30 hover:border-yellow-500 transition-all hover:scale-105 hover:shadow-lg hover:shadow-yellow-500/20",children:[m.jsx(rc,{className:"w-16 h-16 text-yellow-400 mb-6 mx-auto"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Compete"}),m.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Climb the leaderboards and get rewards"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl border border-blue-500/30 hover:border-blue-500 transition-all hover:scale-105 hover:shadow-lg hover:shadow-blue-500/20",children:[m.jsx(Kl,{className:"w-16 h-16 text-blue-400 mb-6 mx-auto"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Events"}),m.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Join our Events"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto mb-20",children:[m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-10 rounded-2xl border border-purple-500/30 hover:border-purple-500 transition-all hover:shadow-lg hover:shadow-purple-500/20",children:[m.jsx(HS,{className:"w-20 h-20 text-purple-400 mb-8 mx-auto"}),m.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),m.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Working towards the improvement of campus's coding culture by organizing regular coding classes,coding contests and geeky sessions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-10 rounded-2xl border border-orange-500/30 hover:border-orange-500 transition-all hover:shadow-lg hover:shadow-orange-500/20",children:[m.jsx(kE,{className:"w-20 h-20 text-orange-400 mb-8 mx-auto"}),m.jsx("h3",{className:"text-3xl font-bold mb-6",children:"What We Do"}),m.jsxs("ul",{className:"text-gray-300 space-y-4 text-left text-lg",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-4"}),"Regular coding classes and geeky sessions"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-4"}),"RECode : Monthly online coding contest"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-4"}),"Tech Townhall : Annual talk with successful students or alumni"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-4"}),"REChase : Annual treasure hunting competition"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-4"}),"Mind Sweepers : Combining logic and concepts with fun and frolic"]})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 p-12 rounded-2xl border border-green-500/30 max-w-5xl mx-auto hover:shadow-lg hover:shadow-green-500/20 transition-all",children:[m.jsx(ig,{className:"w-16 h-16 text-green-400 mb-6 mx-auto"}),m.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Join Our Community"}),m.jsx("p",{className:"text-gray-300 mb-8 text-lg leading-relaxed max-w-3xl mx-auto",children:"Connect with fellow coders, share knowledge, and participate in exciting competitions. Your journey to becoming a better programmer starts here!"}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-base",children:[m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#ReactJS"}),m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#Python"}),m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#JavaScript"}),m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#CompetitiveCoding"}),m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#WebDev"}),m.jsx("span",{className:"bg-gray-700 px-6 py-3 rounded-full hover:bg-green-500 hover:text-black transition-all cursor-pointer",children:"#MobileDev"})]})]})," */"]}),vO=({onGameOver:i})=>{const e=re.useRef(null),[n,r]=re.useState(0),[o,c]=re.useState(!1),f=re.useRef({snake:[{x:10,y:10}],food:{x:15,y:15},direction:{x:1,y:0},gameOver:!1});re.useEffect(()=>{if(!o)return;const y=e.current,_=y.getContext("2d"),b=20,x=y.width/b,A=setInterval(()=>{const $=f.current;if($.gameOver)return;const W={x:$.snake[0].x+$.direction.x,y:$.snake[0].y+$.direction.y};if(W.x<0||W.x>=x||W.y<0||W.y>=x){$.gameOver=!0,i(n);return}if($.snake.some(Y=>Y.x===W.x&&Y.y===W.y)){$.gameOver=!0,i(n);return}$.snake.unshift(W),W.x===$.food.x&&W.y===$.food.y?(r(Y=>Y+10),$.food={x:Math.floor(Math.random()*x),y:Math.floor(Math.random()*x)}):$.snake.pop(),_.fillStyle="#0a0a0a",_.fillRect(0,0,y.width,y.height),$.snake.forEach((Y,ie)=>{_.fillStyle=ie===0?"#00ff88":"#00cc66",_.fillRect(Y.x*b,Y.y*b,b-2,b-2)}),_.fillStyle="#ff0066",_.fillRect($.food.x*b,$.food.y*b,b-2,b-2),_.fillStyle="#00ff88",_.font='16px "Courier New"',_.fillText(`SCORE: ${n}`,10,20)},100),F=$=>{const W=f.current,Y=$.key;Y==="ArrowUp"&&W.direction.y===0?W.direction={x:0,y:-1}:Y==="ArrowDown"&&W.direction.y===0?W.direction={x:0,y:1}:Y==="ArrowLeft"&&W.direction.x===0?W.direction={x:-1,y:0}:Y==="ArrowRight"&&W.direction.x===0&&(W.direction={x:1,y:0})};return window.addEventListener("keydown",F),()=>{clearInterval(A),window.removeEventListener("keydown",F)}},[o,n,i]);const g=()=>{r(0),f.current={snake:[{x:10,y:10}],food:{x:15,y:15},direction:{x:1,y:0},gameOver:!1},c(!0)};return m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o?m.jsx("canvas",{ref:e,width:400,height:400,className:"border-4 border-green-500 rounded-lg shadow-lg shadow-green-500/50"}):m.jsx("button",{onClick:g,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-black font-bold rounded-lg hover:from-green-400 hover:to-emerald-400 transition-all",children:"START GAME"}),m.jsx("p",{className:"text-green-400 font-mono",children:"Use Arrow Keys to Control"})]})},EO=({onGameOver:i})=>{const[e,n]=re.useState("idle"),[r,o]=re.useState(0),[c,f]=re.useState(0),[g,y]=re.useState(0),_=re.useRef(0),b=()=>{o(0),f(0),x()},x=()=>{n("waiting");const F=Math.random()*3e3+1e3;setTimeout(()=>{n("ready"),_.current=Date.now()},F)},A=()=>{if(e==="ready"){const F=Date.now()-_.current;y(F);const $=Math.max(1e3-F,0);o(W=>W+$),c<4?(f(W=>W+1),setTimeout(x,1500)):(n("finished"),i(r+$))}else e==="waiting"&&(n("failed"),i(r))};return m.jsxs("div",{className:"flex flex-col items-center gap-4 w-full max-w-md",children:[e==="idle"&&m.jsxs("div",{className:"text-center",children:[m.jsx("button",{onClick:b,className:"px-8 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold rounded-lg hover:from-pink-400 hover:to-purple-400 transition-all",children:"START GAME"}),m.jsx("p",{className:"text-gray-400 mt-4 font-mono text-sm",children:"Click when the box turns GREEN!"})]}),(e==="waiting"||e==="ready")&&m.jsx("div",{onClick:A,className:`w-full h-64 rounded-lg cursor-pointer transition-all flex items-center justify-center text-2xl font-bold ${e==="waiting"?"bg-red-900 text-red-400":"bg-green-500 text-black animate-pulse"}`,children:e==="waiting"?"WAIT...":"CLICK NOW!"}),e==="failed"&&m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-red-500 text-xl font-bold mb-4",children:"TOO EARLY!"}),m.jsxs("p",{className:"text-white",children:["Final Score: ",r]})]}),e==="finished"&&m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-green-500 text-xl font-bold mb-4",children:"COMPLETE!"}),m.jsxs("p",{className:"text-white",children:["Final Score: ",r]})]}),(e==="waiting"||e==="ready")&&m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-white font-mono",children:["Round: ",c+1,"/5"]}),m.jsxs("p",{className:"text-green-400 font-mono",children:["Score: ",r]}),g>0&&m.jsxs("p",{className:"text-blue-400 font-mono",children:["Last: ",g,"ms"]})]})]})},is=6,fn=7,dn="red",to="blue",bO=({onGameOver:i})=>{const[e,n]=re.useState(Array(is).fill(null).map(()=>Array(fn).fill(null))),[r,o]=re.useState(dn),[c,f]=re.useState(null),[g,y]=re.useState([]),[_,b]=re.useState([]),[x,A]=re.useState(-1),[F,$]=re.useState(null),[W,Y]=re.useState("medium"),[ie,de]=re.useState(!1);re.useEffect(()=>{r===to&&!c&&!ie&&(de(!0),setTimeout(()=>{L(),de(!1)},500))},[r,c]),re.useEffect(()=>{if(c)try{const C=_.filter(q=>q.player===dn).length,V=600,P=W==="hard"?300:W==="medium"?150:0,le=c===dn?400:0,be=C*15,I=Math.max(0,V+P+le-be);typeof i=="function"&&i(I)}catch{}},[c]);const ce=C=>{for(let V=0;V<is;V++)for(let P=0;P<fn-3;P++)if(C[V][P]&&C[V][P]===C[V][P+1]&&C[V][P]===C[V][P+2]&&C[V][P]===C[V][P+3])return{winner:C[V][P],cells:[[V,P],[V,P+1],[V,P+2],[V,P+3]]};for(let V=0;V<is-3;V++)for(let P=0;P<fn;P++)if(C[V][P]&&C[V][P]===C[V+1][P]&&C[V][P]===C[V+2][P]&&C[V][P]===C[V+3][P])return{winner:C[V][P],cells:[[V,P],[V+1,P],[V+2,P],[V+3,P]]};for(let V=0;V<is-3;V++)for(let P=0;P<fn-3;P++)if(C[V][P]&&C[V][P]===C[V+1][P+1]&&C[V][P]===C[V+2][P+2]&&C[V][P]===C[V+3][P+3])return{winner:C[V][P],cells:[[V,P],[V+1,P+1],[V+2,P+2],[V+3,P+3]]};for(let V=0;V<is-3;V++)for(let P=3;P<fn;P++)if(C[V][P]&&C[V][P]===C[V+1][P-1]&&C[V][P]===C[V+2][P-2]&&C[V][P]===C[V+3][P-3])return{winner:C[V][P],cells:[[V,P],[V+1,P-1],[V+2,P-2],[V+3,P-3]]};return null},me=(C,V)=>{for(let P=is-1;P>=0;P--)if(!C[P][V])return P;return-1},Re=(C,V)=>V>=0&&V<fn&&C[0][V]===null,we=(C,V,P)=>{const le=me(C,V);if(le===-1)return null;const be=C.map(I=>[...I]);return be[le][V]=P,be},w=(C,V)=>{let P=0;const le=dn,be=C.filter(ne=>ne===V).length,I=C.filter(ne=>ne===le).length,q=C.filter(ne=>ne===null).length;return be===4?P+=100:be===3&&q===1?P+=5:be===2&&q===2&&(P+=2),I===3&&q===1&&(P-=4),P},N=(C,V)=>{let P=0;const be=C.map(I=>I[3]).filter(I=>I===V).length;P+=be*3;for(let I=0;I<is;I++)for(let q=0;q<fn-3;q++){const ne=[C[I][q],C[I][q+1],C[I][q+2],C[I][q+3]];P+=w(ne,V)}for(let I=0;I<fn;I++)for(let q=0;q<is-3;q++){const ne=[C[q][I],C[q+1][I],C[q+2][I],C[q+3][I]];P+=w(ne,V)}for(let I=0;I<is-3;I++)for(let q=0;q<fn-3;q++){const ne=[C[I][q],C[I+1][q+1],C[I+2][q+2],C[I+3][q+3]];P+=w(ne,V)}for(let I=0;I<is-3;I++)for(let q=3;q<fn;q++){const ne=[C[I][q],C[I+1][q-1],C[I+2][q-2],C[I+3][q-3]];P+=w(ne,V)}return P},D=(C,V,P,le,be)=>{const I=[];for(let ne=0;ne<fn;ne++)Re(C,ne)&&I.push(ne);const q=ce(C);if(q)return q.winner===to?[null,1e5]:[null,-1e5];if(I.length===0)return[null,0];if(V===0)return[null,N(C,to)];if(be){let ne=-1/0,ae=I[0];for(let ye of I){const xe=we(C,ye,to),Me=D(xe,V-1,P,le,!1)[1];if(Me>ne&&(ne=Me,ae=ye),P=Math.max(P,ne),P>=le)break}return[ae,ne]}else{let ne=1/0,ae=I[0];for(let ye of I){const xe=we(C,ye,dn),Me=D(xe,V-1,P,le,!0)[1];if(Me<ne&&(ne=Me,ae=ye),le=Math.min(le,ne),P>=le)break}return[ae,ne]}},L=()=>{const C=[];for(let P=0;P<fn;P++)Re(e,P)&&C.push(P);if(C.length===0)return;let V;W==="easy"?V=C[Math.floor(Math.random()*C.length)]:W==="medium"?Math.random()<.5?V=D(e,3,-1/0,1/0,!0)[0]:V=C[Math.floor(Math.random()*C.length)]:V=D(e,4,-1/0,1/0,!0)[0],O(V,!0)},O=(C,V=!1)=>{if(c||!V&&r===to||!Re(e,C))return;const P=me(e,C);if(P===-1)return;const le=e.map(q=>[...q]);le[P][C]=r;const be=_.slice(0,x+1);be.push({board:le,player:r}),b(be),A(be.length-1),n(le);const I=ce(le);I?(f(I.winner),y(I.cells)):o(r===dn?to:dn)},k=()=>{if(x>0){const C=x-2;if(C>=0){const V=_[C];n(V.board),o(dn),A(C),f(null),y([])}}},R=()=>{if(x<_.length-1){const C=x+2;if(C<_.length){const V=_[C];n(V.board),o(dn),A(C);const P=ce(V.board);P&&(f(P.winner),y(P.cells))}}},ve=()=>{n(Array(is).fill(null).map(()=>Array(fn).fill(null))),o(dn),f(null),y([]),b([]),A(-1)},De=(C,V)=>g.some(([P,le])=>P===C&&le===V);return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 p-8",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-5xl font-bold text-red-600 mb-8",style:{fontFamily:"Georgia, serif"},children:"Connect 4"}),m.jsxs("div",{className:"flex gap-8",children:[m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"bg-gray-300 p-4 rounded-lg shadow-2xl",style:{width:"fit-content"},children:[m.jsx("div",{className:"flex mb-2",children:Array(fn).fill(null).map((C,V)=>m.jsx("div",{className:"w-20 h-12 flex items-center justify-center cursor-pointer",onMouseEnter:()=>$(V),onMouseLeave:()=>$(null),onClick:()=>O(V),children:F===V&&!c&&r===dn&&Re(e,V)&&m.jsx("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-t-[25px] border-t-gray-400"})},V))}),m.jsx("div",{className:"bg-gradient-to-b from-gray-400 to-gray-500 p-3 rounded-lg",children:e.map((C,V)=>m.jsx("div",{className:"flex gap-2 mb-2 last:mb-0",children:C.map((P,le)=>m.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center relative",style:{background:"linear-gradient(145deg, #e0e0e0, #a8a8a8)",boxShadow:"inset 2px 2px 5px rgba(0,0,0,0.3)"},children:P&&m.jsx("div",{className:"w-16 h-16 rounded-full transition-all duration-300",style:{background:P==="red"?De(V,le)?"radial-gradient(circle at 30% 30%, #ff6b6b, #cc0000)":"radial-gradient(circle at 30% 30%, #ff4444, #cc0000)":De(V,le)?"radial-gradient(circle at 30% 30%, #66b3ff, #0066cc)":"radial-gradient(circle at 30% 30%, #4488ff, #0066cc)",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",border:De(V,le)?"3px solid yellow":"none"}})},le))},V))})]})}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"bg-orange-100 p-4 rounded-lg border-2 border-orange-300",children:[m.jsx("p",{className:"text-orange-600 font-semibold text-lg",children:"Click Top Arrows"}),m.jsx("p",{className:"text-orange-600 font-semibold text-lg",children:"to Drop Coins"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"font-semibold",children:"You:"}),m.jsx("div",{className:"w-8 h-8 rounded-full",style:{background:"radial-gradient(circle at 30% 30%, #ff4444, #cc0000)"}}),m.jsx("span",{className:"font-semibold ml-4",children:"Computer:"}),m.jsx("div",{className:"w-8 h-8 rounded-full",style:{background:"radial-gradient(circle at 30% 30%, #4488ff, #0066cc)"}})]}),c&&m.jsxs("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-300 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:c===dn?"You Won!":"Computer Won"}),m.jsx("div",{className:"text-6xl mb-4",children:c===dn?"":""}),m.jsx("p",{className:"text-orange-600 font-semibold",children:c===dn?"Great job!":"Oops... Play again?"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:k,disabled:x<=0,className:"flex-1 px-4 py-2 bg-white border-2 border-gray-300 rounded font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m.jsx(ME,{size:18}),"Undo"]}),m.jsxs("button",{onClick:R,disabled:x>=_.length-1,className:"flex-1 px-4 py-2 bg-white border-2 border-gray-300 rounded font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m.jsx(uw,{size:18}),"Redo"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"font-semibold",children:"Difficulty:"}),m.jsxs("select",{value:W,onChange:C=>Y(C.target.value),className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded font-semibold",children:[m.jsx("option",{value:"easy",children:"Easy"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"hard",children:"Hard"})]})]}),m.jsx("button",{onClick:ve,className:"w-full px-6 py-3 bg-white border-2 border-gray-300 rounded font-semibold text-lg hover:bg-gray-50",children:"Start a New Game"}),m.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-300",children:[m.jsx("h3",{className:"font-bold mb-2",children:"How to Play..."}),m.jsxs("ul",{className:"text-sm space-y-1",children:[m.jsx("li",{children:" Click arrows to drop your disc"}),m.jsx("li",{children:" Connect 4 in a row to win"}),m.jsx("li",{children:" Block opponent's progress"}),m.jsx("li",{children:" Win horizontally, vertically, or diagonally"})]})]})]})]})]})})},TO=({onGameOver:i})=>{const e=[{phrase:"THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG",hint:"Famous pangram",difficulty:"Easy"},{phrase:"PRACTICE MAKES PERFECT",hint:"Common saying",difficulty:"Easy"},{phrase:"KNOWLEDGE IS POWER",hint:"Famous quote",difficulty:"Easy"},{phrase:"HONESTY IS THE BEST POLICY",hint:"Moral advice",difficulty:"Easy"},{phrase:"BETTER LATE THAN NEVER",hint:"Common proverb",difficulty:"Easy"},{phrase:"LOOK BEFORE YOU LEAP",hint:"Think before acting",difficulty:"Easy"},{phrase:"EASIER SAID THAN DONE",hint:"Reality check",difficulty:"Easy"},{phrase:"DONT JUDGE A BOOK BY ITS COVER",hint:"About appearances",difficulty:"Easy"},{phrase:"TWO HEADS ARE BETTER THAN ONE",hint:"Teamwork",difficulty:"Easy"},{phrase:"A FRIEND IN NEED IS A FRIEND INDEED",hint:"True friendship",difficulty:"Easy"},{phrase:"NO PAIN NO GAIN",hint:"Fitness motto",difficulty:"Easy"},{phrase:"AN APPLE A DAY KEEPS THE DOCTOR AWAY",hint:"Health tip",difficulty:"Easy"},{phrase:"EVERY CLOUD HAS A SILVER LINING",hint:"Optimism",difficulty:"Easy"},{phrase:"LAUGHTER IS THE BEST MEDICINE",hint:"Cheerful saying",difficulty:"Easy"},{phrase:"WHEN IN ROME DO AS THE ROMANS DO",hint:"Adapt to surroundings",difficulty:"Easy"},{phrase:"TIME FLIES WHEN YOU ARE HAVING FUN",hint:"About time",difficulty:"Medium"},{phrase:"ACTIONS SPEAK LOUDER THAN WORDS",hint:"Proverb",difficulty:"Medium"},{phrase:"THE EARLY BIRD CATCHES THE WORM",hint:"Morning advice",difficulty:"Medium"},{phrase:"DONT COUNT YOUR CHICKENS BEFORE THEY HATCH",hint:"Be patient",difficulty:"Medium"},{phrase:"BIRDS OF A FEATHER FLOCK TOGETHER",hint:"About similarity",difficulty:"Medium"},{phrase:"THE PEN IS MIGHTIER THAN THE SWORD",hint:"Power of words",difficulty:"Medium"},{phrase:"NEVER PUT ALL YOUR EGGS IN ONE BASKET",hint:"Investment wisdom",difficulty:"Medium"},{phrase:"A JOURNEY OF A THOUSAND MILES BEGINS WITH A SINGLE STEP",hint:"Motivational",difficulty:"Medium"},{phrase:"THE GRASS IS ALWAYS GREENER ON THE OTHER SIDE",hint:"Envy warning",difficulty:"Medium"},{phrase:"TO ERR IS HUMAN TO FORGIVE DIVINE",hint:"Forgiveness quote",difficulty:"Medium"},{phrase:"YOU CANT HAVE YOUR CAKE AND EAT IT TOO",hint:"Cant have everything",difficulty:"Medium"},{phrase:"THERE IS NO PLACE LIKE HOME",hint:"Comfort zone",difficulty:"Medium"},{phrase:"THE CUSTOMER IS ALWAYS RIGHT",hint:"Business mantra",difficulty:"Medium"},{phrase:"OLD HABITS DIE HARD",hint:"Behavioral truth",difficulty:"Medium"},{phrase:"DONT BITE THE HAND THAT FEEDS YOU",hint:"Ingratitude warning",difficulty:"Medium"},{phrase:"THE MORE THE MERRIER",hint:"Group fun",difficulty:"Medium"},{phrase:"TOO MANY COOKS SPOIL THE BROTH",hint:"Teamwork caution",difficulty:"Medium"},{phrase:"ABSENCE MAKES THE HEART GROW FONDER",hint:"Love quote",difficulty:"Medium"},{phrase:"NECESSITY IS THE MOTHER OF INVENTION",hint:"Innovation origin",difficulty:"Medium"},{phrase:"BEAUTY IS IN THE EYE OF THE BEHOLDER",hint:"Subjective opinion",difficulty:"Medium"},{phrase:"FORTUNE FAVORS THE BOLD",hint:"Ancient wisdom",difficulty:"Hard"},{phrase:"WHERE THERE IS A WILL THERE IS A WAY",hint:"Motivational",difficulty:"Hard"},{phrase:"A WOLF IN SHEEPS CLOTHING",hint:"Deceptive appearance",difficulty:"Hard"},{phrase:"THE ROAD TO HELL IS PAVED WITH GOOD INTENTIONS",hint:"Warning about actions",difficulty:"Hard"},{phrase:"EVERY DOG HAS ITS DAY",hint:"Patience proverb",difficulty:"Hard"},{phrase:"YOU REAP WHAT YOU SOW",hint:"Karma saying",difficulty:"Hard"},{phrase:"ALL THAT GLITTERS IS NOT GOLD",hint:"Appearances deceive",difficulty:"Hard"},{phrase:"THE PROOF OF THE PUDDING IS IN THE EATING",hint:"Test results",difficulty:"Hard"},{phrase:"HE WHO LAUGHS LAST LAUGHS BEST",hint:"Patience and success",difficulty:"Hard"},{phrase:"THE ENDS JUSTIFY THE MEANS",hint:"Machiavellian idea",difficulty:"Hard"},{phrase:"YOU CANNOT JUDGE A BOOK BY ITS COVER",hint:"About judgment",difficulty:"Hard"},{phrase:"THE DEVIL IS IN THE DETAILS",hint:"About precision",difficulty:"Hard"},{phrase:"FAMILIARITY BREEDS CONTEMPT",hint:"Overexposure issue",difficulty:"Hard"},{phrase:"DISCRETION IS THE BETTER PART OF VALOR",hint:"Wisdom in retreat",difficulty:"Hard"},{phrase:"GREAT MINDS THINK ALIKE",hint:"Coincidence compliment",difficulty:"Hard"}],[n,r]=re.useState("menu"),[o,c]=re.useState(0),[f,g]=re.useState({}),[y,_]=re.useState({}),[b,x]=re.useState(null),[A,F]=re.useState(0),[$,W]=re.useState(0),[Y,ie]=re.useState(new Set),de=re.useRef({});re.useEffect(()=>{n==="playing"&&ce()},[o,n]);const ce=()=>{const O="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),k=[...O].sort(()=>Math.random()-.5),R={};O.forEach((ve,De)=>{R[ve]=k[De]}),g(R),_({}),ie(new Set),x(null)},me=(O,k)=>{if(!k||k.length===0){const C={...y};delete C[O],_(C),Re(C);return}const R=k.toUpperCase();if(!/[A-Z]/.test(R))return;const ve=new Set(Y);Object.entries(y).forEach(([C,V])=>{C!==O&&V===R&&(ve.add(C),ve.add(O))});const De={...y,[O]:R};_(De),Re(De)},Re=O=>{const k=new Set,R={};Object.entries(O).forEach(([ve,De])=>{R[De]?(k.add(ve),k.add(R[De])):R[De]=ve}),ie(k)},we=()=>{const k=e[o].phrase.replace(/[^A-Z]/g,"");for(let R of k){const ve=f[R];if(!y[ve]||y[ve]!==R)return!1}return!0};re.useEffect(()=>{if(n==="playing"&&Object.keys(y).length>0&&we()){const O=Math.max(0,500-$*100);F(k=>k+O),o<e.length-1?setTimeout(()=>{c(k=>k+1),W(0)},1500):setTimeout(()=>{r("finished"),typeof i=="function"&&i(A+O)},1500)}},[y,n]);const w=()=>{const k=e[o].phrase.replace(/[^A-Z]/g,""),R=[...new Set(k)].filter(ve=>{const De=f[ve];return!y[De]||y[De]!==ve});if(R.length>0){const ve=R[Math.floor(Math.random()*R.length)],De=f[ve];_({...y,[De]:ve}),W(C=>C+1),F(C=>Math.max(0,C-50))}},N=O=>{if(!b)return;const k=e[o].phrase,R=[];for(let P=0;P<k.length;P++)/[A-Z]/.test(k[P])&&R.push(P);const ve=R.indexOf(b);if(ve===-1)return;const De=O==="left"?Math.max(0,ve-1):Math.min(R.length-1,ve+1),C=R[De];x(C);const V=f[k[C]];de.current[`${C}-${V}`]&&de.current[`${C}-${V}`].focus()};re.useEffect(()=>{const O=k=>{n!=="playing"||!b||(k.key==="ArrowLeft"?(k.preventDefault(),N("left")):k.key==="ArrowRight"&&(k.preventDefault(),N("right")))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[n,b]);const D=()=>{const k=e[o].phrase.split(" ");let R=0;return m.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-6",children:k.map((ve,De)=>m.jsx("div",{className:"flex flex-col gap-2",children:m.jsx("div",{className:"flex gap-1",children:ve.split("").map((C,V)=>{const P=R++,le=f[C],be=b===P,I=Y.has(le);return m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("input",{ref:q=>de.current[`${P}-${le}`]=q,type:"text",maxLength:"1",value:y[le]||"",onChange:q=>me(le,q.target.value),onFocus:()=>x(P),className:`w-10 h-10 text-center text-xl font-bold border-2 rounded bg-gray-800 text-white uppercase transition-all ${be?"border-yellow-400 ring-2 ring-yellow-400":I?"border-red-500":y[le]&&f[y[le]]===le?"border-green-500":"border-gray-600"}`}),m.jsx("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:le})]},V)})})},De))})},L=()=>Object.values(y).filter((O,k,R)=>R.indexOf(O)===k);return n==="finished"?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"text-center max-w-2xl",children:[m.jsx(rc,{className:"w-24 h-24 text-yellow-400 mx-auto mb-4 animate-bounce"}),m.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"VICTORY!"}),m.jsxs("p",{className:"text-3xl text-green-400 mb-8",children:["Final Score: ",A]}),m.jsx("button",{onClick:()=>r("menu"),className:"px-12 py-4 bg-gradient-to-r from-green-500 to-blue-500 text-white text-xl font-bold rounded-lg hover:from-green-400 hover:to-blue-400 transition-all transform hover:scale-105",children:"PLAY AGAIN"})]})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"CRYPTOWORD"}),m.jsxs("p",{className:"text-gray-400",children:["Level ",o+1," / ",e.length]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["Score: ",A]}),m.jsxs("p",{className:"text-sm text-gray-400",children:["Hints Used: ",$]})]})]}),m.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 border-2 border-purple-500",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"text-white font-semibold",children:["Hint: ",e[o].hint]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:["Difficulty: ",e[o].difficulty]})]}),m.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-500 hover:bg-blue-400 text-white font-bold rounded-lg flex items-center gap-2 transition-all",children:[m.jsx(XS,{className:"w-5 h-5"}),"Get Hint (-50)"]})]})}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 mb-6 border-2 border-gray-700",children:[D(),m.jsx("div",{className:"flex justify-center gap-4 text-gray-500 text-sm",children:m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(CS,{className:"w-4 h-4"})," / ",m.jsx(OS,{className:"w-4 h-4"})," to navigate"]})})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-2 border-gray-700",children:[m.jsx("p",{className:"text-white font-semibold mb-2",children:"Letters Used:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(O=>m.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded font-bold text-sm ${L().includes(O)?"bg-green-600 text-white":"bg-gray-700 text-gray-500"}`,children:O},O))})]}),m.jsxs("button",{onClick:ce,className:"mt-4 px-6 py-2 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg flex items-center gap-2 mx-auto transition-all",children:[m.jsx(ME,{className:"w-5 h-5"}),"Reset Puzzle"]})]})})},Yl="gameScores",ip="offlineScores",rp="events",xO=async(i,e,n,r=null)=>{try{if(r)try{const c=vo(Vs(sn,Yl),sc("gameType","==",i),sc("userId","==",r)),f=await Eo(c);if(!f.empty){const g=f.docs[0],y=g.data().score;return n>y?(await qg(No(sn,Yl,g.id),{score:n,name:e,timestamp:Ps()}),console.log("Score updated in gameScores collection with higher value"),{success:!0,updated:!0,previousScore:y}):(console.log("New score is not higher than existing score, keeping existing"),{success:!0,updated:!1,currentScore:y})}}catch(c){console.warn("Error checking for existing score:",c)}const o={gameType:i,game:i,name:e,score:n,userId:r,isVerified:!0,timestamp:Ps()};try{return await Eh(Vs(sn,Yl),o),console.log("New score added to gameScores collection"),{success:!0,updated:!1,newRecord:!0}}catch(c){console.warn("Failed to add to gameScores, trying legacy scores collection:",c);try{return await Eh(Vs(sn,"scores"),{game:i,name:e,score:n,userId:r,timestamp:Ps()}),console.log("New score added to legacy scores collection"),{success:!0,updated:!1,newRecord:!0}}catch(f){throw console.error("Failed to add to legacy scores as well:",f),f}}}catch(o){return console.error("Error adding/updating score:",o),{success:!1,error:o}}},SO=async i=>{try{let e=vo(Vs(sn,Yl),sc("gameType","==",i)),n=await Eo(e),r=n.docs.map(o=>({id:o.id,...o.data()}));return console.log(`Found ${r.length} scores in gameScores collection`),r.length===0&&(console.log("No scores in gameScores, trying legacy scores collection"),e=vo(Vs(sn,"scores"),sc("game","==",i)),n=await Eo(e),r=n.docs.map(o=>({id:o.id,...o.data()})),console.log(`Found ${r.length} scores in legacy scores collection`)),r.sort((o,c)=>c.score-o.score),r.slice(0,10)}catch(e){return console.error("Error getting scores:",e),[]}},wO=async(i,e,n)=>{try{return await Eh(Vs(sn,ip),{game:i,name:e,score:n,timestamp:Ps()}),{success:!0}}catch(r){return console.error("Error adding offline score:",r),{success:!1,error:r}}},V1=async()=>{try{const i=vo(Vs(sn,ip),Hg("score","desc"));return(await Eo(i)).docs.map(n=>({id:n.id,...n.data()}))}catch(i){return console.error("Error getting offline scores:",i),[]}},AO=async i=>{try{return await OT(No(sn,ip,i)),{success:!0}}catch(e){return console.error("Error deleting offline score:",e),{success:!1,error:e}}},NO=async i=>{try{return await Eh(Vs(sn,rp),{...i,timestamp:Ps()}),{success:!0}}catch(e){return console.error("Error adding event:",e),{success:!1,error:e}}},L1=async()=>{try{const i=vo(Vs(sn,rp),Hg("date","desc"));return(await Eo(i)).docs.map(n=>({id:n.id,...n.data()}))}catch(i){return console.error("Error getting events:",i),[]}},RO=async i=>{try{return await OT(No(sn,rp,i)),{success:!0}}catch(e){return console.error("Error deleting event:",e),{success:!1,error:e}}},IO=async i=>{try{const e=vo(Vs(sn,Yl),sc("userId","==",i),Hg("timestamp","desc"));return(await Eo(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting user scores:",e),[]}},CO=({score:i,game:e,user:n,onClose:r})=>{const[o,c]=re.useState(n?.username||""),[f,g]=re.useState(!1),[y,_]=re.useState(!1),[b,x]=re.useState(null),A=async()=>{if(o.trim()){g(!0);try{const $=await xO(e,o.trim(),i,n?.id||null);if(x($),n?.id){const W=n.gameStats||{},Y={...W,totalGamesPlayed:(W.totalGamesPlayed||0)+1,totalScore:(W.totalScore||0)+i,[`best${e.charAt(0).toUpperCase()+e.slice(1)}Score`]:Math.max(W[`best${e.charAt(0).toUpperCase()+e.slice(1)}Score`]||0,i)};await yO(n.id,Y)}_(!0),setTimeout(()=>{r()},2e3)}catch($){console.error("Error submitting score:",$),r()}finally{g(!1)}}},F=$=>{$.key==="Enter"&&!f&&!y&&A()};if(y){const $=()=>b?b.updated?{title:"New High Score!",message:`Great improvement! Your score was updated from ${b.previousScore} to ${i}.`}:b.updated===!1&&b.currentScore?{title:"Score Not Updated",message:`Your current high score of ${b.currentScore} is still better than this attempt.`}:b.newRecord?{title:"Score Submitted!",message:"Your first score for this game has been recorded!"}:{title:"Score Submitted!",message:"Your score has been recorded."}:{title:"Score Submitted!",message:"Your score has been recorded."},{title:W,message:Y}=$();return m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:m.jsx("div",{className:"bg-gray-900 p-8 rounded-xl border-2 border-green-500 max-w-md w-full mx-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx(VS,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-2xl font-bold mb-4 text-green-400",children:W}),m.jsxs("p",{className:"text-white mb-2",children:["Great job, ",o,"!"]}),m.jsx("p",{className:"text-gray-400",children:Y})]})})})}return m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-gray-900 p-8 rounded-xl border-2 border-green-500 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(rc,{className:"w-8 h-8 text-yellow-400"}),m.jsx("h3",{className:"text-2xl font-bold",children:"Game Over!"})]}),m.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:m.jsx(Ew,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("p",{className:"text-3xl font-bold text-green-400 mb-2",children:i}),m.jsx("p",{className:"text-white mb-1",children:"Your Score"}),m.jsxs("p",{className:"text-gray-400 text-sm capitalize",children:[e," Game"]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-green-400 font-semibold mb-2",children:"Display Name"}),m.jsx("input",{type:"text",value:o,onChange:$=>c($.target.value),onKeyPress:F,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter your display name",disabled:f})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:A,disabled:!o.trim()||f,className:"flex-1 px-6 py-3 bg-green-500 text-black font-bold rounded-lg hover:bg-green-400 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:f?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):"Submit Score"}),m.jsx("button",{onClick:r,disabled:f,className:"flex-1 px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-600 disabled:cursor-not-allowed transition-all",children:"Cancel"})]})]})})},DO=({user:i})=>{const[e,n]=re.useState(null),[r,o]=re.useState(!1),[c,f]=re.useState(0),g=b=>{f(b),o(!0)},y=()=>{o(!1),n(null)},_=()=>{n(null)};return e?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[m.jsx("h2",{className:"text-4xl font-bold text-white",children:e==="snake"?" SNAKE GAME":e==="reaction"?" REACTION TESTER":e==="connect4"?" CONNECT 4":" CRYPTOWORD"}),m.jsx("button",{onClick:_,className:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all font-semibold flex items-center gap-2",children:" Back to Games"})]}),m.jsxs("div",{className:"flex justify-center",children:[e==="snake"&&m.jsx(vO,{onGameOver:g}),e==="reaction"&&m.jsx(EO,{onGameOver:g}),e==="connect4"&&m.jsx(bO,{onGameOver:g}),e==="cryptoword"&&m.jsx(TO,{onGameOver:g})]}),r&&m.jsx(CO,{score:c,game:e,user:i,onClose:y})]})}):m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-8",children:[m.jsx("h2",{className:"text-5xl font-bold mb-12 text-center bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Choose Your Game"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16",children:[m.jsxs("div",{onClick:()=>n("snake"),className:"bg-gradient-to-br from-green-900 to-emerald-900 p-8 rounded-2xl cursor-pointer hover:scale-105 transition-all border-2 border-green-500 hover:shadow-2xl hover:shadow-green-500/50",children:[m.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),m.jsx("h3",{className:"text-3xl font-bold mb-4 text-green-400 text-center",children:"SNAKE"}),m.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Classic arcade game"}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Arrow keys to move"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Eat food to grow"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Avoid walls & yourself"]})]}),m.jsx("button",{className:"w-full mt-6 px-6 py-3 bg-green-500 text-black font-bold rounded-xl hover:bg-green-400 transition-all",children:"PLAY NOW"})]}),m.jsxs("div",{onClick:()=>n("reaction"),className:"bg-gradient-to-br from-pink-900 to-purple-900 p-8 rounded-2xl cursor-pointer hover:scale-105 transition-all border-2 border-pink-500 hover:shadow-2xl hover:shadow-pink-500/50",children:[m.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),m.jsx("h3",{className:"text-3xl font-bold mb-4 text-pink-400 text-center",children:"REACTION"}),m.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Test your reflexes"}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Wait for green light"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Click as fast as you can"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"5 rounds to complete"]})]}),m.jsx("button",{className:"w-full mt-6 px-6 py-3 bg-pink-500 text-white font-bold rounded-xl hover:bg-pink-400 transition-all",children:"PLAY NOW"})]}),m.jsxs("div",{onClick:()=>n("connect4"),className:"bg-gradient-to-br from-red-900 to-blue-900 p-8 rounded-2xl cursor-pointer hover:scale-105 transition-all border-2 border-yellow-500 hover:shadow-2xl hover:shadow-yellow-500/50",children:[m.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),m.jsx("h3",{className:"text-3xl font-bold mb-4 text-yellow-400 text-center",children:"CONNECT 4"}),m.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Strategy board game"}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Drop discs in columns"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Connect 4 in a row"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Beat the AI opponent"]})]}),m.jsx("button",{className:"w-full mt-6 px-6 py-3 bg-yellow-500 text-black font-bold rounded-xl hover:bg-yellow-400 transition-all",children:"PLAY NOW"})]}),m.jsxs("div",{onClick:()=>n("cryptoword"),className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-8 rounded-2xl cursor-pointer hover:scale-105 transition-all border-2 border-purple-500 hover:shadow-2xl hover:shadow-purple-500/50",children:[m.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),m.jsx("h3",{className:"text-3xl font-bold mb-4 text-purple-400 text-center",children:"CRYPTOWORD"}),m.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Decode the puzzle"}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Decrypt hidden phrases"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Use hints wisely"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"50 challenging levels"]})]}),m.jsx("button",{className:"w-full mt-6 px-6 py-3 bg-purple-500 text-white font-bold rounded-xl hover:bg-purple-400 transition-all",children:"PLAY NOW"})]})]}),m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h3",{className:"text-4xl font-bold mb-10 text-center bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"How to Play"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl border-2 border-green-500/30 hover:border-green-500/60 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsx("h4",{className:"text-3xl font-bold text-green-400",children:"Snake Game"})]}),m.jsxs("div",{className:"space-y-4 text-gray-300",children:[m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-green-400 mb-2",children:"Controls:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Use arrow keys (   ) to move"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Can't reverse direction"]})]})]}),m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-green-400 mb-2",children:"Objective:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Eat red food to grow longer"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Each food gives 10 points"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Avoid hitting walls or yourself"]})]})]}),m.jsx("div",{className:"bg-green-900/30 p-3 rounded-lg border border-green-500/30",children:m.jsxs("p",{className:"text-sm text-green-300",children:[m.jsx("span",{className:"font-bold",children:"Tip:"})," Plan your path ahead to avoid trapping yourself!"]})})]})]}),m.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl border-2 border-pink-500/30 hover:border-pink-500/60 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsx("h4",{className:"text-3xl font-bold text-pink-400",children:"Reaction Tester"})]}),m.jsxs("div",{className:"space-y-4 text-gray-300",children:[m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-pink-400 mb-2",children:"How to Play:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Wait for the red box to appear"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"It will turn green after a delay"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Click as soon as it turns green"]})]})]}),m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-pink-400 mb-2",children:"Scoring:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Faster reactions = higher score"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Complete 5 rounds total"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-pink-400 rounded-full mr-3"}),"Don't click too early!"]})]})]}),m.jsx("div",{className:"bg-pink-900/30 p-3 rounded-lg border border-pink-500/30",children:m.jsxs("p",{className:"text-sm text-pink-300",children:[m.jsx("span",{className:"font-bold",children:"Tip:"})," Stay focused and keep your mouse ready!"]})})]})]}),m.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl border-2 border-yellow-500/30 hover:border-yellow-500/60 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsx("h4",{className:"text-3xl font-bold text-yellow-400",children:"Connect 4"})]}),m.jsxs("div",{className:"space-y-4 text-gray-300",children:[m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-yellow-400 mb-2",children:"How to Play:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Click arrows above columns"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Your disc drops to lowest spot"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"You play red, computer plays blue"]})]})]}),m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-yellow-400 mb-2",children:"Win Conditions:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Connect 4 discs horizontally"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Connect 4 discs vertically"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),"Connect 4 discs diagonally"]})]})]}),m.jsx("div",{className:"bg-yellow-900/30 p-3 rounded-lg border border-yellow-500/30",children:m.jsxs("p",{className:"text-sm text-yellow-300",children:[m.jsx("span",{className:"font-bold",children:"Tip:"})," Block your opponent while building your own line!"]})})]})]}),m.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl border-2 border-purple-500/30 hover:border-purple-500/60 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsx("h4",{className:"text-3xl font-bold text-purple-400",children:"Cryptoword"})]}),m.jsxs("div",{className:"space-y-4 text-gray-300",children:[m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-purple-400 mb-2",children:"How to Play:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Each letter is substituted"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Type the decoded letter"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Use arrow keys to navigate"]})]})]}),m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[m.jsx("h5",{className:"font-bold text-purple-400 mb-2",children:"Scoring:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Start with 1000 points"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Hints cost 50 points each"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),"Bonus for quick solves"]})]})]}),m.jsx("div",{className:"bg-purple-900/30 p-3 rounded-lg border border-purple-500/30",children:m.jsxs("p",{className:"text-sm text-purple-300",children:[m.jsx("span",{className:"font-bold",children:"Tip:"})," Look for common words like THE and AND first!"]})})]})]})]})]})]})},OO=({user:i})=>{const[e,n]=re.useState("online"),[r,o]=re.useState("snake"),[c,f]=re.useState([]),[g,y]=re.useState([]),[_,b]=re.useState(!1),x=async Y=>{b(!0);try{const ie=await SO(Y);f(ie)}catch(ie){console.error("Error loading scores:",ie)}finally{b(!1)}},A=async()=>{b(!0);try{const Y=await V1();y(Y)}catch(Y){console.error("Error loading offline scores:",Y)}finally{b(!1)}};re.useEffect(()=>{e==="online"?x(r):A()},[e,r]);const F=Y=>{switch(Y){case 0:return m.jsx(DE,{className:"w-6 h-6 text-yellow-400"});case 1:return m.jsx(OE,{className:"w-6 h-6 text-gray-400"});case 2:return m.jsx(CE,{className:"w-6 h-6 text-orange-400"});default:return m.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",Y+1]})}},$=Y=>{switch(Y){case 0:return"from-yellow-500/20 to-yellow-600/20 border-yellow-500/50";case 1:return"from-gray-400/20 to-gray-500/20 border-gray-400/50";case 2:return"from-orange-500/20 to-orange-600/20 border-orange-500/50";default:return"from-gray-700/50 to-gray-800/50 border-gray-600/30"}},W=(Y,ie)=>m.jsx("div",{className:`bg-gradient-to-r ${$(ie)} p-6 rounded-xl border backdrop-blur-sm`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center justify-center w-12 h-12",children:F(ie)}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:Y.name}),m.jsx("p",{className:"text-sm text-gray-500",children:Y.timestamp?.toDate?Y.timestamp.toDate().toLocaleDateString():new Date(Y.timestamp).toLocaleDateString()})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-3xl font-bold text-green-400",children:Y.score.toLocaleString()}),m.jsx("p",{className:"text-sm text-gray-400 capitalize",children:Y.game||r})]})]})},Y.id||`${Y.name}-${ie}`);return m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold mb-8 text-center",children:"Leaderboards"}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg p-1 flex flex-wrap",children:[m.jsx("button",{onClick:()=>n("online"),className:`px-4 py-2 rounded-lg font-bold transition-all ${e==="online"?"bg-green-500 text-black":"text-green-400 hover:bg-green-500/20"}`,children:"Global"}),m.jsx("button",{onClick:()=>n("offline"),className:`px-4 py-2 rounded-lg font-bold transition-all ${e==="offline"?"bg-purple-500 text-white":"text-purple-400 hover:bg-purple-500/20"}`,children:"Events"})]})}),e==="online"&&m.jsx("div",{className:"flex justify-center mb-8",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg p-1 flex",children:[m.jsx("button",{onClick:()=>o("snake"),className:`px-4 py-2 rounded-lg font-bold transition-all ${r==="snake"?"bg-green-500 text-black":"text-green-400 hover:bg-green-500/20"}`,children:"Snake"}),m.jsx("button",{onClick:()=>o("reaction"),className:`px-4 py-2 rounded-lg font-bold transition-all ${r==="reaction"?"bg-pink-500 text-white":"text-pink-400 hover:bg-pink-500/20"}`,children:"Reaction"})]})}),_?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"inline-block w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"text-gray-400 mt-4",children:"Loading leaderboard..."})]}):m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"space-y-4",children:[(e==="online"?c:g).map((Y,ie)=>W(Y,ie)),(e==="online"?c:g).length===0&&m.jsxs("div",{className:"text-center py-12 bg-gray-800/50 rounded-xl border border-gray-700",children:[m.jsx(rc,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400 text-lg",children:e==="online"?`No scores yet for ${r} game`:"No offline event scores recorded yet"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Be the first to set a record!"})]})]})})]})},MO=()=>{const[i,e]=re.useState([]),[n,r]=re.useState(!0);re.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const y=await L1();e(y)}catch(y){console.error("Error loading events:",y)}finally{r(!1)}},c=y=>{const _=new Date(y);return{date:_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:_.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}},f=y=>{const _=y.toLowerCase();return _.includes("hackathon")?"from-purple-500 to-purple-600":_.includes("workshop")?"from-blue-500 to-blue-600":_.includes("competition")?"from-red-500 to-red-600":_.includes("meeting")?"from-green-500 to-green-600":"from-gray-500 to-gray-600"},g=y=>{const _=y.toLowerCase();return _.includes("hackathon")?"":_.includes("workshop")?"":_.includes("competition")?"":_.includes("meeting")?"":""};return m.jsxs("div",{children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Upcoming Events"}),m.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Stay updated with our latest workshops, hackathons, and coding competitions. Join us for exciting learning opportunities and networking events."})]}),n?m.jsx("div",{className:"flex justify-center py-16",children:m.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin"})}):m.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:i.length>0?i.map(y=>{const{date:_,time:b}=c(y.date),x=new Date(y.date)>new Date;return m.jsx("div",{className:`bg-gradient-to-r from-gray-800 to-gray-900 p-6 rounded-xl border transition-all hover:scale-105 ${x?"border-green-500/30 hover:border-green-500":"border-gray-600/30"}`,children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("span",{className:"text-2xl",children:g(y.title)}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:y.title}),!x&&m.jsx("span",{className:"bg-gray-600 text-gray-300 px-2 py-1 rounded text-sm",children:"Completed"})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[m.jsx(Kl,{className:"w-4 h-4"}),m.jsx("span",{children:_})]}),m.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[m.jsx(zS,{className:"w-4 h-4"}),m.jsx("span",{children:b})]})]}),y.description&&m.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:y.description}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[m.jsx(ig,{className:"w-4 h-4"}),m.jsx("span",{children:"Open to all year students"})]})]}),m.jsx("div",{className:`w-2 h-20 bg-gradient-to-b ${f(y.title)} rounded-full ml-4`})]})},y.id)}):m.jsxs("div",{className:"text-center py-16",children:[m.jsx(Kl,{className:"w-24 h-24 text-gray-600 mx-auto mb-6"}),m.jsx("h3",{className:"text-2xl font-bold text-gray-400 mb-4",children:"No Events Scheduled"}),m.jsx("p",{className:"text-gray-500 text-lg mb-8",children:"We're working on some exciting events for you! Check back soon for updates."}),m.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700 max-w-md mx-auto",children:[m.jsx("h4",{className:"text-lg font-bold text-green-400 mb-3",children:"What's Coming Next?"}),m.jsxs("ul",{className:"text-gray-300 space-y-2 text-left",children:[m.jsx("li",{children:" Weekly coding challenges"}),m.jsx("li",{children:" Monthly hackathons"}),m.jsx("li",{children:" Technical workshops"}),m.jsx("li",{children:" Guest speaker sessions"}),m.jsx("li",{children:" Peer coding reviews"})]})]})]})}),m.jsxs("div",{className:"mt-16 max-w-4xl mx-auto",children:[m.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Event Types"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-purple-800 p-4 rounded-lg border border-purple-500/30",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-purple-400",children:"Hackathons"}),m.jsx("p",{className:"text-sm text-gray-300",children:"24-48 hour coding marathons"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-900 to-blue-800 p-4 rounded-lg border border-blue-500/30",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-blue-400",children:"Workshops"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Hands-on learning sessions"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-red-900 to-red-800 p-4 rounded-lg border border-red-500/30",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-red-400",children:"Competitions"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Coding contests and challenges"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-green-800 p-4 rounded-lg border border-green-500/30",children:[m.jsx("div",{className:"text-2xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-green-400",children:"Meetings"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Club updates and discussions"})]})]})]})]})},kO=({user:i})=>{const[e,n]=re.useState([]),[r,o]=re.useState(!0),[c,f]=re.useState({totalGames:0,bestSnakeScore:0,bestReactionScore:0,averageScore:0,rank:"Rookie"});re.useEffect(()=>{g()},[i]);const g=async()=>{o(!0);try{if(i?.id){const x=await IO(i.id);n(x);const A=i.gameStats||{},F=x.filter(me=>me.game==="snake"),$=x.filter(me=>me.game==="reaction"),W=A.bestSnakeScore||(F.length>0?Math.max(...F.map(me=>me.score)):0),Y=A.bestReactionScore||($.length>0?Math.max(...$.map(me=>me.score)):0),ie=A.totalGamesPlayed||x.length,de=ie>0?(A.totalScore||x.reduce((me,Re)=>me+Re.score,0))/ie:0;let ce="Rookie";ie>=10&&de>2e3?ce="Expert":ie>=5&&de>1e3?ce="Advanced":ie>=2&&(ce="Intermediate"),f({totalGames:ie,bestSnakeScore:W,bestReactionScore:Y,averageScore:Math.round(de),rank:ce})}else f({totalGames:0,bestSnakeScore:0,bestReactionScore:0,averageScore:0,rank:"Rookie"})}catch(x){console.error("Error loading user stats:",x)}finally{o(!1)}},y=x=>{switch(x){case"Expert":return m.jsx(DE,{className:"w-6 h-6 text-yellow-400"});case"Advanced":return m.jsx(OE,{className:"w-6 h-6 text-purple-400"});case"Intermediate":return m.jsx(U_,{className:"w-6 h-6 text-blue-400"});default:return m.jsx(P_,{className:"w-6 h-6 text-green-400"})}},_=x=>{switch(x){case"Expert":return"from-yellow-500 to-yellow-600";case"Advanced":return"from-purple-500 to-purple-600";case"Intermediate":return"from-blue-500 to-blue-600";default:return"from-green-500 to-green-600"}},b=[{id:1,title:"First Steps",description:"Play your first game",icon:"",unlocked:c.totalGames>=1,progress:Math.min(c.totalGames,1),maxProgress:1},{id:2,title:"Snake Master",description:"Score 100+ in Snake Game",icon:"",unlocked:c.bestSnakeScore>=100,progress:Math.min(c.bestSnakeScore,100),maxProgress:100},{id:3,title:"Lightning Reflexes",description:"Score 3000+ in Reaction Tester",icon:"",unlocked:c.bestReactionScore>=3e3,progress:Math.min(c.bestReactionScore,3e3),maxProgress:3e3},{id:4,title:"Regular Player",description:"Play 10 games",icon:"",unlocked:c.totalGames>=10,progress:Math.min(c.totalGames,10),maxProgress:10},{id:5,title:"Consistent Performer",description:"Average score above 1000",icon:"",unlocked:c.averageScore>=1e3,progress:Math.min(c.averageScore,1e3),maxProgress:1e3}];return r?m.jsx("div",{className:"flex justify-center py-16",children:m.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin"})}):m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(sg,{className:"w-12 h-12 text-black"})}),m.jsx("h2",{className:"text-4xl font-bold mb-2",children:i.username}),m.jsx("p",{className:"text-gray-400 text-lg",children:i.regNumber}),m.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[y(c.rank),m.jsx("span",{className:`bg-gradient-to-r ${_(c.rank)} bg-clip-text text-transparent font-bold text-xl`,children:c.rank})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl border border-green-500/30",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(Am,{className:"w-6 h-6 text-green-400"}),m.jsx("span",{className:"text-green-400 font-semibold",children:"Games Played"})]}),m.jsx("div",{className:"text-3xl font-bold text-white",children:c.totalGames})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl border border-yellow-500/30",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(rc,{className:"w-6 h-6 text-yellow-400"}),m.jsx("span",{className:"text-yellow-400 font-semibold",children:"Best Snake"})]}),m.jsx("div",{className:"text-3xl font-bold text-white",children:c.bestSnakeScore})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl border border-pink-500/30",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(kE,{className:"w-6 h-6 text-pink-400"}),m.jsx("span",{className:"text-pink-400 font-semibold",children:"Best Reaction"})]}),m.jsx("div",{className:"text-3xl font-bold text-white",children:c.bestReactionScore})]}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl border border-blue-500/30",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(P_,{className:"w-6 h-6 text-blue-400"}),m.jsx("span",{className:"text-blue-400 font-semibold",children:"Average Score"})]}),m.jsx("div",{className:"text-3xl font-bold text-white",children:c.averageScore})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-green-500/30",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(Kl,{className:"text-green-400"}),"Recent Games"]}),e.length>0?m.jsx("div",{className:"space-y-3",children:e.slice(0,5).map((x,A)=>m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-white capitalize",children:[x.game," Game"]}),m.jsx("div",{className:"text-sm text-gray-400",children:new Date(x.timestamp.toDate?x.timestamp.toDate():x.timestamp).toLocaleDateString()})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-xl font-bold text-yellow-400",children:x.score}),m.jsx("div",{className:"text-sm text-gray-400",children:"points"})]})]},A))}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Am,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-400",children:"No games played yet"}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Start playing to see your history!"})]})]}),m.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-purple-500/30",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(CE,{className:"text-purple-400"}),"Achievements"]}),m.jsx("div",{className:"space-y-4",children:b.map(x=>m.jsx("div",{className:`p-4 rounded-lg border transition-all ${x.unlocked?"bg-gradient-to-r from-purple-500/20 to-purple-600/20 border-purple-500/50":"bg-gray-900 border-gray-700"}`,children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`text-2xl ${x.unlocked?"":"grayscale opacity-50"}`,children:x.icon}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:`font-bold ${x.unlocked?"text-purple-400":"text-gray-400"}`,children:x.title}),m.jsx("div",{className:"text-sm text-gray-400 mb-2",children:x.description}),m.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:m.jsx("div",{className:`h-2 rounded-full transition-all ${x.unlocked?"bg-purple-500":"bg-green-500"}`,style:{width:`${x.progress/x.maxProgress*100}%`}})}),m.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[x.progress,"/",x.maxProgress]})]}),x.unlocked&&m.jsx(U_,{className:"w-5 h-5 text-yellow-400"})]})},x.id))})]})]}),m.jsxs("div",{className:"mt-12 bg-gradient-to-r from-gray-800 to-gray-900 p-8 rounded-xl border border-green-500/30",children:[m.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Next Goals"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-green-400 mb-2",children:"Improve Snake Score"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:["Try to beat your best score of ",c.bestSnakeScore]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-pink-400 mb-2",children:"Faster Reactions"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:["Aim for a reaction score above ",c.bestReactionScore+500]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:""}),m.jsx("h4",{className:"font-bold text-yellow-400 mb-2",children:"Unlock Achievements"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[b.filter(x=>!x.unlocked).length," achievements remaining"]})]})]})]})]})},jO=()=>{const[i,e]=re.useState(!1),[n,r]=re.useState(""),[o,c]=re.useState([]),[f,g]=re.useState([]),[y,_]=re.useState(!1),[b,x]=re.useState({game:"",name:"",score:""}),[A,F]=re.useState({title:"",date:"",description:""}),[$,W]=re.useState(null);re.useEffect(()=>{i&&Y()},[i]);const Y=async()=>{_(!0);try{const[w,N]=await Promise.all([V1(),L1()]);c(w),g(N)}catch(w){console.error("Error loading admin data:",w)}finally{_(!1)}},ie=()=>{n===void 0&&(e(!0),r(""))},de=()=>{e(!1),r("")},ce=async()=>{if(!b.game||!b.name||!b.score){alert("Please fill in all fields");return}try{await wO(b.game,b.name,parseInt(b.score)),x({game:"",name:"",score:""}),Y()}catch(w){console.error("Error adding offline score:",w),alert("Error adding score")}},me=async w=>{if(window.confirm("Are you sure you want to delete this score?"))try{await AO(w),Y()}catch(N){console.error("Error deleting offline score:",N),alert("Error deleting score")}},Re=async()=>{if(!A.title||!A.date){alert("Please fill in title and date");return}try{await NO(A),F({title:"",date:"",description:""}),Y()}catch(w){console.error("Error adding event:",w),alert("Error adding event")}},we=async w=>{if(window.confirm("Are you sure you want to delete this event?"))try{await RO(w),Y()}catch(N){console.error("Error deleting event:",N),alert("Error deleting event")}};return i?m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-4xl font-bold",children:"Admin Panel"}),m.jsxs("button",{onClick:de,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all flex items-center gap-2",children:[m.jsx(Nm,{className:"w-4 h-4"}),"Logout"]})]}),y&&m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin"})}),m.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-green-500/30",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(pw,{className:"text-green-400"}),"Add Offline Score"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsx("input",{type:"text",placeholder:"Game Name",value:b.game,onChange:w=>x({...b,game:w.target.value}),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500"}),m.jsx("input",{type:"text",placeholder:"Player Name",value:b.name,onChange:w=>x({...b,name:w.target.value}),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500"}),m.jsx("input",{type:"number",placeholder:"Score",value:b.score,onChange:w=>x({...b,score:w.target.value}),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500"}),m.jsxs("button",{onClick:ce,className:"px-6 py-2 bg-green-500 text-black font-bold rounded-lg hover:bg-green-400 transition-all flex items-center justify-center gap-2",children:[m.jsx(L_,{className:"w-4 h-4"}),"Add Score"]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-bold mb-4",children:"Current Offline Scores:"}),o.map(w=>m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-white",children:w.name}),m.jsx("div",{className:"text-sm text-green-400",children:w.game}),w.timestamp&&m.jsx("div",{className:"text-sm text-gray-400",children:new Date(w.timestamp.toDate?w.timestamp.toDate():w.timestamp).toLocaleDateString()})]}),m.jsx("div",{className:"text-yellow-400 font-bold mr-4",children:w.score}),m.jsx("button",{onClick:()=>me(w.id),className:"p-2 bg-red-500 text-white rounded hover:bg-red-400 transition-all",children:m.jsx(z_,{className:"w-4 h-4"})})]},w.id))]})]}),m.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-blue-500/30",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(Kl,{className:"text-blue-400"}),"Manage Events"]}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsx("input",{type:"text",placeholder:"Event Title",value:A.title,onChange:w=>F({...A,title:w.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500"}),m.jsx("input",{type:"datetime-local",value:A.date,onChange:w=>F({...A,date:w.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white"}),m.jsx("textarea",{placeholder:"Event Description",value:A.description,onChange:w=>F({...A,description:w.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 h-24 resize-none"}),m.jsxs("button",{onClick:Re,className:"w-full px-6 py-2 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-400 transition-all flex items-center justify-center gap-2",children:[m.jsx(L_,{className:"w-4 h-4"}),"Add Event"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h4",{className:"font-bold mb-4",children:"Current Events:"}),f.map(w=>m.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-lg text-white",children:w.title}),m.jsxs("div",{className:"text-sm text-blue-400 mb-2",children:[new Date(w.date).toLocaleDateString()," at ",new Date(w.date).toLocaleTimeString()]}),w.description&&m.jsx("div",{className:"text-sm text-gray-400",children:w.description})]}),m.jsx("button",{onClick:()=>we(w.id),className:"p-2 bg-red-500 text-white rounded hover:bg-red-400 transition-all ml-4",children:m.jsx(z_,{className:"w-4 h-4"})})]},w.id))]})]})]}):m.jsx("div",{className:"max-w-md mx-auto",children:m.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md p-8 rounded-2xl border border-red-500/30",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx(Nm,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Admin Login"}),m.jsx("p",{className:"text-gray-400",children:"Enter admin password to access panel"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"password",placeholder:"Enter admin password",value:n,onChange:w=>r(w.target.value),onKeyPress:w=>w.key==="Enter"&&ie(),className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"}),m.jsxs("button",{onClick:ie,className:"w-full px-6 py-3 bg-red-500 text-white font-bold rounded-lg hover:bg-red-400 transition-all",children:[m.jsx(JS,{className:"w-4 h-4 inline mr-2"}),"Login"]})]})]})})};function VO(){const[i,e]=re.useState(null),[n,r]=re.useState("home");re.useEffect(()=>{const g=localStorage.getItem("recArcadeUser");if(g)try{const y=JSON.parse(g);e(y)}catch(y){console.error("Error parsing saved user data:",y),localStorage.removeItem("recArcadeUser")}},[]);const o=g=>{e(g),localStorage.setItem("recArcadeUser",JSON.stringify(g))},c=()=>{e(null),localStorage.removeItem("recArcadeUser"),r("home")};if(!i)return m.jsx(_O,{onLogin:o});const f=()=>{switch(n){case"home":return m.jsx(RE,{user:i});case"games":return m.jsx(DO,{user:i});case"leaderboard":return m.jsx(OO,{user:i});case"events":return m.jsx(MO,{});case"profile":return m.jsx(kO,{user:i});case"admin":return m.jsx(jO,{});default:return m.jsx(RE,{user:i})}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white",children:[m.jsx(Tw,{activeTab:n,setActiveTab:r,user:i,onLogout:c}),m.jsx("main",{className:"container mx-auto px-6 py-12",children:f()}),m.jsx(xw,{})]})}xS.createRoot(document.getElementById("root")).render(m.jsx(re.StrictMode,{children:m.jsx(VO,{})}));
